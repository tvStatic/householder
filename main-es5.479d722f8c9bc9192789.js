function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _templateObject35(){var e=_taggedTemplateLiteral([":@@ngb.toast.close-aria\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return _templateObject35=function(){return e},e}function _templateObject34(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.AM\u241f69a1f176a93998876952adac57c3bc3863b6105e\u241f4592818992509942761:",":INTERPOLATION:"]);return _templateObject34=function(){return e},e}function _templateObject33(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.PM\u241f8d6e691e10306c1b34c6b26805151aaea320ef7f\u241f3564199131264287502:",":INTERPOLATION:"]);return _templateObject33=function(){return e},e}function _templateObject32(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-seconds\u241f5db47ac104294243a70eb9124fbea9d0004ddf69\u241f753633511487974857:Decrement seconds"]);return _templateObject32=function(){return e},e}function _templateObject31(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.increment-seconds\u241f912322ecee7d659d04dcf494a70e22e49d334b26\u241f5364772110539092174:Increment seconds"]);return _templateObject31=function(){return e},e}function _templateObject30(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.seconds\u241f4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c\u241f8874012390997067175:Seconds"]);return _templateObject30=function(){return e},e}function _templateObject29(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.SS\u241febe38d36a40a2383c5fefa9b4608ffbda08bd4a3\u241f3628127143071124194:SS"]);return _templateObject29=function(){return e},e}function _templateObject28(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-minutes\u241fc1a6899e529c096da5b660385d4e77fe1f7ad271\u241f7447789825403243588:Decrement minutes"]);return _templateObject28=function(){return e},e}function _templateObject27(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.increment-minutes\u241ff5a4a3bc05e053f6732475d0e74875ec01c3a348\u241f180147720391025024:Increment minutes"]);return _templateObject27=function(){return e},e}function _templateObject26(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.decrement-hours\u241f147c7a19429da7d999e247d22e33fee370b1691b\u241f3651829882940481818:Decrement hours"]);return _templateObject26=function(){return e},e}function _templateObject25(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.increment-hours\u241fcb74bc1d625a6c1742f0d7d47306cf495780c218\u241f5939278348542933629:Increment hours"]);return _templateObject25=function(){return e},e}function _templateObject24(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.minutes\u241f41e62daa962947c0d23ded0981975d1bddf0bf38\u241f5531237363767747080:Minutes"]);return _templateObject24=function(){return e},e}function _templateObject23(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.MM\u241f72c8edf6a50068a05bde70991e36b1e881f4ca54\u241f1647282246509919852:MM"]);return _templateObject23=function(){return e},e}function _templateObject22(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.hours\u241f3bbce5fef7e1151da052a4e529453edb340e3912\u241f8070396816726827304:Hours"]);return _templateObject22=function(){return e},e}function _templateObject21(){var e=_taggedTemplateLiteral([":@@ngb.timepicker.HH\u241fce676ab1d6d98f85c836381cf100a4a91ef95a1f\u241f4043638465245303811:HH"]);return _templateObject21=function(){return e},e}function _templateObject20(){var e=_taggedTemplateLiteral([":@@ngb.progressbar.value\u241f04d611d19c117c60c9e14d0a04399a027184bc77\u241f5214781723415385277:",":INTERPOLATION:%"]);return _templateObject20=function(){return e},e}function _templateObject19(){var e=_taggedTemplateLiteral([":@@ngb.pagination.last-aria\u241f5c729788ba138508aca1bec050b610f7bf81db3e\u241f4882268002141858767:Last"]);return _templateObject19=function(){return e},e}function _templateObject18(){var e=_taggedTemplateLiteral([":@@ngb.pagination.next-aria\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]);return _templateObject18=function(){return e},e}function _templateObject17(){var e=_taggedTemplateLiteral([":@@ngb.pagination.previous-aria\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]);return _templateObject17=function(){return e},e}function _templateObject16(){var e=_taggedTemplateLiteral([":@@ngb.pagination.first-aria\u241ff2f852318759c6396b5d3d17031d53817d7b38cc\u241f2241508602425256033:First"]);return _templateObject16=function(){return e},e}function _templateObject15(){var e=_taggedTemplateLiteral([":@@ngb.pagination.last\u241f49f27a460bc97e7e00be5b37098bfa79884fc7d9\u241f5277020320267646988:\xbb\xbb"]);return _templateObject15=function(){return e},e}function _templateObject14(){var e=_taggedTemplateLiteral([":@@ngb.pagination.next\u241fba9cbb4ff311464308a3627e4f1c3345d9fe6d7d\u241f5458177150283468089:\xbb"]);return _templateObject14=function(){return e},e}function _templateObject13(){var e=_taggedTemplateLiteral([":@@ngb.pagination.previous\u241f6e52b6ee77a4848d899dd21b591c6fd499e3aef3\u241f6479320895410098858:\xab"]);return _templateObject13=function(){return e},e}function _templateObject12(){var e=_taggedTemplateLiteral([":@@ngb.pagination.first\u241f656506dfd46380956a655f919f1498d018f75ca0\u241f6867721956102594380:\xab\xab"]);return _templateObject12=function(){return e},e}function _templateObject11(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]);return _templateObject11=function(){return e},e}function _templateObject10(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-year\u241f8ceb09d002bf0c5d1cac171dfbffe1805d2b3962\u241f8852264961585484321:Select year"]);return _templateObject10=function(){return e},e}function _templateObject9(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]);return _templateObject9=function(){return e},e}function _templateObject8(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.select-month\u241f1dbc84807f35518112f62e5775d1daebd3d8462b\u241f2253869508135064750:Select month"]);return _templateObject8=function(){return e},e}function _templateObject7(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]);return _templateObject7=function(){return e},e}function _templateObject6(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.next-month\u241f4bd046985cfe13040d5ef0cd881edce0968a111a\u241f3628374603023447227:Next month"]);return _templateObject6=function(){return e},e}function _templateObject5(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]);return _templateObject5=function(){return e},e}function _templateObject4(){var e=_taggedTemplateLiteral([":@@ngb.datepicker.previous-month\u241fc3b08b07b5ab98e7cdcf18df39355690ab7d3884\u241f8586908745456864217:Previous month"]);return _templateObject4=function(){return e},e}function _templateObject3(){var e=_taggedTemplateLiteral([":@@ngb.carousel.next\u241ff732c304c7433e5a83ffcd862c3dce709a0f4982\u241f3885497195825665706:Next"]);return _templateObject3=function(){return e},e}function _templateObject2(){var e=_taggedTemplateLiteral([":@@ngb.carousel.previous\u241f680d5c75b7fd8d37961083608b9fcdc4167b4c43\u241f4452427314943113135:Previous"]);return _templateObject2=function(){return e},e}function _templateObject(){var e=_taggedTemplateLiteral([":@@ngb.alert.close\u241ff4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8\u241f7819314041543176992:Close"]);return _templateObject=function(){return e},e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _construct(e,t,n){return(_construct=isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+qE3":function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,n,r){var i,o,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=g(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.on=s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,d(this,e,t)),this},s.prototype.off=s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},0:function(e,t,n){e.exports=n("zUnb")},"16OU":function(e,t,n){var r,i,o=n("JYIv"),a=n("zc1T"),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,h=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==h){var d=o();null==f&&(f=r=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=i=16383&(d[6]<<8|d[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=p-s+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(h=h+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=h;var m=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=m>>>24&255,l[c++]=m>>>16&255,l[c++]=m>>>8&255,l[c++]=255&m;var y=p/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=h>>>8|128,l[c++]=255&h;for(var _=0;_<6;++_)l[c+_]=f[_];return t||a(l)}},"3Y9A":function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}return e.call(this,[])}}},"3j3K":function(e,t,n){"use strict";var r,i,o=global.MutationObserver||global.WebKitMutationObserver;if(o){var a=0,s=new o(f),u=global.document.createTextNode("");s.observe(u,{characterData:!0}),r=function(){u.data=a=++a%2}}else if(global.setImmediate||void 0===global.MessageChannel)r="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var e=global.document.createElement("script");e.onreadystatechange=function(){f(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e)}:function(){setTimeout(f,0)};else{var c=new global.MessageChannel;c.port1.onmessage=f,r=function(){c.port2.postMessage(0)}}var l=[];function f(){var e,t;i=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}i=!1}e.exports=function(e){1!==l.push(e)||i||r()}},JYIv:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},aaBP:function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+t[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+t[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+t[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+t[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+t[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+t[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+t[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+t[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+t[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+t[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+t[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+i|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=i+e[2]|0,e[3]=o+e[3]|0}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,i,o,a,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,r(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,n(l,o),l}function a(e){var n,r="";for(n=0;n<4;n+=1)r+=t[e>>8*n+4&15]+t[e>>8*n&15];return r}function s(e){var t;for(t=0;t<e.length;t+=1)e[t]=a(e[t]);return e.join("")}function u(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,n=[],r=e.length;for(t=0;t<r-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function l(){this.reset()}return s(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var r,i,o,a,s=this.byteLength,u=e(t,s),c=s;return void 0!==n&&(c=e(n,s)),u>c?new ArrayBuffer(0):(r=c-u,i=new ArrayBuffer(r),o=new Uint8Array(i),a=new Uint8Array(this,u,r),o.set(a),i)}}(),l.prototype.append=function(e){return this.appendBinary(u(e)),this},l.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)n(this._hash,r(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},l.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r.charCodeAt(t)<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=c(n)),this.reset(),n},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},l.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(e,t){var r,i,o,a=t;if(e[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,e),a=0;a<16;a+=1)e[a]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,e[14]=i,e[15]=o,n(this._hash,e)},l.hash=function(e,t){return l.hashBinary(u(e),t)},l.hashBinary=function(e,t){var n=s(o(e));return t?c(n):n},(l.ArrayBuffer=function(){this.reset()}).prototype.append=function(e){var t,r,o,a,s=(r=this._buff.buffer,o=e,(a=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r)),a.set(new Uint8Array(o),r.byteLength),a),u=s.length;for(this._length+=e.byteLength,t=64;t<=u;t+=64)n(this._hash,i(s.subarray(t-64,t)));return this._buff=t-64<u?new Uint8Array(s.buffer.slice(t-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(e){var t,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)o[t>>2]|=r[t]<<(t%4<<3);return this._finish(o,i),n=s(this._hash),e&&(n=c(n)),this.reset(),n},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var e=l.prototype.getState.call(this);return e.buff=String.fromCharCode.apply(null,new Uint8Array(e.buff)),e},l.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,r=e.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=e.charCodeAt(n);return o}(e.buff),l.prototype.setState.call(this,e)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(e,t){var r=s(function(e){var t,r,o,a,s,u,c=e.length,l=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(l,i(e.subarray(t-64,t)));for(r=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(l,o),t=0;t<16;t+=1)o[t]=0;return a=(a=8*c).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,n(l,o),l}(new Uint8Array(e)));return t?c(r):r},l}()},byjP:function(e,t,n){"use strict";function r(e,t,n){var r=n[n.length-1];e===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(e):o===t.length-2?i[t.pop()]=e:t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,r,i,o,a,s,u,c,l,f="";n=t.pop();)if(r=n.obj,f+=n.prefix||"",i=n.val||"")f+=i;else if("object"!=typeof r)f+=void 0===r?null:JSON.stringify(r);else if(null===r)f+="null";else if(Array.isArray(r)){for(t.push({val:"]"}),o=r.length-1;o>=0;o--)t.push({obj:r[o],prefix:0===o?"":","});t.push({val:"["})}else{for(s in a=[],r)r.hasOwnProperty(s)&&a.push(s);for(t.push({val:"}"}),o=a.length-1;o>=0;o--)c=r[u=a[o]],l=o>0?",":"",l+=JSON.stringify(u)+":",t.push({obj:c,prefix:l});t.push({val:"{"})}return f},t.parse=function(e){for(var t,n,i,o,a,s,u,c,l,f=[],h=[],d=0;;)if("}"!==(t=e[d++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,r(null,f,h);break;case"t":d+=3,r(!0,f,h);break;case"f":d+=4,r(!1,f,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",d--;;){if(i=e[d++],!/[\d\.\-e\+]/.test(i)){d--;break}n+=i}r(parseFloat(n),f,h);break;case'"':for(o="",a=void 0,s=0;'"'!==(u=e[d++])||"\\"===a&&s%2==1;)o+=u,"\\"===(a=u)?s++:s=0;r(JSON.parse('"'+o+'"'),f,h);break;case"[":f.push((c={element:[],index:f.length}).element),h.push(c);break;case"{":f.push((l={element:{},index:f.length}).element),h.push(l);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===f.length)return f.pop();r(f.pop(),f,h)}}},fVBe:function(e,t){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},yBqk:function(e,t,n){var r=n("16OU"),i=n("zXlJ"),o=i;o.v1=r,o.v4=i,e.exports=o},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function a(e){setTimeout((function(){throw e}),0)}var s={closed:!0,next:function(e){},error:function(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;a(e)},complete:function(){}},u=Array.isArray||function(e){return e&&"number"==typeof e.length};function c(e){return null!==e&&"object"==typeof e}var l,f=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),h=((l=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(r(i))try{i.call(this)}catch(p){t=p instanceof f?d(p.errors):[p]}if(u(o))for(var s=-1,l=o.length;++s<l;){var h=o[s];if(c(h))try{h.unsubscribe()}catch(p){t=t||[],p instanceof f?t=t.concat(d(p.errors)):t.push(p)}}if(t)throw new f(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new l),l);function d(e){return e.reduce((function(e,t){return e.concat(t instanceof f?t.errors:t)}),[])}var p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),v=function(e){function t(e,n,r){var i;switch(_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=s;break;case 1:if(!e){i.destination=s;break}if("object"==typeof e){e instanceof t?(i.syncErrorThrowable=e.syncErrorThrowable,i.destination=e,e.add(_assertThisInitialized(i))):(i.syncErrorThrowable=!0,i.destination=new g(_assertThisInitialized(i),e));break}default:i.syncErrorThrowable=!0,i.destination=new g(_assertThisInitialized(i),e,n,r)}return i}return _inherits(t,e),_createClass(t,[{key:p,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(t.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i}}]),t}(h),g=function(e){function t(e,n,i,o){var a,u;_classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parentSubscriber=e;var c=_assertThisInitialized(a);return r(n)?u=n:n&&(u=n.next,i=n.error,o=n.complete,n!==s&&(r((c=Object.create(n)).unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(_assertThisInitialized(a)))),a._context=c,a._next=u,a._error=i,a._complete=o,a}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=o.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):a(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;a(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;a(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(a(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),t}(v),m="function"==typeof Symbol&&Symbol.observable||"@@observable";function y(){}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b(t)}function b(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:y}var k,C=((k=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof v)return e;if(e[p])return e[p]()}return e||t||n?new v(e,t,n):new v(s)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof v?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=w(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:m,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:b(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=w(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new k(e)},k);function w(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var S,x=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),O=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).subject=e,r.subscriber=n,r.closed=!1,r}return _inherits(t,e),_createClass(t,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),t}(h),E=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).destination=e,n}return _inherits(t,e),t}(v),A=((S=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _inherits(t,e),_createClass(t,[{key:p,value:function(){return new E(this)}},{key:"lift",value:function(e){var t=new T(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new x;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new x;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new x;return _get(_getPrototypeOf(t.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new O(this,e))}},{key:"asObservable",value:function(){var e=new C;return e.source=this,e}}]),t}(C)).create=function(e,t){return new T(e,t)},S),T=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).destination=e,r.source=n,r}return _inherits(t,e),_createClass(t,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):h.EMPTY}}]),t}(A);function I(e){return e&&"function"==typeof e.schedule}var R=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),t}(v),P=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};var D="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",j=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function M(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var N=function(e){if(e&&"function"==typeof e[m])return r=e,function(e){var t=r[m]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(j(e))return P(e);if(M(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,a),e};if(e&&"function"==typeof e[D])return t=e,function(e){for(var n=t[D]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,i=c(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(i," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.")};function L(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new R(e,n,r);if(!i.closed)return t instanceof C?t.subscribe(i):N(t)(i)}var V=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),t}(v);function U(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new q(e,t))}}var q=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new F(e,this.project,this.thisArg))}}]),e}(),F=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,i.count=0,i.thisArg=r||_assertThisInitialized(i),i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(v);function B(e,t){return new C((function(n){var r=new h,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function H(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new C((function(n){var r=new h;return r.add(t.schedule((function(){var i=e[m]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(M(e))return function(e,t){return new C((function(n){var r=new h;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(j(e))return B(e,t);if(function(e){return e&&"function"==typeof e[D]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new C((function(n){var r,i=new h;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[D](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof C?e:new C(N(e))}function z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(z((function(n,r){return H(e(n,r)).pipe(U((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new $(e,n))})}var $=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Q(e,this.project,this.concurrent))}}]),e}(),Q=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new R(this,t,n),i=this.destination;i.add(r);var o=L(this,e,void 0,void 0,r);o!==r&&i.add(o)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),t}(V);function G(e){return e}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return z(G,e)}function K(e,t){return t?B(e,t):new C(P(e))}function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,o=t[t.length-1];return I(o)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof C?t[0]:W(r)(K(t,i))}function J(){return function(e){return e.lift(new X(e))}}var Y,X=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new ee(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),ee=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,r}return _inherits(t,e),_createClass(t,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),t}(v),te={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(Y=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new h).add(this.source.subscribe(new ne(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}},{key:"refCount",value:function(){return J()(this)}}]),t}(C).prototype)._subscribe},_isComplete:{value:Y._isComplete,writable:!0},getSubject:{value:Y.getSubject},connect:{value:Y.connect},refCount:{value:Y.refCount}},ne=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).connectable=n,r}return _inherits(t,e),_createClass(t,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),t}(E);function re(){return new A}function ie(){return function(e){return J()((t=re,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,te);return r.source=e,r.subjectFactory=n,r})(e));var t}}function oe(e,t,n){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=_construct(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}var ae=oe("Inject",(function(e){return{token:e}})),se=oe("Optional"),ue=oe("Self"),ce=oe("SkipSelf"),le=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function fe(e){for(var t in e)if(e[t]===fe)return t;throw Error("Could not find renamed property on target object.")}function he(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function de(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pe(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ve(e){return ge(e,e[ye])||ge(e,e[ke])}function ge(e,t){return t&&t.token===e?t:null}function me(e){return e&&(e.hasOwnProperty(_e)||e.hasOwnProperty(Ce))?e[_e]:null}var ye=fe({"\u0275prov":fe}),_e=fe({"\u0275inj":fe}),be=fe({"\u0275provFallback":fe}),ke=fe({ngInjectableDef:fe}),Ce=fe({ngInjectorDef:fe});function we(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(we).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Se(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var xe=fe({__forward_ref__:fe});function Oe(e){return e.__forward_ref__=Oe,e.toString=function(){return we(this())},e}function Ee(e){return Ae(e)?e():e}function Ae(e){return"function"==typeof e&&e.hasOwnProperty(xe)&&e.__forward_ref__===Oe}var Te,Ie="undefined"!=typeof globalThis&&globalThis,Re="undefined"!=typeof window&&window,Pe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,De="undefined"!=typeof global&&global,je=Ie||De||Re||Pe,Me=fe({"\u0275cmp":fe}),Ne=fe({"\u0275dir":fe}),Le=fe({"\u0275pipe":fe}),Ve=fe({"\u0275mod":fe}),Ue=fe({"\u0275loc":fe}),qe=fe({"\u0275fac":fe}),Fe=fe({__NG_ELEMENT_ID__:fe}),Be=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=de({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),He=new Be("INJECTOR",-1),ze={},$e=/\n/gm,Qe=fe({provide:String,useValue:fe}),Ge=void 0;function We(e){var t=Ge;return Ge=e,t}function Ke(e){var t=Te;return Te=e,t}function Ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le.Default;if(void 0===Ge)throw new Error("inject() must be called from an injection context");return null===Ge?Ye(e,void 0,t):Ge.get(e,t&le.Optional?null:void 0,t)}function Je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le.Default;return(Te||Ze)(Ee(e),t)}function Ye(e,t,n){var r=ve(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&le.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(we(e),"]"))}function Xe(e){for(var t=[],n=0;n<e.length;n++){var r=Ee(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=le.Default,a=0;a<r.length;a++){var s=r[a];s instanceof se||"Optional"===s.ngMetadataName||s===se?o|=le.Optional:s instanceof ce||"SkipSelf"===s.ngMetadataName||s===ce?o|=le.SkipSelf:s instanceof ue||"Self"===s.ngMetadataName||s===ue?o|=le.Self:i=s instanceof ae||s===ae?s.token:s}t.push(Je(i,o))}else t.push(Je(r))}return t}var et=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze;if(t===ze){var n=new Error("NullInjectorError: No provider for ".concat(we(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),tt=function e(){_classCallCheck(this,e)},nt=function e(){_classCallCheck(this,e)};function rt(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function it(e,t){e.forEach((function(e){return Array.isArray(e)?it(e,t):t(e)}))}function ot(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function at(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function st(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function ut(e,t,n){var r=lt(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function ct(e,t){var n=lt(e,t);if(n>=0)return e[1|n]}function lt(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var ft=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),ht=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}();function dt(e){return""+{toString:e}}var pt={},vt=[],gt=0;function mt(e){var t=e.type,n=t.prototype,r={},i={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===ft.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||vt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ht.Emulated,id:"c",styles:e.styles||vt,_:null,setInput:null,schemas:e.schemas||null,tView:null};return i._=dt((function(){var t=e.directives,n=e.features,o=e.pipes;i.id+=gt++,i.inputs=Ct(e.inputs,r),i.outputs=Ct(e.outputs),n&&n.forEach((function(e){return e(i)})),i.directiveDefs=t?function(){return("function"==typeof t?t():t).map(yt)}:null,i.pipeDefs=o?function(){return("function"==typeof o?o():o).map(_t)}:null})),i}function yt(e){return St(e)||function(e){return e[Ne]||null}(e)}function _t(e){return function(e){return e[Le]||null}(e)}var bt={};function kt(e){var t={type:e.type,bootstrap:e.bootstrap||vt,declarations:e.declarations||vt,imports:e.imports||vt,exports:e.exports||vt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&dt((function(){bt[e.id]=e.type})),t}function Ct(e,t){if(null==e)return pt;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var wt=mt;function St(e){return e[Me]||null}function xt(e,t){return e.hasOwnProperty(qe)?e[qe]:null}function Ot(e,t){var n=e[Ve]||null;if(!n&&!0===t)throw new Error("Type ".concat(we(e)," does not have '\u0275mod' property."));return n}function Et(e){return Array.isArray(e)&&"object"==typeof e[1]}function At(e){return Array.isArray(e)&&!0===e[1]}function Tt(e){return 0!=(8&e.flags)}function It(e){return 2==(2&e.flags)}function Rt(e){return 1==(1&e.flags)}function Pt(e){return null!==e.template}function Dt(e){return 0!=(512&e[2])}var jt={lFrame:nn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Mt(){return jt.bindingsEnabled}function Nt(){return jt.lFrame.lView}function Lt(){return jt.lFrame.tView}function Vt(e){jt.lFrame.contextLView=e}function Ut(){return jt.lFrame.previousOrParentTNode}function qt(e,t){jt.lFrame.previousOrParentTNode=e,jt.lFrame.isParent=t}function Ft(){return jt.lFrame.isParent}function Bt(){jt.lFrame.isParent=!1}function Ht(){return jt.checkNoChangesMode}function zt(e){jt.checkNoChangesMode=e}function $t(){var e=jt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Qt(){return jt.lFrame.bindingIndex}function Gt(){return jt.lFrame.bindingIndex++}function Wt(e){var t=jt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Kt(e,t){var n=jt.lFrame;n.bindingIndex=n.bindingRootIndex=e,n.currentDirectiveIndex=t}function Zt(){return jt.lFrame.currentQueryIndex}function Jt(e){jt.lFrame.currentQueryIndex=e}function Yt(e,t){var n=tn();jt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}var Xt=rn;function en(e,t){var n=tn(),r=e[1];jt.lFrame=n,n.previousOrParentTNode=t,n.isParent=!0,n.lView=e,n.tView=r,n.selectedIndex=0,n.contextLView=e,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.currentSanitizer=null,n.bindingRootIndex=-1,n.bindingIndex=r.bindingStartIndex,n.currentQueryIndex=0}function tn(){var e=jt.lFrame,t=null===e?null:e.child;return null===t?nn(e):t}function nn(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function rn(){jt.lFrame=jt.lFrame.parent}function on(){return jt.lFrame.selectedIndex}function an(e){jt.lFrame.selectedIndex=e}function sn(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n];i.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,i.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,i.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,i.onDestroy)}}function un(e,t,n){fn(e,t,3,n)}function cn(e,t,n,r){(3&e[2])===n&&fn(e,t,n,r)}function ln(e,t){var n=e[2];(3&n)===t&&(n&=1023,n+=1,e[2]=n)}function fn(e,t,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(hn(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function hn(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[2]>>10<e[18]>>16&&(3&e[2])===t&&(e[2]+=1024,o.call(a)):o.call(a)}var dn=function e(t,n,r){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r},pn=void 0;function vn(e){return!!e.listen}var gn={createRenderer:function(e,t){return void 0!==pn?pn:"undefined"!=typeof document?document:void 0}};function mn(e,t,n){for(var r=vn(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];_n(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function yn(e){return 3===e||4===e||6===e}function _n(e){return 64===e.charCodeAt(0)}function bn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||kn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function kn(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Cn(e){return-1!==e}function wn(e){return 32767&e}function Sn(e){return e>>16}function xn(e,t){for(var n=Sn(e),r=t;n>0;)r=r[15],n--;return r}function On(e){return"string"==typeof e?e:null==e?"":""+e}function En(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():On(e)}var An=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(je);function Tn(e){return e instanceof Function?e():e}var In=!0;function Rn(e){var t=In;return In=e,t}var Pn=0;function Dn(e,t){var n=Mn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,jn(r.data,e),jn(t,null),jn(r.blueprint,null));var i=Nn(e,t),o=e.injectorIndex;if(Cn(i))for(var a=wn(i),s=xn(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function jn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Mn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Nn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],r=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function Ln(e,t,n){!function(e,t,n){var r="string"!=typeof n?n[Fe]:n.charCodeAt(0)||0;null==r&&(r=n[Fe]=Pn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=t.data;128&i?a?s?u[e+7]|=o:u[e+6]|=o:s?u[e+5]|=o:u[e+4]|=o:a?s?u[e+3]|=o:u[e+2]|=o:s?u[e+1]|=o:u[e]|=o}(e,t,n)}function Vn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:le.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[Fe];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof o){Yt(t,e);try{var a=o();if(null!=a||r&le.Optional)return a;throw new Error("No provider for ".concat(En(n),"!"))}finally{Xt()}}else if("number"==typeof o){if(-1===o)return new $n(e,t);var s=null,u=Mn(e,t),c=-1,l=r&le.Host?t[16][6]:null;for((-1===u||r&le.SkipSelf)&&(c=-1===u?Nn(e,t):t[u+8],zn(r,!1)?(s=t[1],u=wn(c),t=xn(c,t)):u=-1);-1!==u;){c=t[u+8];var f=t[1];if(Hn(o,u,f.data)){var h=qn(u,t,n,s,r,l);if(h!==Un)return h}zn(r,t[1].data[u+8]===l)&&Hn(o,u,t)?(s=f,u=wn(c),t=xn(c,t)):u=-1}}}if(r&le.Optional&&void 0===i&&(i=null),0==(r&(le.Self|le.Host))){var d=t[9],p=Ke(void 0);try{return d?d.get(n,i,r&le.Optional):Ye(n,i,r&le.Optional)}finally{Ke(p)}}if(r&le.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(En(n),"]"))}var Un={};function qn(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=Fn(s,a,n,null==r?It(s)&&In:r!=a&&3===s.type,i&le.Host&&o===s);return null!==u?Bn(t,a,u,s):Un}function Fn(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=65535&o,u=e.directiveStart,c=o>>16,l=i?s+c:e.directiveEnd,f=r?s:s+c;f<l;f++){var h=a[f];if(f<u&&n===h||f>=u&&h.type===n)return f}if(i){var d=a[u];if(d&&Pt(d)&&d.type===n)return u}return null}function Bn(e,t,n,r){var i=e[n],o=t.data;if(i instanceof dn){var a=i;if(a.resolving)throw new Error("Circular dep for ".concat(En(o[n])));var s,u=Rn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=Ke(a.injectImpl)),Yt(e,r);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.onChanges,i=t.onInit,o=t.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{a.injectImpl&&Ke(s),Rn(u),a.resolving=!1,Xt()}}return i}function Hn(e,t,n){var r=64&e,i=32&e;return!!((128&e?r?i?n[t+7]:n[t+6]:i?n[t+5]:n[t+4]:r?i?n[t+3]:n[t+2]:i?n[t+1]:n[t])&1<<e)}function zn(e,t){return!(e&le.Self||e&le.Host&&t)}var $n=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return Vn(this._tNode,this._lView,e,void 0,t)}}]),e}();function Qn(e){var t=Object.getPrototypeOf(e.prototype).constructor,n=t[qe]||function e(t){var n=t;if(Ae(t))return function(){var t=e(Ee(n));return t?t():null};var r=xt(n);if(null===r){var i=me(n);r=i&&i.factory}return r||null}(t);return null!==n?n:function(e){return new e}}function Gn(e){return e.ngDebugContext}function Wn(e){return e.ngOriginalError}function Kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Zn=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Kn}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Gn(e)?Gn(e):this._findContext(Wn(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Wn(e);t&&Wn(t);)t=Wn(t);return t}}]),e}(),Jn=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see http://g.co/ng/security#xss)"}}]),e}();function Yn(e){return e instanceof Jn?e.changingThisBreaksApplicationSecurity:e}var Xn=!0,er=!1;function tr(){return er=!0,Xn}var nr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,ir=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}();function or(e){var t,n,r=(t=Nt())&&t[12];return r?r.sanitize(ir.URL,e)||"":function(e,t){var n=function(e){return e instanceof Jn&&e.getTypeName()||null}(e);if(null!=n&&"URL"!==n){if("ResourceURL"===n)return!0;throw new Error("Required a safe ".concat("URL",", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return"URL"===n}(e)?Yn(e):(n=On(e),(n=String(n)).match(nr)||n.match(rr)?n:(tr()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(n," (see http://g.co/ng/security#xss)")),"unsafe:"+n))}function ar(e){for(;Array.isArray(e);)e=e[0];return e}function sr(e,t){return ar(t[e+19])}function ur(e,t){return ar(t[e.index])}function cr(e,t){return e.data[t+19]}function lr(e,t){return e[t+19]}function fr(e,t){var n=t[e];return Et(n)?n:n[0]}function hr(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function dr(e){return 4==(4&e[2])}function pr(e){return 128==(128&e[2])}function vr(e,t){return null===e||null==t?null:e[t]}function gr(e){e[18]=0}function mr(e,t){e.__ngContext__=t}function yr(e){throw new Error("Multiple components match node with tagname ".concat(e.tagName))}function _r(){throw new Error("Cannot mix multi providers and regular providers")}function br(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function kr(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==br((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Cr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function wr(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(yn(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Cr(e,u,n)||""===u&&1===t.length){if(Sr(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!kr(e.attrs,c,n)){if(Sr(r))return!1;a=!0}continue}var l=xr(8&r?"class":u,i,0==e.type&&"ng-template"!==e.tagName,n);if(-1===l){if(Sr(r))return!1;a=!0;continue}if(""!==c){var f;f=l>o?"":i[l+1].toLowerCase();var h=8&r?f:null;if(h&&-1!==br(h,c,0)||2&r&&c!==f){if(Sr(r))return!1;a=!0}}}}else{if(!a&&!Sr(r)&&!Sr(u))return!1;if(a&&Sr(u))continue;a=!1,r=u|1&r}}return Sr(r)||a}function Sr(e){return 0==(1&e)}function xr(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){if(e[n]===t)return n;n++}return-1}(t,e)}function Or(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(wr(e,t[r],n))return!0;return!1}function Er(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Ar(e,t){return e?":not("+t.trim()+")":t}function Tr(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Sr(a)||(t+=Ar(o,i),i=""),r=a,o=o||!Sr(r);n++}return""!==i&&(t+=Ar(o,i)),t}var Ir={};function Rr(e){var t=e[3];return At(t)?t[3]:t}function Pr(e){Dr(Lt(),Nt(),on()+e,Ht())}function Dr(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&un(t,i,n)}else{var o=e.preOrderHooks;null!==o&&cn(t,o,0,n)}an(n)}function jr(e,t){return e<<17|t<<2}function Mr(e){return e>>17&32767}function Nr(e){return 2|e}function Lr(e){return(131068&e)>>2}function Vr(e,t){return-131069&e|t<<2}function Ur(e){return 1|e}function qr(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=e.data[o];Jt(i),a.contentQueries(2,t[o],o)}}}function Fr(e,t,n){return vn(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Br(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,gr(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Hr(e,t,n,r,i,o){var a=n+19,s=e.data[a]||function(e,t,n,r,i,o){var a=Ut(),s=Ft(),u=s?a:a&&a.parent,c=e.data[n]=Yr(0,u&&u!==t?u:null,r,n,i,o);return null===e.firstChild&&(e.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(e,t,a,r,i,o);return qt(s,!0),s}function zr(e,t,n){en(t,t[6]);try{var r=e.viewQuery;null!==r&&Ci(1,r,n);var i=e.template;null!==i&&Gr(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&qr(e,t),e.staticViewQueries&&Ci(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)mi(e,t[n])}(t,o)}finally{t[2]&=-5,rn()}}function $r(e,t,n,r){var i=t[2];if(256!=(256&i)){en(t,t[6]);var o=Ht();try{gr(t),jt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Gr(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&un(t,s,null)}else{var u=e.preOrderHooks;null!==u&&cn(t,u,0,null),ln(t,0)}if(function(e){for(var t=e[13];null!==t;){var n=void 0;if(At(t)&&(n=t[2])>>1==-1){for(var r=9;r<t.length;r++){var i=t[r],o=i[1];pr(i)&&$r(o,i,o.template,i[8])}0!=(1&n)&&vi(t,e[16])}t=t[4]}}(t),null!==e.contentQueries&&qr(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&un(t,c)}else{var l=e.contentHooks;null!==l&&cn(t,l,1),ln(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var r=e.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(an(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(Kt(r,i),a(2,t[i])),i++)}}finally{an(-1)}}(e,t);var f=e.components;null!==f&&function(e,t){for(var n=0;n<t.length;n++)gi(e,t[n])}(t,f);var h=e.viewQuery;if(null!==h&&Ci(2,h,r),!o)if(a){var d=e.viewCheckHooks;null!==d&&un(t,d)}else{var p=e.viewHooks;null!==p&&cn(t,p,2),ln(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73)}finally{rn()}}}function Qr(e,t,n,r){var i=t[10],o=!Ht(),a=dr(t);try{o&&!a&&i.begin&&i.begin(),a&&zr(e,t,r),$r(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function Gr(e,t,n,r,i){var o=on();try{an(-1),2&r&&t.length>19&&Dr(e,t,0,Ht()),n(r,i)}finally{an(o)}}function Wr(e,t,n){Mt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Dn(n,t),mr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=Pt(u);c&&li(t,n,u);var l=Bn(t,e,s,n);mr(l,t),null!==a&&hi(0,s-i,l,u,0,a),c&&(fr(n.index,t)[8]=l)}}(e,t,n,ur(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=e.expandoInstructions,a=e.firstCreatePass,s=n.index-19;try{an(s);for(var u=r;u<i;u++){var c=e.data[u],l=t[u];null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?ii(c,l):a&&o.push(null)}}finally{an(-1)}}(e,t,n))}function Kr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ur,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function Zr(e){return e.tView||(e.tView=Jr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts))}function Jr(e,t,n,r,i,o,a,s,u,c){var l=19+r,f=l+i,h=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Ir);return n}(l,f);return h[1]={type:e,id:t,blueprint:h,template:n,queries:null,viewQuery:s,node:null,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:f,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c}}function Yr(e,t,n,r,i,o){return{type:n,index:r,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xr(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ei(e,t,n,r,i,o,a,s){var u,c,l=sr(n,t),f=cr(e,n),h=f.inputs;if(!a&&null!=h&&(u=h[r]))Ei(e,t,u,r,i),It(f)&&function(e,t){var n=fr(t,e);16&n[2]||(n[2]|=64)}(t,n+19);else if(3===f.type){r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c;var d=s?s(f,t):t[11];i=null!=o?o(i,f.tagName||"",r):i,vn(d)?d.setProperty(l,r,i):_n(r)||(l.setProperty?l.setProperty(r,i):l[r]=i)}}function ti(e,t,n,r){var i=!1;if(Mt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Or(n,a.selectors,!1)&&(i||(i=[]),Ln(Dn(n,t),e,a.type),Pt(a)?(2&n.flags&&yr(n),ai(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,ui(n,e.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}oi(e,n,o.length);for(var l=!1,f=!1,h=0;h<o.length;h++){var d=o[h];n.mergedAttrs=bn(n.mergedAttrs,d.hostAttrs),ci(e,t,d),si(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-19),l=!0),f||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-19),f=!0),ni(e,d),s+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs;o.push(null!==i?di(l,i):null),a=Xr(l,u,a),s=Xr(c.outputs,u,s)}null!==a&&((a.hasOwnProperty("class")||a.hasOwnProperty("className"))&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n),ri(e,t,s)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Error("Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=bn(n.mergedAttrs,n.attrs),i}function ni(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function ri(e,t,n){for(var r=0;r<n;r++)t.push(Ir),e.blueprint.push(Ir),e.data.push(null)}function ii(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function oi(e,t,n){var r=19-t.index,i=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(r,i,n)}function ai(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function si(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Pt(t)&&(n[""]=e)}}function ui(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function ci(e,t,n){e.data.push(n);var r=n.factory||(n.factory=xt(n.type)),i=new dn(r,Pt(n),null);e.blueprint.push(i),t.push(i)}function li(e,t,n){var r=ur(t,e),i=Zr(n),o=e[10],a=yi(e,Br(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n)));e[t.index]=a}function fi(e,t,n,r,i,o,a){var s=sr(e,i),u=i[11];if(null==n)vn(u)?u.removeAttribute(s,t,a):s.removeAttribute(t);else{var c=cr(r,e),l=null==o?On(n):o(n,c.tagName||"",t);vn(u)?u.setAttribute(s,t,l,a):a?s.setAttributeNS(a,t,l):s.setAttribute(t,l)}}function hi(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],f=a[u++];null!==s?r.setInput(n,f,c,l):n[l]=f}}function di(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function pi(e,t,n,r){return new Array(e,!0,-2,t,null,null,r,n,null)}function vi(e,t){for(var n=e[5],r=0;r<n.length;r++){var i=n[r],o=i[3][3][16];if(o!==t&&0==(16&o[2])){var a=i[1];$r(a,i,a.template,i[8])}}}function gi(e,t){var n=fr(t,e);if(pr(n)&&80&n[2]){var r=n[1];$r(r,n,r.template,n[8])}}function mi(e,t){var n=fr(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),zr(r,n,n[8])}function yi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function _i(e){for(;e;){e[2]|=64;var t=Rr(e);if(Dt(e)&&!t)return e;e=t}return null}function bi(e,t,n){var r=t[10];r.begin&&r.begin();try{$r(e,t,e.template,n)}catch(i){throw Oi(t,i),i}finally{r.end&&r.end()}}function ki(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=hr(n),i=r[1];Qr(i,r,i.template,n)}}(e[8])}function Ci(e,t,n){Jt(0),t(e,n)}var wi=Promise.resolve(null);function Si(e){return e[7]||(e[7]=[])}function xi(e){return e.cleanup||(e.cleanup=[])}function Oi(e,t){var n=e[9],r=n?n.get(Zn,null):null;r&&r.handleError(t)}function Ei(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Ai(e,t,n){var r=sr(t,e),i=e[11];vn(i)?i.setValue(r,n):r.textContent=n}function Ti(e,t){var n=t[3];return-1===e.index?At(n)?n:null:n}function Ii(e,t){var n=Ti(e,t);return n?Bi(t[11],n[7]):null}function Ri(e,t,n,r,i){if(null!=r){var o,a=!1;At(r)?o=r:Et(r)&&(a=!0,r=r[0]);var s=ar(r);0===e&&null!==n?null==i?qi(t,n,s):Ui(t,n,s,i||null):1===e&&null!==n?Ui(t,n,s,i||null):2===e?function(e,t,n){var r=Bi(e,t);r&&function(e,t,n,r){vn(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==ar(n)&&Ri(t,e,r,o,i);for(var a=9;a<n.length;a++){var s=n[a];Gi(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function Pi(e,t,n,r){var i=Ii(e.node,t);i&&Gi(e,t,t[11],n?1:2,i,r)}function Di(e,t){var n=e[5],r=n.indexOf(t);n.splice(r,1)}function ji(e,t){if(!(e.length<=9)){var n=9+t,r=e[n];if(r){var i=r[17];null!==i&&i!==e&&Di(i,r),t>0&&(e[n-1][4]=r[4]);var o=at(e,9+t);Pi(r[1],r,!1,null);var a=o[5];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Mi(e,t){if(!(256&t[2])){var n=t[11];vn(n)&&n.destroyNode&&Gi(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Li(e[1],e);for(;t;){var n=null;if(Et(t))n=t[13];else{var r=t[9];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)Et(t)&&Li(t[1],t),t=Ni(t,e);null===t&&(t=e),Et(t)&&Li(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ni(e,t){var n;return Et(e)&&(n=e[6])&&2===n.type?Ti(n,e):e[3]===t?null:e[3]}function Li(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];i instanceof dn||n[r+1].call(i)}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var r=t[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(t):ar(t[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&vn(t[11])&&t[11].destroy();var r=t[17];if(null!==r&&At(t[3])){r!==t[3]&&Di(r,t);var i=t[5];null!==i&&i.detachView(e)}}}function Vi(e,t,n){for(var r=t.parent;null!=r&&(4===r.type||5===r.type);)r=(t=r).parent;if(null==r){var i=n[6];return 2===i.type?Ii(i,n):n[0]}if(t&&5===t.type&&4&t.flags)return ur(t,n).parentNode;if(2&r.flags){var o=e.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==ht.ShadowDom&&a!==ht.Native)return null}return ur(r,n)}function Ui(e,t,n,r){vn(e)?e.insertBefore(t,n,r):t.insertBefore(n,r,!0)}function qi(e,t,n){vn(e)?e.appendChild(t,n):t.appendChild(n)}function Fi(e,t,n,r){null!==r?Ui(e,t,n,r):qi(e,t,n)}function Bi(e,t){return vn(e)?e.parentNode(t):t.parentNode}function Hi(e,t){if(2===e.type){var n=Ti(e,t);return null===n?null:$i(n.indexOf(t,9)-9,n)}return 4===e.type||5===e.type?ur(e,t):null}function zi(e,t,n,r){var i=Vi(e,r,t);if(null!=i){var o=t[11],a=Hi(r.parent||t[6],t);if(Array.isArray(n))for(var s=0;s<n.length;s++)Fi(o,i,n[s],a);else Fi(o,i,n,a)}}function $i(e,t){var n=9+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){var r=n.type;if(3===r)return ur(n,t);if(0===r)return $i(-1,t[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return e(t,i);var o=t[n.index];return At(o)?$i(-1,o):ar(o)}var a=t[16],s=a[6],u=Rr(a),c=s.projection[n.projection];return null!=c?e(u,c):e(t,n.next)}return null}(r,i)}return t[7]}function Qi(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===t&&(s&&mr(ar(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Qi(e,t,n.child,r,i,o,!1),Ri(t,e,i,s,o)):1===u?Wi(e,t,r,n,i,o):Ri(t,e,i,s,o)),n=a?n.projectionNext:n.next}}function Gi(e,t,n,r,i,o){Qi(n,r,e.node.child,t,i,o,!1)}function Wi(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Ri(t,e,i,s[u],o);else Qi(e,t,s,a[3],i,o,!0)}function Ki(e,t,n){vn(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Zi(e,t,n){vn(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Ji,Yi,Xi,eo=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return _createClass(e,[{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Mi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,r;t=this._lView[1],r=e,Si(n=this._lView).push(r),t.firstCreatePass&&xi(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){_i(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){bi(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){zt(!0);try{bi(e,t,n)}finally{zt(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Gi(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(ar(a)),At(a))for(var s=9;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&e(u[1],u,c,i)}var l=r.type;if(4===l||5===l)e(t,n,r.child,i);else if(1===l){var f=n[16],h=f[6],d=Rr(f),p=h.projection[r.projection];null!==p&&null!==d&&e(d[1],d,p,i,!0)}r=o?r.projectionNext:r.next}return i}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}}]),e}(),to=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._view=e,n}return _inherits(t,e),_createClass(t,[{key:"detectChanges",value:function(){ki(this._view)}},{key:"checkNoChanges",value:function(){!function(e){zt(!0);try{ki(e)}finally{zt(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),t}(eo);function no(e,t,n){return Ji||(Ji=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),t}(e)),new Ji(ur(t,n))}function ro(e,t,n,r){return Yi||(Yi=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._declarationView=e,i._declarationTContainer=n,i.elementRef=r,i}return _inherits(t,e),_createClass(t,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Br(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(t)),zr(t,n,e);var i=new eo(n);return i._tViewNode=n[6],i}}]),t}(e)),0===n.type?new Yi(r,n,no(t,n,r)):null}function io(e,t,n,r){var i;Xi||(Xi=function(e){function n(e,t,r){var i;return _classCallCheck(this,n),(i=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this)))._lContainer=e,i._hostTNode=t,i._hostView=r,i}return _inherits(n,e),_createClass(n,[{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(tt,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),At(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new Xi(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t);return function(e,t,n,r){var i=9+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-9?(t[4]=n[i],ot(n,9+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[5],r=t[3][3][16];16!=(16&r[2])&&t[16]!==r&&(e[2]|=1),null===n?e[5]=[t]:n.push(t)}(a,t);var s=t[5];null!==s&&s.insertView(e),t[2]|=128}(r,n,this._lContainer,s),Pi(r,n,!0,$i(s,this._lContainer)),e.attachToViewContainerRef(this),ot(this._lContainer[8],s,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);(function(e,t){var n=ji(e,t);n&&Mi(n[1],n)})(this._lContainer,t),at(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=ji(this._lContainer,t);return n&&null!=at(this._lContainer[8],t)?new eo(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}},{key:"element",get:function(){return no(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new $n(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=Nn(this._hostTNode,this._hostView),t=xn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Sn(e),a=t,s=t[6];o>1;)s=(a=a[15])[6],o--;return s}(e,this._hostView,this._hostTNode);return Cn(e)&&null!=n?new $n(n,t):new $n(null,this._hostView)}},{key:"length",get:function(){return this._lContainer.length-9}}]),n}(e));var o=r[n.index];if(At(o))(function(e,t){e[2]=-2})(i=o);else{var a;if(4===n.type)a=ar(o);else if(a=r[11].createComment(""),Dt(r)){var s=r[11],u=ur(n,r);Ui(s,Bi(s,u),a,function(e,t){return vn(e)?e.nextSibling(t):t.nextSibling}(s,u))}else zi(r[1],r,a,n);r[n.index]=i=pi(o,r,a,n),yi(r,i)}return new Xi(i,n,r)}var oo=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ao()},e}(),ao=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&It(e)){var r=fr(e.index,t);return new eo(r,r)}return 3===e.type||0===e.type||4===e.type||5===e.type?new eo(t[16],t):null}(Ut(),Nt(),e)},so=new Be("Set Injector scope."),uo={},co={},lo=[],fo=void 0;function ho(){return void 0===fo&&(fo=new et),fo}function po(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return t=t||ho(),new vo(e,n,t,r)}var vo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&it(n,(function(e){return i.processProvider(e,t,n)})),it([t],(function(e){return i.processInjectorType(e,[],a)})),this.records.set(He,yo(void 0,this));var s=this.records.get(so);this.scope=null!=s?s.value:null,this.injectorDefTypes.forEach((function(e){return i.get(e)})),this.source=o||("object"==typeof t?null:we(t))}return _createClass(e,[{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ze,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le.Default;this.assertNotDestroyed();var r,i=We(this);try{if(!(n&le.SkipSelf)){var o=this.records.get(e);if(void 0===o){var a=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Be)&&ve(e);o=a&&this.injectableDefInScope(a)?yo(go(e),uo):null,this.records.set(e,o)}if(null!=o)return this.hydrate(e,o)}return(n&le.Self?ho():this.parent).get(e,t=n&le.Optional&&t===ze?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(we(e)),i)throw s;return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=we(t);if(Array.isArray(t))i=t.map(we).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):we(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace($e,"\n  "))}("\n"+e.message,i,"R3InjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,0,this.source)}throw s}finally{We(i)}}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(we(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Ee(e)))return!1;var i=me(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=me(o)),null==i)return!1;if(this.injectorDefTypes.add(a),this.records.set(a,yo(i.factory,uo)),null!=i.imports&&!s){var u;n.push(a);try{it(i.imports,(function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))}))}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;it(i,(function(e){return r.processProvider(e,n,i||lo)}))},l=0;l<u.length;l++)c(l)}var f=i.providers;if(null!=f&&!s){var h=e;it(f,(function(e){return r.processProvider(e,h,f)}))}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=bo(e=Ee(e))?e:Ee(e&&e.provide),i=function(e,t,n){return _o(e)?yo(void 0,e.useValue):yo(mo(e,t,n),uo)}(e,t,n);if(bo(e)||!0!==e.multi){var o=this.records.get(r);o&&void 0!==o.multi&&_r()}else{var a=this.records.get(r);a?void 0===a.multi&&_r():((a=yo(void 0,uo,!0)).factory=function(){return Xe(a.multi)},this.records.set(r,a)),r=e,a.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===co?function(e){throw new Error("Cannot instantiate cyclic dependency! ".concat(e))}(we(e)):t.value===uo&&(t.value=co,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function go(e){var t=ve(e),n=null!==t?t.factory:xt(e);if(null!==n)return n;var r=me(e);if(null!==r)return r.factory;if(e instanceof Be)throw new Error("Token ".concat(we(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=st(t,"?");throw new Error("Can't resolve all parameters for ".concat(we(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[ye]||e[ke]||e[be]&&e[be]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in v10. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function mo(e,t,n){var r,i=void 0;if(bo(e))return go(Ee(e));if(_o(e))i=function(){return Ee(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,_toConsumableArray(Xe(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Je(Ee(e.useExisting))};else{var o=Ee(e&&(e.useClass||e.provide));if(o||function(e,t,n){var r="";throw e&&t&&(r=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(we(e),"'")+r)}(t,n,e),!function(e){return!!e.deps}(e))return go(o);i=function(){return _construct(o,_toConsumableArray(Xe(e.deps)))}}return i}function yo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function _o(e){return null!==e&&"object"==typeof e&&Qe in e}function bo(e){return"function"==typeof e}var ko=function(e,t,n){return po({name:n},t,e,n)},Co=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?ko(e,t,""):ko(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=ze,e.NULL=new et,e.\u0275prov=de({token:e,providedIn:"any",factory:function(){return Je(He)}}),e.__NG_ELEMENT_ID__=-1,e}(),wo=new Be("AnalyzeForEntryComponents"),So=new Map,xo=new Set;function Oo(e){return"string"==typeof e?e:e.text()}function Eo(e,t){for(var n=e.styles,r=e.classes,i=0,o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:1==i?r=Se(r,a):2==i&&(n=Se(n,a+": "+t[++o]+";"))}null!==n&&(e.styles=n),null!==r&&(e.classes=r)}var Ao=null;function To(){if(!Ao){var e=je.Symbol;if(e&&e.iterator)Ao=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ao=r)}}return Ao}function Io(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Ro=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Po(e){return!!Do(e)&&(Array.isArray(e)||!(e instanceof Map)&&To()in e)}function Do(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function jo(e,t,n){return e[t]=n}function Mo(e,t){return e[t]}function No(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Lo(e,t,n,r){var i=No(e,t,n);return No(e,t+1,r)||i}function Vo(e,t,n,r,i){var o=Lo(e,t,n,r);return No(e,t+2,i)||o}function Uo(e,t,n,r){var i=Nt();return No(i,Gt(),t)&&fi(on(),e,t,Lt(),i,n,r),Uo}function qo(e,t,n,r,i,o,a,s){var u=Nt(),c=Lt(),l=e+19,f=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=Hr(t,n[6],e,0,a||null,vr(c,s));ti(t,n,l,vr(c,u)),sn(t,l);var f=l.tViews=Jr(2,-1,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),h=Yr(0,null,2,-1,null,null);return h.injectorIndex=l.injectorIndex,f.node=h,null!==t.queries&&(t.queries.template(t,l),f.queries=t.queries.embeddedTView(l)),l}(e,c,u,t,n,r,i,o,a):c.data[l];qt(f,!1);var h=u[11].createComment("");zi(c,u,h,f),mr(h,u),yi(u,u[l]=pi(h,u,h,f)),Rt(f)&&Wr(c,u,f),null!=a&&Kr(u,f,s)}function Fo(e){return lr(jt.lFrame.contextLView,e)}function Bo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le.Default,n=Nt();return null==n?Je(e,t):Vn(Ut(),n,Ee(e),t)}function Ho(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(yn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(Ut(),e)}function zo(){throw new Error("invalid")}function $o(e,t,n){var r=Nt();if(No(r,Gt(),t)){var i=on();ei(Lt(),r,i,e,t,n)}return $o}function Qo(e,t,n,r,i){var o=t.inputs,a=i?"class":"style";Ei(e,n,o[a]||i&&o.className,a,r)}function Go(e,t,n,r){var i=Nt(),o=Lt(),a=19+e,s=i[11],u=i[a]=Fr(t,s,jt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=vr(s,o),c=Hr(t,n[6],e,3,i,u);return ti(t,n,c,vr(s,a)),null!==c.mergedAttrs&&Eo(c,c.mergedAttrs),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,i,0,t,n,r):o.data[a];qt(c,!0);var l=c.mergedAttrs;null!==l&&mn(s,u,l);var f=c.classes;null!==f&&Zi(s,u,f);var h=c.styles;null!==h&&Ki(s,u,h),zi(o,i,u,c),0===jt.lFrame.elementDepthCount&&mr(u,i),jt.lFrame.elementDepthCount++,Rt(c)&&(Wr(o,i,c),function(e,t,n){if(Tt(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Kr(i,c)}function Wo(){var e=Ut();Ft()?Bt():qt(e=e.parent,!1);var t=e;jt.lFrame.elementDepthCount--;var n=Lt();n.firstCreatePass&&(sn(n,e),Tt(e)&&n.queries.elementEnd(e)),null!==t.classes&&function(e){return 0!=(16&e.flags)}(t)&&Qo(n,t,Nt(),t.classes,!0),null!==t.styles&&function(e){return 0!=(32&e.flags)}(t)&&Qo(n,t,Nt(),t.styles,!1)}function Ko(e,t,n,r){Go(e,t,n,r),Wo()}function Zo(){return Nt()}function Jo(e){return!!e&&"function"==typeof e.then}function Yo(e){return!!e&&"function"==typeof e.subscribe}function Xo(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Nt(),o=Lt(),a=Ut();return function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Rt(r),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),l=Si(t),f=!0;if(3===r.type){var h=ur(r,t),d=s?s(h):pt,p=d.target||h,v=l.length,g=s?function(e){return s(ar(e[r.index])).target}:r.index;if(vn(n)){var m=null;if(!s&&u&&(m=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,f=!1;else{o=ta(r,t,o,!1);var y=n.listen(d.name||p,i,o);l.push(o,y),c&&c.push(i,g,v,v+1)}}else o=ta(r,t,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,g,v,a)}var _,b=r.outputs;if(f&&null!==b&&(_=b[i])){var k=_.length;if(k)for(var C=0;C<k;C+=2){var w=t[_[C]][_[C+1]].subscribe(o),S=l.length;l.push(o,w),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],a,e,t,n,r),Xo}function ea(e,t,n){try{return!1!==t(n)}catch(r){return Oi(e,r),!1}}function ta(e,t,n,r){return function i(o){if(o===Function)return n;var a=2&e.flags?fr(e.index,t):t;0==(32&t[2])&&_i(a);for(var s=ea(t,n,o),u=i.__ngNextListenerFn__;u;)s=ea(t,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(jt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,jt.lFrame.contextLView))[8]}(e)}function ra(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?Or(e,o,!0):Er(r,o))return i}else n=i}return n}function ia(e){var t=Nt()[16][6];if(!t.projection)for(var n=t.projection=st(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?ra(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function oa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Nt(),i=Lt(),o=Hr(i,r[6],e,1,null,n||null);null===o.projection&&(o.projection=t),Bt(),function(e,t,n){Wi(t[11],0,t,n,Vi(e,n,t),Hi(n.parent||t[6],t))}(i,r,o)}var aa=[];function sa(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Mr(o):Lr(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];ua(e[s],t)&&(u=!0,e[s+1]=r?Ur(c):Nr(c)),s=r?Mr(c):Lr(c)}u&&(e[n+1]=r?Nr(o):Ur(o))}function ua(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&lt(e,t)>=0}var ca={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function la(e){return e.substring(ca.key,ca.keyEnd)}function fa(e,t){var n=ca.textEnd;return n===t?-1:(t=ca.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ca.key=t,n),ha(e,t,n))}function ha(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function da(e,t){return function(e,t,n,r){var i,o,a=Nt(),s=Lt(),u=Wt(2);(s.firstUpdatePass&&ma(s,e,u,!0),t!==Ir&&No(a,u,t))&&(null==n&&(i=null===(o=jt.lFrame)?null:o.currentSanitizer)&&(n=i),ba(s,s.data[on()+19],a,a[11],e,a[u+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=we(Yn(e)))),e}(t,n),!0,u))}(e,t,null),da}function pa(e){!function(e,t,n,r){var i=Lt(),o=Wt(2);i.firstUpdatePass&&ma(i,null,o,!0);var a=Nt();if(n!==Ir&&No(a,o,n)){var s=i.data[on()+19];if(wa(s,!0)&&!ga(i,o)){var u=s.classes;"string"==typeof n&&(n=Se(u,n)),Qo(i,s,a,n,!0)}else!function(e,t,n,r,i,o,a,s){i===Ir&&(i=aa);for(var u=0,c=0,l=0<i.length?i[0]:null,f=0<o.length?o[0]:null;null!==l||null!==f;){var h=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===f?(u+=2,c+=2,h!==d&&(p=f,v=d)):null===f||null!==l&&l<f?(u+=2,p=l):(c+=2,p=f,v=d),null!==p&&ba(e,t,n,r,p,v,!0,s),l=u<i.length?i[u]:null,f=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return aa;var r=[];if(Array.isArray(n))for(var i=0;i<n.length;i++)e(r,n[i],!0);else if("object"==typeof n)if(n instanceof Map)n.forEach((function(t,n){return e(r,n,t)}));else if(n instanceof Set)n.forEach((function(t){return e(r,t,!0)}));else for(var o in n)n.hasOwnProperty(o)&&e(r,o,n[o]);else"string"==typeof n&&t(r,n);return r}(e,t,n),0,o)}}(ut,va,e)}function va(e,t){for(var n=function(e){return function(e){ca.key=0,ca.keyEnd=0,ca.value=0,ca.valueEnd=0,ca.textEnd=e.length}(e),fa(e,ha(e,0,ca.textEnd))}(t);n>=0;n=fa(t,n))ut(e,la(t),!0)}function ga(e,t){return t>=e.expandoStartIndex}function ma(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[on()+19],a=ga(e,n);wa(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=jt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=_a(n=ya(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=ya(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Lr(r))return e[Mr(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Mr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=_a(s=ya(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=_a(r,e[o].hostAttrs,n);return _a(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Mr(a),u=Lr(a);e[r]=n;var c,l=!1;if(Array.isArray(n)){var f=n;(null===(c=f[1])||lt(f,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var h=Mr(e[s+1]);e[r+1]=jr(h,s),0!==h&&(e[h+1]=Vr(e[h+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=jr(s,0),0!==s&&(e[s+1]=Vr(e[s+1],r)),s=r;else e[r+1]=jr(u,0),0===s?s=r:e[u+1]=Vr(e[u+1],r),u=r;l&&(e[r+1]=Nr(e[r+1])),sa(e,c,r,!0),sa(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&lt(o,t)>=0&&(n[r+1]=Ur(n[r+1]))}(t,c,e,r,o),a=jr(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function ya(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=_a(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function _a(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),ut(e,a,!!n||t[++o]))}return void 0===e?null:e}function ba(e,t,n,r,i,o,a,s){if(3===t.type){var u=e.data,c=u[s+1];Ca(1==(1&c)?ka(u,t,n,i,Lr(c),a):void 0)||(Ca(o)||2==(2&c)&&(o=ka(u,null,n,i,s,a)),function(e,t,n,r,i){var o=vn(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?e.removeStyle(n,r,a):n.style.removeProperty(r):o?e.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,sr(on(),n),i,o))}}function ka(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,f=null===l,h=n[i+1];h===Ir&&(h=f?aa:void 0);var d=f?ct(h,r):l===r?h:void 0;if(c&&!Ca(d)&&(d=ct(u,r)),Ca(d)&&(s=d,a))return s;var p=e[i+1];i=a?Mr(p):Lr(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=ct(v,r))}return s}function Ca(e){return void 0!==e}function wa(e,t){return 0!=(e.flags&(t?16:32))}function Sa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Nt(),r=Lt(),i=e+19,o=r.firstCreatePass?Hr(r,n[6],e,3,null,null):r.data[i],a=n[i]=function(e,t){return vn(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);zi(r,n,a,o),qt(o,!1)}function xa(e){return Oa("",e,""),xa}function Oa(e,t,n){var r=Nt(),i=function(e,t,n,r){return No(e,Gt(),n)?t+On(n)+r:Ir}(r,e,t,n);return i!==Ir&&Ai(r,on(),i),Oa}function Ea(e,t,n,r,i){var o=Nt(),a=function(e,t,n,r,i,o){var a=Lo(e,Qt(),n,i);return Wt(2),a?t+On(n)+r+On(i)+o:Ir}(o,e,t,n,r,i);return a!==Ir&&Ai(o,on(),a),Ea}function Aa(e,t,n,r,i,o,a){var s=Nt(),u=function(e,t,n,r,i,o,a,s){var u=Vo(e,Qt(),n,i,a);return Wt(3),u?t+On(n)+r+On(i)+o+On(a)+s:Ir}(s,e,t,n,r,i,o,a);return u!==Ir&&Ai(s,on(),u),Aa}function Ta(e,t,n){var r=Nt();if(No(r,Gt(),t)){var i=on();ei(Lt(),r,i,e,t,n,!0)}return Ta}function Ia(e,t){var n=hr(e)[1],r=n.data.length-1;sn(n,{directiveStart:r,directiveEnd:r+1})}function Ra(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(Pt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=Pa(e.inputs),o.declaredInputs=Pa(e.declaredInputs),o.outputs=Pa(e.outputs);var a=i.hostBindings;a&&Ma(e,a);var s=i.viewQuery,u=i.contentQueries;s&&Da(e,s),u&&ja(e,u),he(e.inputs,i.inputs),he(e.declaredInputs,i.declaredInputs),he(e.outputs,i.outputs),o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=e.afterContentInit||i.afterContentInit,o.afterViewChecked=e.afterViewChecked||i.afterViewChecked,o.afterViewInit=e.afterViewInit||i.afterViewInit,o.doCheck=e.doCheck||i.doCheck,o.onDestroy=e.onDestroy||i.onDestroy,o.onInit=e.onInit||i.onInit}var c=i.features;if(c)for(var l=0;l<c.length;l++){var f=c[l];f&&f.ngInherit&&f(e),f===Ra&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=bn(i.hostAttrs,n=bn(n,i.hostAttrs))}}(r)}function Pa(e){return e===pt?{}:e===vt?[]:e}function Da(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function ja(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function Ma(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var Na=function(){function e(t,n,r){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function La(){return Va.ngInherit=!0,Va}function Va(e){e.type.prototype.ngOnChanges&&(e.setInput=Ua,e.onChanges=function(){var e=qa(this),t=e&&e.current;if(t){var n=e.previous;if(n===pt)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}})}function Ua(e,t,n,r){var i=qa(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:pt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Na(u&&u.currentValue,t,a===pt),e[r]=t}function qa(e){return e.__ngSimpleChanges__||null}function Fa(e,t,n,r,i){if(e=Ee(e),Array.isArray(e))for(var o=0;o<e.length;o++)Fa(e[o],t,n,r,i);else{var a=Lt(),s=Nt(),u=bo(e)?e:Ee(e.provide),c=mo(e),l=Ut(),f=65535&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>16;if(e.useClass||bo(e)){var p=(e.useClass||e).prototype.ngOnDestroy;p&&(a.destroyHooks||(a.destroyHooks=[])).push(t.length,p)}if(bo(e)||!e.multi){var v=new dn(c,i,Bo),g=Ha(u,t,i?f:f+d,h);-1==g?(Ln(Dn(l,s),a,u),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(v),s.push(v)):(n[g]=v,s[g]=v)}else{var m=Ha(u,t,f+d,h),y=Ha(u,t,f,f+d),_=m>=0&&n[m],b=y>=0&&n[y];if(i&&!b||!i&&!_){Ln(Dn(l,s),a,u);var k=function(e,t,n,r,i){var o=new dn(e,n,Bo);return o.multi=[],o.index=t,o.componentProviders=0,Ba(o,i,r&&!n),o}(i?$a:za,n.length,i,r,c);!i&&b&&(n[y].providerFactory=k),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(k),s.push(k)}else Ba(n[i?y:m],c,!i&&r);!i&&r&&b&&n[y].componentProviders++}}}function Ba(e,t,n){e.multi.push(t),n&&e.componentProviders++}function Ha(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function za(e,t,n,r){return Qa(this.multi,[])}function $a(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=Bn(n,n[1],this.providerFactory.index,r);Qa(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Qa(o,i=[]);return i}function Qa(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ga(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(e,t,n){var r=Lt();if(r.firstCreatePass){var i=Pt(e);Fa(n,r.data,r.blueprint,i,!0),Fa(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}}var Wa=function e(){_classCallCheck(this,e)},Ka=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(we(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Za=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new Ka,e}(),Ja=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return Ya(e)},e}(),Ya=function(e){return no(e,Ut(),Nt())},Xa=function e(){_classCallCheck(this,e)},es=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),ts=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ns()},e}(),ns=function(){var e=Nt(),t=fr(Ut().index,e);return function(e){var t=e[11];if(vn(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Et(t)?t:e)},rs=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=de({token:e,providedIn:"root",factory:function(){return null}}),e}(),is=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("9.0.0"),os=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Po(e)}},{key:"create",value:function(e){return new ss(e)}}]),e}(),as=function(e,t){return t},ss=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||as}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<fs(n,r,i)?t:n,a=fs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var f=l<i.length?i[l]:i[l]=0,h=f+l;c<=h&&h<u&&(i[l]=f+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Po(e))throw new Error("Error trying to diff '".concat(we(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==o&&Io(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Io(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[To()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==o&&Io(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Io(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Io(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Io(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new us(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ls),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ls),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),us=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},cs=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Io(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),ls=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new cs,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function fs(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var hs=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Do(e)}},{key:"create",value:function(){return new ds}}]),e}(),ds=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Do(e)))throw new Error("Error trying to diff '".concat(we(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new ps(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Io(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),ps=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},vs=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new se]]}}}]),e}();return e.\u0275prov=de({token:e,providedIn:"root",factory:function(){return new e([new os])}}),e}(),gs=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ce,new se]]}}}]),e}();return e.\u0275prov=de({token:e,providedIn:"root",factory:function(){return new e([new hs])}}),e}(),ms=[new hs],ys=new vs([new os]),_s=new gs(ms),bs=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ks(e,Ja)},e}(),ks=function(e,t){return ro(e,t,Ut(),Nt())},Cs=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return ws(e,Ja)},e}(),ws=function(e,t){return io(e,t,Ut(),Nt())},Ss={};function xs(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Os=new Be("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return An}}),Es=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).componentDef=e,r.ngModule=n,r.componentType=e.type,r.selector=e.selectors.map(Tr).join(","),r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!n,r}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,Ss,i);return o!==Ss||r===Ss?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(Xa,gn),u=a.get(rs,null),c=s.createRenderer(null,this.componentDef),l=n?function(e,t,n){if(vn(e))return e.selectRootElement(t,n===ht.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Fr(this.componentDef.selectors[0][0]||"div",s.createRenderer(null,this.componentDef),null),f=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:An,clean:wi,playerHandler:null,flags:0},p=Jr(0,-1,null,1,0,null,null,null,null,null),v=Br(null,p,d,f,null,null,s,c,u,a),g=n&&l?is.full:null;en(v,null);try{var m=function(e,t,n,r,i,o,a){var s=n[1];n[19]=e;var u=Hr(s,null,0,3,null,null),c=u.mergedAttrs=t.hostAttrs;null!==c&&(Eo(u,c),null!==e&&(mn(i,e,c),null!==u.classes&&Zi(i,e,u.classes),null!==u.styles&&Ki(i,e,u.styles)));var l=r.createRenderer(e,t);null!==e&&o&&(vn(i)?i.setAttribute(e,"ng-version",o):e.setAttribute("ng-version",o));var f=Br(n,Zr(t),null,t.onPush?64:16,n[19],u,r,l,null);return s.firstCreatePass&&(Ln(Dn(u,n),s,t.type),ai(s,u),ui(u,n.length,1)),yi(n,f),n[19]=f}(l,this.componentDef,v,s,c,g);o=cr(v[1],0),t&&(o.projection=t.map((function(e){return Array.from(e)}))),i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=Ut();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),oi(e,r,1),ci(e,t,n));var i=Bn(t,e,t.length-1,r);mr(i,t);var o=ur(r,t);return o&&mr(o,t),i}(o,n,t);r.components.push(a),e[8]=a,i&&i.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var s=Ut();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){an(s.index-19);var u=n[1];ni(u,t),ri(u,n,t.hostVars),ii(t,a)}return a}(m,this.componentDef,v,d,[Ia]),zr(p,v,null)}finally{rn()}var y=new As(this.componentType,i,no(Ja,o,v),v,o);return n&&!h||(y.hostView._tViewNode.child=o),y}},{key:"inputs",get:function(){return xs(this.componentDef.inputs)}},{key:"outputs",get:function(){return xs(this.componentDef.outputs)}}]),t}(Wa),As=function(e){function t(e,n,r,i,o){var a,s,u,c;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).location=r,a._rootLView=i,a._tNode=o,a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new to(i),a.hostView._tViewNode=(s=i[1],u=i,null==(c=s.node)&&(s.node=c=Yr(0,null,2,-1,null,null)),u[6]=c),a.componentType=e,a}return _inherits(t,e),_createClass(t,[{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}},{key:"injector",get:function(){return new $n(this._tNode,this._rootLView)}}]),t}(function(){return function e(){_classCallCheck(this,e)}}()),Ts=void 0,Is=["en",[["a","p"],["AM","PM"],Ts],[["AM","PM"],Ts,Ts],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ts,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ts,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ts,"{1} 'at' {0}",Ts],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],Rs={};function Ps(e){return e in Rs||(Rs[e]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[e]),Rs[e]}var Ds=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,PluralCase:19,ExtraData:20};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),js=/\ufffd(\d+):?\d*\ufffd/gi,Ms=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function Ns(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=[null,null],o=e.split(js),a=0,s=0;s<o.length;s++){var u=o[s];if(1&s){var c=parseInt(u,10);i.push(-1-c),a|=Ls(c)}else""!==u&&i.push(u)}return i.push(t<<2|(n?1:0)),n&&i.push(n,r),i[0]=a,i[1]=i.length-2,i}function Ls(e){return 1<<Math.min(e,31)}function Vs(e){var t;null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined")+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}var Us=new Map,qs={provide:Za,useClass:function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).ngModule=e,n}return _inherits(t,e),_createClass(t,[{key:"resolveComponentFactory",value:function(e){var t=St(e);return new Es(t,this.ngModule)}}]),t}(Za),deps:[tt]},Fs=function(e){function t(e,n){var r;_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parent=n,r._bootstrapComponents=[],r.injector=_assertThisInitialized(r),r.destroyCbs=[];var i=Ot(e),o=e[Ue]||null;return o&&Vs(o),r._bootstrapComponents=Tn(i.bootstrap),r._r3Injector=po(e,n,[{provide:tt,useValue:_assertThisInitialized(r)},qs],we(e)),r.instance=r.get(e),r}return _inherits(t,e),_createClass(t,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Co.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le.Default;return e===Co||e===tt||e===He?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}},{key:"componentFactoryResolver",get:function(){return this.get(Za)}}]),t}(tt),Bs=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).moduleType=e,null!==Ot(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(we(t)," vs ").concat(we(t.name)))})(n,Us.get(n),t),Us.set(n,t)}var r=t.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(t){return e(t)}))}(e),n}return _inherits(t,e),_createClass(t,[{key:"create",value:function(e){return new Fs(this.moduleType,e)}}]),t}(nt);function Hs(e,t,n,r){return function(e,t,n,r,i,o){var a=t+n;return No(e,a,i)?jo(e,a+1,o?r.call(o,i):r(i)):Mo(e,a+1)}(Nt(),$t(),e,t,n,r)}var zs=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).__isAsync=n,e}return _inherits(t,e),_createClass(t,[{key:"emit",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,n,r){var i,o=function(e){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(o=this.__isAsync?function(e){setTimeout((function(){return n(e)}))}:function(e){n(e)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=_get(_getPrototypeOf(t.prototype),"subscribe",this).call(this,i,o,a);return e instanceof h&&e.add(s),s}}]),t}(A);function $s(){return this._results[To()]()}var Qs=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new zs,this.length=0;var t=To(),n=e.prototype;n[t]||(n[t]=$s)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Gs=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Ws=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==cu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Ks=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=r,this.read=i},Zs=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"track",value:function(e){this.queries.push(e)}},{key:"length",get:function(){return this.queries.length}}]),e}(),Js=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){return this._appliesToNextNode&&!1===this.metadata.descendants?this._declarationNodeIndex===(e.parent?e.parent.index:-1):this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(e,t,Ys(t,n[r]));else{var i=this.metadata.predicate;i===bs?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Fn(t,e,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ja||r===Cs||r===bs&&0===t.type)this.addMatch(t.index,-2);else{var i=Fn(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Ys(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Xs(e,t,n,r){return-1===n?function(e,t){return 3===e.type||4===e.type?no(Ja,e,t):0===e.type?ro(bs,Ja,e,t):null}(t,e):-2===n?function(e,t,n){return n===Ja?no(Ja,t,e):n===bs?ro(bs,Ja,t,e):n===Cs?io(Cs,Ja,t,e):void 0}(e,t,r):Bn(e,e[1],n,t)}function eu(e,t,n,r){var i=t[5].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Xs(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function tu(e){var t=Nt(),n=Lt(),r=Zt();Jt(r+1);var i=cu(n,r);if(e.dirty&&dr(t)===i.metadata.isStatic){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?function e(t,n,r,i){var o=t.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=eu(t,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],f=n[-c],h=9;h<f.length;h++){var d=f[h];d[17]===d[3]&&e(d[1],d,l,i)}if(null!==f[5])for(var p=f[5],v=0;v<p.length;v++){var g=p[v];e(g[1],g,l,i)}}}return i}(n,t,r,[]):eu(n,t,i,r);e.reset(o),e.notifyOnChanges()}return!0}return!1}function nu(e,t,n){ru(Lt(),Nt(),e,t,n,!1)}function ru(e,t,n,r,i,o){e.firstCreatePass&&(uu(e,new Ks(n,r,o,i),-1),o&&(e.staticViewQueries=!0)),su(e,t)}function iu(e,t,n,r){ou(Lt(),Nt(),t,n,r,!1,Ut(),e)}function ou(e,t,n,r,i,o,a,s){e.firstCreatePass&&(uu(e,new Ks(n,r,o,i),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,s),o&&(e.staticContentQueries=!0)),su(e,t)}function au(){return e=Nt(),t=Zt(),e[5].queries[t].queryList;var e,t}function su(e,t){var n=new Qs;!function(e,t,n,r){var i=Si(t);i.push(n),e.firstCreatePass&&xi(e).push(r,i.length-1)}(e,t,n,n.destroy),null===t[5]&&(t[5]=new Ws),t[5].queries.push(new Gs(n))}function uu(e,t,n){null===e.queries&&(e.queries=new Zs),e.queries.track(new Js(t,n))}function cu(e,t){return e.queries.getByIndex(t)}function lu(e,t){return ro(bs,Ja,e,t)}var fu=new Be("Application Initializer"),hu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Jo(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Je(fu,8))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),du=new Be("AppId"),pu={provide:du,useFactory:function(){return"".concat(vu()).concat(vu()).concat(vu())},deps:[]};function vu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var gu=new Be("Platform Initializer"),mu=new Be("Platform ID"),yu=new Be("appBootstrapListener"),_u=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),bu=new Be("LocaleId"),ku=new Be("DefaultCurrencyCode"),Cu=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},wu=function(e){return new Bs(e)},Su=wu,xu=function(e){return Promise.resolve(wu(e))},Ou=function(e){var t=wu(e),n=Tn(Ot(e).declarations).reduce((function(e,t){var n=St(t);return n&&e.push(new Es(n)),e}),[]);return new Cu(t,n)},Eu=Ou,Au=function(e){return Promise.resolve(Ou(e))},Tu=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=Su,this.compileModuleAsync=xu,this.compileModuleAndAllComponentsSync=Eu,this.compileModuleAndAllComponentsAsync=Au}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Iu=new Be("compilerOptions"),Ru=Promise.resolve(0);function Pu(e){"undefined"==typeof Zone?Ru.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Du=function(){function e(t){var n,r,i=t.enableLongStackTrace,o=void 0!==i&&i,a=t.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zs(!1),this.onMicrotaskEmpty=new zs(!1),this.onStable=new zs(!1),this.onError=new zs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=je.requestAnimationFrame,t=je.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(je,(function(){e.lastRequestAnimationFrameId=-1,Lu(e),Nu(e)})),Lu(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(e,t,i,o,a,s){try{return Vu(n),e.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Uu(n)}},onInvoke:function(e,t,r,i,o,a,s){try{return Vu(n),e.invoke(r,i,o,a,s)}finally{Uu(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Lu(n),Nu(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,Mu,ju,ju);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function ju(){}var Mu={};function Nu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Lu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Vu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Uu(e){e._nesting--,Nu(e)}var qu,Fu=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zs,this.onMicrotaskEmpty=new zs,this.onStable=new zs,this.onError=new zs}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Bu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Du.assertNotInAngularZone(),Pu((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())Pu((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Je(Du))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),Hu=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,zu.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return zu.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}(),zu=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),$u=function(e,t,n){var r=new Bs(n);if(0===So.size)return Promise.resolve(r);var i,o,a=(i=e.get(Iu,[]).concat(t).map((function(e){return e.providers})),o=[],i.forEach((function(e){return e&&o.push.apply(o,_toConsumableArray(e))})),o);if(0===a.length)return Promise.resolve(r);var s=function(){var e=je.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),u=Co.create({providers:a}).get(s.ResourceLoader);return function(e){var t=[],n=new Map;function r(e){var t=n.get(e);if(!t){var r=function(e){return Promise.resolve(u.get(e))}(e);n.set(e,t=r.then(Oo))}return t}return So.forEach((function(e,n){var i=[];e.templateUrl&&i.push(r(e.templateUrl).then((function(t){e.template=t})));var o=e.styleUrls,a=e.styles||(e.styles=[]),s=e.styles.length;o&&o.forEach((function(t,n){a.push(""),i.push(r(t).then((function(r){a[s+n]=r,o.splice(o.indexOf(t),1),0==o.length&&(e.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(e){xo.delete(e)}(n)}));t.push(u)})),So=new Map,Promise.all(t).then((function(){}))}().then((function(){return r}))},Qu=new Be("AllowMultipleToken"),Gu=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function Wu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new Be(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Ku();if(!o||o.injector.get(Qu,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:so,useValue:"platform"});!function(e){if(qu&&!qu.destroyed&&!qu.injector.get(Qu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qu=e.get(Zu);var t=e.get(gu,null);t&&t.forEach((function(e){return e()}))}(Co.create({providers:a,name:r}))}return function(e){var t=Ku();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Ku(){return qu&&!qu.destroyed?qu:null}var Zu=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(n=t?t.ngZone:void 0,r=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new Fu:("zone.js"===n?void 0:n)||new Du({enableLongStackTrace:tr(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Du,useValue:o}];return o.run((function(){var t=Co.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Zn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return ec(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(e){r.handleError(e)}})})),function(e,t,r){try{var o=((a=n.injector.get(hu)).runInitializers(),a.donePromise.then((function(){return Vs(n.injector.get(bu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Jo(o)?o.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):o}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Ju({},n);return $u(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Xu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(we(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Je(Co))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}();function Ju(e,t){return Array.isArray(t)?t.reduce(Ju,e):Object.assign(Object.assign({},e),t)}var Yu,Xu=((Yu=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=o,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=tr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var u=new C((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),c=new C((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){Du.assertNotInAngularZone(),Pu((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Du.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=Z(u,c.pipe(ie()))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Wa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(tt),o=n.create(Co.NULL,[],t||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Bu,null);return a&&o.injector.get(Hu).registerApplication(o.location.nativeElement,a),this._loadComponent(o),tr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t=!0,n=!1,r=void 0;try{for(var i,o=this._views[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)i.value.detectChanges()}catch(f){n=!0,r=f}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}if(this._enforceNoNewChanges){var a=!0,s=!1,u=void 0;try{for(var c,l=this._views[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)c.value.checkNoChanges()}catch(f){s=!0,u=f}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}}catch(h){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(h)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;ec(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(yu,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),ec(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||Yu)(Je(Du),Je(_u),Je(Co),Je(Zn),Je(Za),Je(hu))},Yu.\u0275prov=de({token:Yu,factory:Yu.\u0275fac}),Yu);function ec(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var tc=function e(){_classCallCheck(this,e)},nc=function e(){_classCallCheck(this,e)},rc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},ic=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||rc}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(e){return e[o]})).then((function(e){return oc(e,i,o)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+o]})).then((function(e){return oc(e,r,i)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Je(Tu),Je(nc,8))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e}();function oc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var ac=Wu(null,"core",[{provide:mu,useValue:"unknown"},{provide:Zu,deps:[Co]},{provide:Hu,deps:[]},{provide:_u,deps:[]}]),sc=[{provide:Xu,useClass:Xu,deps:[Du,_u,Co,Zn,Za,hu]},{provide:Os,deps:[Du],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:hu,useClass:hu,deps:[[new se,fu]]},{provide:Tu,useClass:Tu,deps:[]},pu,{provide:vs,useFactory:function(){return ys},deps:[]},{provide:gs,useFactory:function(){return _s},deps:[]},{provide:bu,useFactory:function(e){return Vs(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ae(bu),new se,new ce]]},{provide:ku,useValue:"USD"}],uc=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=kt({type:e}),e.\u0275inj=pe({factory:function(t){return new(t||e)(Je(Xu))},providers:sc}),e}(),cc=null;function lc(){return cc}var fc,hc=new Be("DocumentToken"),dc=((fc=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||fc)},fc.\u0275prov=de({factory:pc,token:fc,providedIn:"platform"}),fc);function pc(){return Je(mc)}var vc,gc=new Be("Location Initialized"),mc=((vc=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n._init(),n}return _inherits(t,e),_createClass(t,[{key:"_init",value:function(){this.location=lc().getLocation(),this._history=lc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return lc().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){lc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){lc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){yc()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){yc()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),t}(dc)).\u0275fac=function(e){return new(e||vc)(Je(hc))},vc.\u0275prov=de({factory:_c,token:vc,providedIn:"platform"}),vc);function yc(){return!!window.history.pushState}function _c(){return new mc(Je(hc))}function bc(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function kc(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Cc(e){return e&&"?"!==e[0]?"?"+e:e}var wc,Sc=((wc=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||wc)},wc.\u0275prov=de({factory:xc,token:wc,providedIn:"root"}),wc);function xc(e){var t=Je(hc).location;return new Ic(Je(dc),t&&t.origin||"")}var Oc,Ec,Ac,Tc=new Be("appBaseHref"),Ic=((Ac=function(e){function t(e,n){var r;if(_classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,_possibleConstructorReturn(r)}return _inherits(t,e),_createClass(t,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return bc(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Cc(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Cc(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Cc(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),t}(Sc)).\u0275fac=function(e){return new(e||Ac)(Je(dc),Je(Tc,8))},Ac.\u0275prov=de({token:Ac,factory:Ac.\u0275fac}),Ac),Rc=((Ec=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return _inherits(t,e),_createClass(t,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=bc(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Cc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Cc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),t}(Sc)).\u0275fac=function(e){return new(e||Ec)(Je(dc),Je(Tc,8))},Ec.\u0275prov=de({token:Ec,factory:Ec.\u0275fac}),Ec),Pc=((Oc=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._subject=new zs,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=kc(jc(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+Cc(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,jc(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Cc(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Cc(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||Oc)(Je(Sc),Je(dc))},Oc.normalizeQueryParams=Cc,Oc.joinWithSlash=bc,Oc.stripTrailingSlash=kc,Oc.\u0275prov=de({factory:Dc,token:Oc,providedIn:"root"}),Oc);function Dc(){return new Pc(Je(Sc),Je(dc))}function jc(e){return e.replace(/\/index.html$/,"")}var Mc,Nc=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Lc=function e(){_classCallCheck(this,e)},Vc=((Mc=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).locale=e,n}return _inherits(t,e),_createClass(t,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Ps(t);if(n)return n;var r=t.split("-")[0];if(n=Ps(r))return n;if("en"===r)return Is;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[Ds.PluralCase]}(t||this.locale)(e)){case Nc.Zero:return"zero";case Nc.One:return"one";case Nc.Two:return"two";case Nc.Few:return"few";case Nc.Many:return"many";default:return"other"}}}]),t}(Lc)).\u0275fac=function(e){return new(e||Mc)(Je(bu))},Mc.\u0275prov=de({token:Mc,factory:Mc.\u0275fac}),Mc);function Uc(e,t){t=encodeURIComponent(t);var n=!0,r=!1,i=void 0;try{for(var o,a=e.split(";")[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,u=s.indexOf("="),c=_slicedToArray(-1==u?[s,""]:[s.slice(0,u),s.slice(u+1)],2),l=c[0],f=c[1];if(l.trim()===t)return decodeURIComponent(f)}}catch(h){r=!0,i=h}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}var qc,Fc,Bc=function(){function e(t,n,r,i){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Hc=((qc=function(){function e(t,n,r){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Bc(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new zc(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new zc(e,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){tr()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". ")+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||qc)(Bo(Cs),Bo(bs),Bo(vs))},qc.\u0275dir=wt({type:qc,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),qc),zc=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},$c=((Fc=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new Qc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Gc("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Gc("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Fc)(Bo(Cs),Bo(bs))},Fc.\u0275dir=wt({type:Fc,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Fc),Qc=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function Gc(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(we(t),"'."))}var Wc,Kc,Zc,Jc,Yc,Xc,el,tl=((Zc=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(-1===t.indexOf(u))return!0}}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),e}()).\u0275fac=function(e){return new(e||Zc)(Bo(Cs))},Zc.\u0275dir=wt({type:Zc,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[La()]}),Zc),nl=((Kc=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:Kc}),Kc.\u0275inj=pe({factory:function(e){return new(e||Kc)},providers:[{provide:Lc,useClass:Vc}]}),Kc),rl=((Wc=function e(){_classCallCheck(this,e)}).\u0275prov=de({token:Wc,providedIn:"root",factory:function(){return new il(Je(hc),window,Je(Zn))}}),Wc),il=function(){function e(t,n,r){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#".concat(e));if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),ol=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=al||(al=document.querySelector("base"))?al.getAttribute("href"):null;return null==n?null:(t=n,Jc||(Jc=document.createElement("a")),Jc.setAttribute("href",t),"/"===Jc.pathname.charAt(0)?Jc.pathname:"/"+Jc.pathname)}},{key:"resetBaseElement",value:function(){al=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Uc(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new t,cc||(cc=e)}}]),t}(function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"supportsDOMEvents",value:function(){return!0}}]),t}(function(){return function e(){_classCallCheck(this,e)}}())),al=null,sl=new Be("TRANSITION_ID"),ul=[{provide:fu,useFactory:function(e,t,n){return function(){n.get(hu).donePromise.then((function(){var n=lc();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[sl,hc,Co],multi:!0}],cl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){je.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},je.getAllAngularTestabilities=function(){return e.getAllTestabilities()},je.getAllAngularRootElements=function(){return e.getAllRootElements()},je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push((function(e){var t=je.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?lc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,zu=t}}]),e}(),ll=new Be("EventManagerPlugins"),fl=((Yc=function(){function e(t,n){var r=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}()).\u0275fac=function(e){return new(e||Yc)(Je(ll),Je(Du))},Yc.\u0275prov=de({token:Yc,factory:Yc.\u0275fac}),Yc),hl=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=lc().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),dl=((el=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||el)},el.\u0275prov=de({token:el,factory:el.\u0275fac}),el),pl=((Xc=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return _inherits(t,e),_createClass(t,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return lc().remove(e)}))}}]),t}(dl)).\u0275fac=function(e){return new(e||Xc)(Je(hc))},Xc.\u0275prov=de({token:Xc,factory:Xc.\u0275fac}),Xc),vl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},gl=/%COMP%/g;function ml(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?ml(e,i,n):(i=i.replace(gl,e),n.push(i))}return n}function yl(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var _l,bl,kl,Cl,wl=((_l=function(){function e(t,n,r){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Sl(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ht.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new xl(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case ht.Native:case ht.ShadowDom:return new Ol(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=ml(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||_l)(Je(fl),Je(pl),Je(du))},_l.\u0275prov=de({token:_l,factory:_l.\u0275fac}),_l),Sl=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(vl[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=vl[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=vl[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&es.DashCase?e.style.setProperty(t,n,r&es.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&es.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,yl(n)):this.eventManager.addEventListener(e,t,yl(n))}}]),e}(),xl=function(e){function t(e,n,r,i){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).component=r;var a,s=ml(i+"-"+r.id,r.styles,[]);return n.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(gl,i+"-"+r.id),o.hostAttr=(a=i+"-"+r.id,"_nghost-%COMP%".replace(gl,a)),o}return _inherits(t,e),_createClass(t,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(t.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,n){var r=_get(_getPrototypeOf(t.prototype),"createElement",this).call(this,e,n);return _get(_getPrototypeOf(t.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),t}(Sl),Ol=function(e){function t(e,n,r,i){var o;_classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=i.encapsulation===ht.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=ml(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return _inherits(t,e),_createClass(t,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"insertBefore",value:function(e,n,r){return _get(_getPrototypeOf(t.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),n,r)}},{key:"removeChild",value:function(e,n){return _get(_getPrototypeOf(t.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),n)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(t.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),t}(Sl),El=((bl=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),t}(hl)).\u0275fac=function(e){return new(e||bl)(Je(hc))},bl.\u0275prov=de({token:bl,factory:bl.\u0275fac}),bl),Al=["alt","control","meta","shift"],Tl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Il={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Rl={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},Pl=((kl=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),_createClass(t,[{key:"supports",value:function(e){return null!=t.parseEventName(e)}},{key:"addEventListener",value:function(e,n,r){var i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return lc().onAndCancel(e,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(e){var n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;var i=t._normalizeKey(n.pop()),o="";if(Al.forEach((function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")})),o+=i,0!=n.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Il.hasOwnProperty(t)&&(t=Il[t]))}return Tl[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Al.forEach((function(r){r!=n&&(0,Rl[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,n,r){return function(i){t.getEventFullKey(i)===e&&r.runGuarded((function(){return n(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),t}(hl)).\u0275fac=function(e){return new(e||kl)(Je(hc))},kl.\u0275prov=de({token:kl,factory:kl.\u0275fac}),kl),Dl=Wu(ac,"browser",[{provide:mu,useValue:"browser"},{provide:gu,useValue:function(){ol.makeCurrent(),cl.init()},multi:!0},{provide:hc,useFactory:function(){return function(e){pn=e}(document),document},deps:[]}]),jl=[[],{provide:so,useValue:"root"},{provide:Zn,useFactory:function(){return new Zn},deps:[]},{provide:ll,useClass:El,multi:!0,deps:[hc,Du,mu]},{provide:ll,useClass:Pl,multi:!0,deps:[hc]},[],{provide:wl,useClass:wl,deps:[fl,pl,du]},{provide:Xa,useExisting:wl},{provide:dl,useExisting:pl},{provide:pl,useClass:pl,deps:[hc]},{provide:Bu,useClass:Bu,deps:[Du]},{provide:fl,useClass:fl,deps:[ll,Du]},[]],Ml=((Cl=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:du,useValue:t.appId},{provide:sl,useExisting:du},ul]}}}]),e}()).\u0275mod=kt({type:Cl}),Cl.\u0275inj=pe({factory:function(e){return new(e||Cl)(Je(Cl,12))},providers:jl,imports:[nl,uc]}),Cl);function Nl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return I(r)?(t.pop(),B(t,r)):K(t)}function Ll(e,t){return z(e,t,1)}function Vl(e,t){return function(n){return n.lift(new Ul(e,t))}}"undefined"!=typeof window&&window;var Ul=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ql(e,this.predicate,this.thisArg))}}]),e}(),ql=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,i.thisArg=r,i.count=0,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),t}(v),Fl=function e(){_classCallCheck(this,e)},Bl=function e(){_classCallCheck(this,e)},Hl=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),zl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return $l(e)}},{key:"encodeValue",value:function(e){return $l(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function $l(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Ql=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new zl,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var r=e.indexOf("="),i=_slicedToArray(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function Gl(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Wl(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Kl(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Zl=function(){function e(t,n,r,i){var o;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Hl),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new Ql,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:Gl(this.body)||Wl(this.body)||Kl(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ql?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body?null:Kl(this.body)?null:Wl(this.body)?this.body.type||null:Gl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ql?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,u=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),c)),new e(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),e}(),Jl=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),Yl=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new Hl,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},Xl=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).type=Jl.ResponseHeader,e}return _inherits(t,e),_createClass(t,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),t}(Yl),ef=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).type=Jl.Response,e.body=void 0!==n.body?n.body:null,e}return _inherits(t,e),_createClass(t,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new t({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),t}(Yl),tf=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,0,"Unknown Error"))).name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),n.error=e.error||null,n}return _inherits(t,e),t}(Yl);function nf(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var rf,of,af,sf,uf,cf,lf,ff,hf,df=((rf=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Zl)n=e;else{var o=void 0;o=i.headers instanceof Hl?i.headers:new Hl(i.headers);var a=void 0;i.params&&(a=i.params instanceof Ql?i.params:new Ql({fromObject:i.params})),n=new Zl(e,t,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Nl(n).pipe(Ll((function(e){return r.handler.handle(e)})));if(e instanceof Zl||"events"===i.observe)return s;var u=s.pipe(Vl((function(e){return e instanceof ef})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(U((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return u.pipe(U((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return u.pipe(U((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return u.pipe(U((function(e){return e.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Ql).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,nf(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,nf(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,nf(n,t))}}]),e}()).\u0275fac=function(e){return new(e||rf)(Je(Fl))},rf.\u0275prov=de({token:rf,factory:rf.\u0275fac}),rf),pf=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),vf=new Be("HTTP_INTERCEPTORS"),gf=((of=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||of)},of.\u0275prov=de({token:of,factory:of.\u0275fac}),of),mf=/^\)\]\}',?\n/,yf=function e(){_classCallCheck(this,e)},_f=((sf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||sf)},sf.\u0275prov=de({token:sf,factory:sf.\u0275fac}),sf),bf=((af=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new C((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Hl(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new Xl({headers:i,status:t,statusText:n,url:o})},c=function(){var t=u(),i=t.headers,o=t.status,a=t.statusText,s=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var f=c;c=c.replace(mf,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=f,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new ef({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new tf({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(e){var t=u().url,i=new tf({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},f=!1,h=function(t){f||(n.next(u()),f=!0);var i={type:Jl.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(e){var t={type:Jl.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),e.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Jl.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),e.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),e}()).\u0275fac=function(e){return new(e||af)(Je(yf))},af.\u0275prov=de({token:af,factory:af.\u0275fac}),af),kf=new Be("XSRF_COOKIE_NAME"),Cf=new Be("XSRF_HEADER_NAME"),wf=function e(){_classCallCheck(this,e)},Sf=((hf=function(){function e(t,n,r){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Uc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||hf)(Je(hc),Je(mu),Je(kf))},hf.\u0275prov=de({token:hf,factory:hf.\u0275fac}),hf),xf=((ff=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||ff)(Je(wf),Je(Cf))},ff.\u0275prov=de({token:ff,factory:ff.\u0275fac}),ff),Of=((lf=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(vf,[]);this.chain=t.reduceRight((function(e,t){return new pf(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||lf)(Je(Bl),Je(Co))},lf.\u0275prov=de({token:lf,factory:lf.\u0275fac}),lf),Ef=((cf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:xf,useClass:gf}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:kf,useValue:t.cookieName}:[],t.headerName?{provide:Cf,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=kt({type:cf}),cf.\u0275inj=pe({factory:function(e){return new(e||cf)},providers:[xf,{provide:vf,useExisting:xf,multi:!0},{provide:wf,useClass:Sf},{provide:kf,useValue:"XSRF-TOKEN"},{provide:Cf,useValue:"X-XSRF-TOKEN"}]}),cf),Af=((uf=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:uf}),uf.\u0275inj=pe({factory:function(e){return new(e||uf)},providers:[df,{provide:Fl,useClass:Of},bf,{provide:Bl,useExisting:bf},_f,{provide:yf,useExisting:_f}],imports:[[Ef.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),uf);function Tf(e,t){return new C((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=H(e[s]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(a===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var If,Rf,Pf,Df,jf=new Be("NgValueAccessor"),Mf={provide:jf,useExisting:Oe((function(){return Nf})),multi:!0},Nf=((If=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||If)(Bo(ts),Bo(Ja))},If.\u0275dir=wt({type:If,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Xo("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(e){return t.onTouched()}))},features:[Ga([Mf])]}),If),Lf={provide:jf,useExisting:Oe((function(){return Uf})),multi:!0},Vf=new Be("CompositionEventMode"),Uf=((Df=function(){function e(t,n,r){var i;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=lc()?lc().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||Df)(Bo(ts),Bo(Ja),Bo(Vf,8))},Df.\u0275dir=wt({type:Df,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Xo("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(e){return t.onTouched()}))("compositionstart",(function(e){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[Ga([Lf])]}),Df),qf=((Pf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}()).\u0275fac=function(e){return new(e||Pf)},Pf.\u0275dir=wt({type:Pf}),Pf),Ff=((Rf=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),t}(qf)).\u0275fac=function(e){return Bf(e||Rf)},Rf.\u0275dir=wt({type:Rf,features:[Ra]}),Rf),Bf=Qn(Ff);function Hf(){throw new Error("unimplemented")}var zf,$f,Qf=function(e){function t(){var e;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments)))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _inherits(t,e),_createClass(t,[{key:"validator",get:function(){return Hf()}},{key:"asyncValidator",get:function(){return Hf()}}]),t}(qf),Gf=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),Wf=(($f=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(Gf)).\u0275fac=function(e){return new(e||$f)(Bo(Qf,2))},$f.\u0275dir=wt({type:$f,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&da("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ra]}),$f),Kf=((zf=function(e){function t(e){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))}return _inherits(t,e),t}(Gf)).\u0275fac=function(e){return new(e||zf)(Bo(Ff,2))},zf.\u0275dir=wt({type:zf,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&da("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ra]}),zf);function Zf(e){return null==e||0===e.length}var Jf=new Be("NgValidators"),Yf=new Be("NgAsyncValidators"),Xf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,eh=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if(Zf(t.value)||Zf(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Zf(t.value)||Zf(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Zf(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Zf(e.value)?null:Xf.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Zf(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(Zf(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(th);return 0==t.length?null:function(e){return rh(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(th);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(u(r))return Tf(r,null);if(c(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Tf(i.map((function(e){return r[e]})),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return Tf(t=1===t.length&&u(t[0])?t[0]:t,null).pipe(U((function(e){return o.apply(void 0,_toConsumableArray(e))})))}return Tf(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(nh)).pipe(U(rh))}}}]),e}();function th(e){return null!=e}function nh(e){var t=Jo(e)?H(e):e;if(!Yo(t))throw new Error("Expected validator to return Promise or Observable.");return t}function rh(e){var t=e.reduce((function(e,t){return null!=t?Object.assign(Object.assign({},e),t):e}),{});return 0===Object.keys(t).length?null:t}function ih(e){return e.validate?function(t){return e.validate(t)}:e}function oh(e){return e.validate?function(t){return e.validate(t)}:e}var ah,sh,uh,ch,lh={provide:jf,useExisting:Oe((function(){return fh})),multi:!0},fh=((ah=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||ah)(Bo(ts),Bo(Ja))},ah.\u0275dir=wt({type:ah,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Xo("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(e){return t.onTouched()}))},features:[Ga([lh])]}),ah),hh={provide:jf,useExisting:Oe((function(){return ph})),multi:!0},dh=((uh=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||uh)},uh.\u0275prov=de({token:uh,factory:uh.\u0275fac}),uh),ph=((sh=function(){function e(t,n,r,i){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Qf),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||sh)(Bo(ts),Bo(Ja),Bo(dh),Bo(Co))},sh.\u0275dir=wt({type:sh,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Xo("change",(function(e){return t.onChange()}))("blur",(function(e){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ga([hh])]}),sh),vh={provide:jf,useExisting:Oe((function(){return gh})),multi:!0},gh=((ch=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||ch)(Bo(ts),Bo(Ja))},ch.\u0275dir=wt({type:ch,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Xo("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(e){return t.onTouched()}))},features:[Ga([vh])]}),ch),mh='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',yh='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',_h={provide:jf,useExisting:Oe((function(){return wh})),multi:!0};function bh(e,t){return null==e?"".concat(t):(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var kh,Ch,wh=((Ch=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Io}return _createClass(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=bh(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||Ch)(Bo(ts),Bo(Ja))},Ch.\u0275dir=wt({type:Ch,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Xo("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(e){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ga([_h])]}),Ch),Sh=((kh=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(bh(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}()).\u0275fac=function(e){return new(e||kh)(Bo(Ja),Bo(ts),Bo(wh,9))},kh.\u0275dir=wt({type:kh,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),kh),xh={provide:jf,useExisting:Oe((function(){return Th})),multi:!0};function Oh(e,t){return null==e?"".concat(t):("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Eh,Ah,Th=((Ah=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Io}return _createClass(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=t._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var f=t._getOptionValue(l.value);r.push(f)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received ".concat(JSON.stringify(e)));this._compareWith=e}}]),e}()).\u0275fac=function(e){return new(e||Ah)(Bo(ts),Bo(Ja))},Ah.\u0275dir=wt({type:Ah,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Xo("change",(function(e){return t.onChange(e.target)}))("blur",(function(e){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ga([xh])]}),Ah),Ih=((Eh=function(){function e(t,n,r){_classCallCheck(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(Oh(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(Oh(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}()).\u0275fac=function(e){return new(e||Eh)(Bo(Ja),Bo(ts),Bo(Th,9))},Eh.\u0275dir=wt({type:Eh,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),Eh);function Rh(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Ph(e,t){e||jh(t,"Cannot find control with"),t.valueAccessor||jh(t,"No value accessor for form control with"),e.validator=eh.compose([e.validator,t.validator]),e.asyncValidator=eh.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Dh(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Dh(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Dh(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function jh(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Mh(e){return null!=e?eh.compose(e.map(ih)):null}function Nh(e){return null!=e?eh.composeAsync(e.map(oh)):null}var Lh=[Nf,gh,fh,wh,Th,ph];function Vh(e){var t=qh(e)?e.validators:e;return Array.isArray(t)?Mh(t):t||null}function Uh(e,t){var n=qh(t)?t.asyncValidators:e;return Array.isArray(n)?Nh(n):n||null}function qh(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Fh,Bh,Hh,zh,$h,Qh,Gh,Wh=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"setValidators",value:function(e){this.validator=Vh(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Uh(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=nh(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){return null==t?null:(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length?null:t.reduce((function(e,t){return e instanceof Zh?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Jh&&e.at(t)||null}),e))}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new zs,this.statusChanges=new zs}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){qh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),Kh=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,t),(e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Vh(r),Uh(i,r))))._onChange=[],e._applyFormState(n),e._setUpdateStrategy(r),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _inherits(t,e),_createClass(t,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),t}(Wh),Zh=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Vh(n),Uh(r,n)))).controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return _inherits(t,e),_createClass(t,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof Kh?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),t}(Wh),Jh=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,Vh(n),Uh(r,n)))).controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return _inherits(t,e),_createClass(t,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof Kh?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.controls[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){if(r.value.enabled)return!1}}catch(o){t=!0,n=o}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),t}(Wh),Yh={provide:Ff,useExisting:Oe((function(){return ed}))},Xh=Promise.resolve(null),ed=((Bh=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).submitted=!1,r._directives=[],r.ngSubmit=new zs,r.form=new Zh({},Mh(e),Nh(n)),r}return _inherits(t,e),_createClass(t,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"addControl",value:function(e){var t=this;Xh.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Ph(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;Xh.then((function(){var n,r,i,o=t._findContainer(e.path);o&&o.removeControl(e.name),n=t._directives,r=e,(i=n.indexOf(r))>-1&&n.splice(i,1)}))}},{key:"addFormGroup",value:function(e){var t=this;Xh.then((function(){var n=t._findContainer(e.path),r=new Zh({});(function(e,t){null==e&&jh(t,"Cannot find control with"),e.validator=eh.compose([e.validator,t.validator]),e.asyncValidator=eh.composeAsync([e.asyncValidator,t.asyncValidator])})(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;Xh.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;Xh.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}}]),t}(Ff)).\u0275fac=function(e){return new(e||Bh)(Bo(Jf,10),Bo(Yf,10))},Bh.\u0275dir=wt({type:Bh,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Xo("submit",(function(e){return t.onSubmit(e)}))("reset",(function(e){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ga([Yh]),Ra]}),Bh),td=((Fh=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).apply(this,arguments))}return _inherits(t,e),_createClass(t,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Rh(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Mh(this._validators)}},{key:"asyncValidator",get:function(){return Nh(this._asyncValidators)}}]),t}(Ff)).\u0275fac=function(e){return nd(e||Fh)},Fh.\u0275dir=wt({type:Fh,features:[Ra]}),Fh),nd=Qn(td),rd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(mh,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(yh))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(mh,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(yh))}}]),e}(),id={provide:Ff,useExisting:Oe((function(){return od}))},od=((Hh=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._parent=e,i._validators=n,i._asyncValidators=r,i}return _inherits(t,e),_createClass(t,[{key:"_checkParentType",value:function(){this._parent instanceof t||this._parent instanceof ed||rd.modelGroupParentException()}}]),t}(td)).\u0275fac=function(e){return new(e||Hh)(Bo(Ff,5),Bo(Jf,10),Bo(Yf,10))},Hh.\u0275dir=wt({type:Hh,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Ga([id]),Ra]}),Hh),ad={provide:Qf,useExisting:Oe((function(){return ud}))},sd=Promise.resolve(null),ud=((Gh=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))).control=new Kh,o._registered=!1,o.update=new zs,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||jh(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var o;t.constructor===Uf?n=t:(o=t,Lh.some((function(e){return o.constructor===e}))?(r&&jh(e,"More than one built-in value accessor matches form control with"),r=t):(i&&jh(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(jh(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(o),i),o}return _inherits(t,e),_createClass(t,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Io(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Ph(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof od)&&this._parent instanceof td?rd.formGroupNameException():this._parent instanceof od||this._parent instanceof ed||rd.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||rd.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;sd.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;sd.then((function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()}))}},{key:"path",get:function(){return this._parent?Rh(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Mh(this._rawValidators)}},{key:"asyncValidator",get:function(){return Nh(this._rawAsyncValidators)}}]),t}(Qf)).\u0275fac=function(e){return new(e||Gh)(Bo(Ff,9),Bo(Jf,10),Bo(Yf,10),Bo(jf,10))},Gh.\u0275dir=wt({type:Gh,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ga([ad]),Ra,La()]}),Gh),cd=((Qh=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Qh)},Qh.\u0275dir=wt({type:Qh,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Qh),ld=(($h=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:$h}),$h.\u0275inj=pe({factory:function(e){return new(e||$h)}}),$h),fd=((zh=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:zh}),zh.\u0275inj=pe({factory:function(e){return new(e||zh)},providers:[dh],imports:[ld]}),zh),hd=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)))._value=e,n}return _inherits(t,e),_createClass(t,[{key:"_subscribe",value:function(e){var n=_get(_getPrototypeOf(t.prototype),"_subscribe",this).call(this,e);return n&&!n.closed&&e.next(this._value),n}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(t.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),t}(A),dd={},pd=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new vd(e,this.resultSelector))}}]),e}(),vd=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.values.push(dd),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(L(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var o=this.values,a=this.toRespond?o[n]===dd?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(V),gd=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).scheduler=e,r.work=n,r.pending=!1,r}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),t}(function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this))}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),t}(h)),md=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),yd=new(function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:md.now;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,(function(){return t.delegate&&t.delegate!==_assertThisInitialized(n)?t.delegate.now():r()})))).actions=[],n.active=!1,n.scheduled=void 0,n}return _inherits(t,e),_createClass(t,[{key:"schedule",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return t.delegate&&t.delegate!==this?t.delegate.schedule(e,n,r):_get(_getPrototypeOf(t.prototype),"schedule",this).call(this,e,n,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),t}(md))(gd);function _d(e,t,n,i){return r(n)&&(i=n,n=void 0),i?_d(e,t,n).pipe(U((function(e){return u(e)?i.apply(void 0,_toConsumableArray(e)):i(e)}))):new C((function(r){!function e(t,n,r,i,o){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var u=t;t.on(n,r),a=function(){return u.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,f=t.length;l<f;l++)e(t[l],n,r,i,o)}i.add(a)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)}))}var bd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new kd(e))}}]),e}(),kd=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).hasFirst=!1,n.observables=[],n.subscriptions=[],n}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=L(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var a=this.subscriptions[o];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)}}]),t}(V);function Cd(){return W(1)}function wd(){return Cd()(Nl.apply(void 0,arguments))}function Sd(e,t){return function(n){return n.lift(new xd(e,t))}}var xd=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Od(e,this.compare,this.keySelector))}}]),e}(),Od=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return _inherits(t,e),_createClass(t,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}]),t}(v);function Ed(e,t){return"function"==typeof t?function(n){return n.pipe(Ed((function(n,r){return H(e(n,r)).pipe(U((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new Ad(e))}}var Ad=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Td(e,this.project))}}]),e}(),Td=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).project=n,r.index=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new R(this,t,n),o=this.destination;o.add(i),this.innerSubscription=L(this,e,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(t.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),t}(V);function Id(e){return function(t){return t.lift(new Rd(e))}}var Rd=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new Pd(e),r=L(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),Pd=function(e){function t(e){var n;return _classCallCheck(this,t),(n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).seenValue=!1,n}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),t}(V),Dd=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}(),jd=new C((function(e){return e.complete()}));function Md(e){return e?function(e){return new C((function(t){return e.schedule((function(){return t.complete()}))}))}(e):jd}function Nd(e){return function(t){return 0===e?Md():t.lift(new Ld(e))}}var Ld=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Dd}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Vd(e,this.total))}}]),e}(),Vd=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).total=n,r.count=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),t}(v);function Ud(e,t,n){return function(r){return r.lift(new qd(e,t,n))}}var qd=function(){function e(t,n,r){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Fd(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),Fd=function(e){function t(e,n,i,o){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e)))._tapNext=y,a._tapError=y,a._tapComplete=y,a._tapError=i||y,a._tapComplete=o||y,r(n)?(a._context=_assertThisInitialized(a),a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||y,a._tapError=n.error||y,a._tapComplete=n.complete||y),a}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),t}(v);function Bd(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new zd(t,n))}}var Hd,zd=function(){function e(t,n){_classCallCheck(this,e),this.observables=t,this.project=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new $d(e,this.observables,this.project))}}]),e}(),$d=function(e){function t(e,n,r){var i;_classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).observables=n,i.project=r,i.toRespond=[];var o=n.length;i.values=new Array(o);for(var a=0;a<o;a++)i.toRespond.push(a);for(var s=0;s<o;s++){var u=n[s];i.add(L(_assertThisInitialized(i),u,u,s))}return i}return _inherits(t,e),_createClass(t,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(e){if(0===this.toRespond.length){var t=[e].concat(_toConsumableArray(this.values));this.project?this._tryProject(t):this.destination.next(t)}}},{key:"_tryProject",value:function(e){var t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),t}(V),Qd=((Hd=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Nl(this.value);case"E":return e=this.error,new C((function(t){return t.error(e)}));case"C":return Md()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Hd("C"),Hd.undefinedValueNotification=new Hd("N",void 0),Hd);function Gd(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yd,r=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new Wd(r,n))}}var Wd=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Kd(e,this.delay,this.scheduler))}}]),e}(),Kd=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return _inherits(t,e),_createClass(t,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new Zd(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(Qd.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Qd.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1}}]),t}(v),Zd=function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n};$localize(_templateObject());var Jd=["*"];$localize(_templateObject2()),$localize(_templateObject3()),$localize(_templateObject4()),$localize(_templateObject5()),$localize(_templateObject6()),$localize(_templateObject7()),$localize(_templateObject8()),$localize(_templateObject9()),$localize(_templateObject10()),$localize(_templateObject11());var Yd=["dialog"];function Xd(e,t){if(1&e&&(Go(0,"strong",3),Sa(1),Wo()),2&e){var n=na();Pr(1),xa(n.header)}}$localize(_templateObject12()),$localize(_templateObject13()),$localize(_templateObject14()),$localize(_templateObject15()),$localize(_templateObject16()),$localize(_templateObject17()),$localize(_templateObject18()),$localize(_templateObject19()),$localize(_templateObject20(),"\ufffd0\ufffd"),$localize(_templateObject21()),$localize(_templateObject22()),$localize(_templateObject23()),$localize(_templateObject24()),$localize(_templateObject25()),$localize(_templateObject26()),$localize(_templateObject27()),$localize(_templateObject28()),$localize(_templateObject29()),$localize(_templateObject30()),$localize(_templateObject31()),$localize(_templateObject32()),$localize(_templateObject33(),"\ufffd0\ufffd"),$localize(_templateObject34(),"\ufffd0\ufffd");var ep=["aria-label",$localize(_templateObject35())];function tp(e,t){}function np(e,t){if(1&e){var n=Zo();Go(0,"div",4),qo(1,tp,0,0,"ng-template",5),Go(2,"button",6),r=ep,function(e,t,n,r){for(var i=Ut().index-19,o=[],a=0;a<r.length;a+=2)for(var s=r[a],u=r[a+1].split(Ms),c=0;c<u.length;c++){var l=u[c];if(1&c)throw new Error("ICU expressions are not yet supported in attributes");if(""!==l)if(l.match(js))t.firstCreatePass&&null===t.data[22]&&rt(Ns(l,i,s),o);else{var f=cr(t,i);3===f.type&&fi(i,s,l,t,e);var h=null!==f.inputs&&f.inputs[s];h&&Ei(t,e,h,s,l)}}t.firstCreatePass&&null===t.data[22]&&(t.data[22]=o)}(Nt(),Lt(),0,r),Xo("click",(function(e){return Vt(n),na().hide()})),Go(4,"span",7),Sa(5,"\xd7"),Wo(),Wo(),Wo()}var r;if(2&e){var i=na(),o=Fo(1);Pr(1),$o("ngTemplateOutlet",i.contentHeaderTpl||o)}}function rp(e,t){if(1&e&&(Go(0,"span"),Sa(1),Wo()),2&e){var n=na().$implicit;pa(na().highlightClass),Pr(1),xa(n)}}function ip(e,t){1&e&&Sa(0),2&e&&xa(na().$implicit)}function op(e,t){if(1&e&&(qo(0,rp,2,3,"span",1),qo(1,ip,1,1,"ng-template",null,2,lu)),2&e){var n=t.odd,r=Fo(2);$o("ngIf",n)("ngIfElse",r)}}function ap(e,t){if(1&e&&Ko(0,"ngb-highlight",2),2&e){var n=t.term;$o("result",(0,t.formatter)(t.result))("term",n)}}function sp(e,t){}var up=function(e,t,n){return{result:e,term:t,formatter:n}};function cp(e,t){if(1&e){var n=Zo();Go(0,"button",3),Xo("mouseenter",(function(e){Vt(n);var r=t.index;return na().markActive(r)}))("click",(function(e){Vt(n);var r=t.$implicit;return na().select(r)})),qo(1,sp,0,0,"ng-template",4),Wo()}if(2&e){var r=t.$implicit,i=t.index,o=na(),a=Fo(1);da("active",i===o.activeIdx),$o("id",o.id+"-"+i),Pr(1),$o("ngTemplateOutlet",o.resultTemplate||a)("ngTemplateOutletContext",(5,s=up,u=r,c=o.term,l=o.formatter,function(e,t,n,r,i,o,a,s){var u=t+5;return Vo(e,u,i,o,a)?jo(e,u+3,r(i,o,a)):Mo(e,u+3)}(Nt(),$t(),0,s,u,c,l)))}var s,u,c,l}function lp(e){return null!=e?"".concat(e):""}function fp(e){return null!=e}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var hp,dp,pp,vp,gp,mp=((gp=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:gp}),gp.\u0275inj=pe({factory:function(e){return new(e||gp)},imports:[[nl]]}),gp),yp=((vp=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:vp}),vp.\u0275inj=pe({factory:function(e){return new(e||vp)},imports:[[nl]]}),vp),_p=((pp=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:pp}),pp.\u0275inj=pe({factory:function(e){return new(e||pp)}}),pp),bp=((dp=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:dp}),dp.\u0275inj=pe({factory:function(e){return new(e||dp)},imports:[[nl]]}),dp),kp=((hp=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:hp}),hp.\u0275inj=pe({factory:function(e){return new(e||hp)}}),hp),Cp=function(){var e={Tab:9,Enter:13,Escape:27,Space:32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40};return e[e.Tab]="Tab",e[e.Enter]="Enter",e[e.Escape]="Escape",e[e.Space]="Space",e[e.PageUp]="PageUp",e[e.PageDown]="PageDown",e[e.End]="End",e[e.Home]="Home",e[e.ArrowLeft]="ArrowLeft",e[e.ArrowUp]="ArrowUp",e[e.ArrowRight]="ArrowRight",e[e.ArrowDown]="ArrowDown",e}(),wp=function(e,t){return!!t&&t.some((function(t){return t.contains(e)}))},Sp=function(e,t){return!t||null!=function(e,t){return t?e.closest(t):null}(e,t)},xp="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Op(e,t,n,r,i,o,a,s){var c;n&&e.runOutsideAngular((c=function(){var c=_d(t,"keydown").pipe(Id(i),Vl((function(e){return e.which===Cp.Escape})),Ud((function(e){return e.preventDefault()}))),l=_d(t,"mousedown").pipe(U((function(e){var t=e.target;return 2!==e.button&&!wp(t,a)&&("inside"===n?wp(t,o)&&Sp(t,s):"outside"===n?!wp(t,o):Sp(t,s)||!wp(t,o))})),Id(i));(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!u(t[0]))return t[0];t=t[0]}return K(t,void 0).lift(new bd)})([c,_d(t,"mouseup").pipe(Bd(l),Vl((function(e){var t=_slicedToArray(e,2);t[0];return t[1]})),Gd(0),Id(i))]).subscribe((function(){return e.run(r)}))},xp?function(){return setTimeout((function(){return c()}),100)}:c))}var Ep=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ap(e){var t=Array.from(e.querySelectorAll(Ep)).filter((function(e){return-1!==e.tabIndex}));return[t[0],t[t.length-1]]}var Tp=/\s+/,Ip=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getAllStyles",value:function(e){return window.getComputedStyle(e)}},{key:"getStyle",value:function(e,t){return this.getAllStyles(e)[t]}},{key:"isStaticPositioned",value:function(e){return"static"===(this.getStyle(e,"position")||"static")}},{key:"offsetParent",value:function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}},{key:"position",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))t={top:(t=e.getBoundingClientRect()).top,bottom:t.bottom,left:t.left,right:t.right,height:t.height,width:t.width};else{var i=this.offsetParent(e);t=this.offset(e,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return t.top-=r.top,t.bottom-=r.top,t.left-=r.left,t.right-=r.left,n&&(t.top=Math.round(t.top),t.bottom=Math.round(t.bottom),t.left=Math.round(t.left),t.right=Math.round(t.right)),t}},{key:"offset",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}},{key:"positionElements",value:function(e,t,n,r){var i=_slicedToArray(n.split("-"),2),o=i[0],a=void 0===o?"top":o,s=i[1],u=void 0===s?"center":s,c=r?this.offset(e,!1):this.position(e,!1),l=this.getAllStyles(t),f=parseFloat(l.marginTop),h=parseFloat(l.marginBottom),d=parseFloat(l.marginLeft),p=parseFloat(l.marginRight),v=0,g=0;switch(a){case"top":v=c.top-(t.offsetHeight+f+h);break;case"bottom":v=c.top+c.height;break;case"left":g=c.left-(t.offsetWidth+d+p);break;case"right":g=c.left+c.width}switch(u){case"top":v=c.top;break;case"bottom":v=c.top+c.height-t.offsetHeight;break;case"left":g=c.left;break;case"right":g=c.left+c.width-t.offsetWidth;break;case"center":"top"===a||"bottom"===a?g=c.left+c.width/2-t.offsetWidth/2:v=c.top+c.height/2-t.offsetHeight/2}t.style.transform="translate(".concat(Math.round(g),"px, ").concat(Math.round(v),"px)");var m=t.getBoundingClientRect(),y=document.documentElement,_=window.innerHeight||y.clientHeight,b=window.innerWidth||y.clientWidth;return m.left>=0&&m.top>=0&&m.right<=b&&m.bottom<=_}}]),e}());function Rp(e,t,n,r,i){var o=Array.isArray(n)?n:n.split(Tp),a=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=t.classList,u=function(e){var t=_slicedToArray(e.split("-"),2),n=t[0],r=t[1],o=[];return i&&(o.push("".concat(i,"-").concat(n)),r&&o.push("".concat(i,"-").concat(n,"-").concat(r)),o.forEach((function(e){s.add(e)}))),o};i&&a.forEach((function(e){s.remove("".concat(i,"-").concat(e))}));var c=o.findIndex((function(e){return"auto"===e}));c>=0&&a.forEach((function(e){null==o.find((function(t){return-1!==t.search("^"+e)}))&&o.splice(c++,1,e)}));var l,f=t.style;f.position="absolute",f.top="0",f.left="0",f["will-change"]="transform";var h=!1,d=!0,p=!1,v=void 0;try{for(var g,m=o[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){var y=u(l=g.value);if(Ip.positionElements(e,t,l,r)){h=!0;break}i&&y.forEach((function(e){s.remove(e)}))}}catch(_){p=!0,v=_}finally{try{d||null==m.return||m.return()}finally{if(p)throw v}}return h||(u(l=o[0]),Ip.positionElements(e,t,l,r)),l}var Pp,Dp,jp,Mp,Np,Lp,Vp,Up,qp,Fp,Bp,Hp,zp,$p,Qp,Gp,Wp,Kp,Zp,Jp,Yp,Xp,ev,tv,nv,rv,iv,ov,av,sv,uv,cv,lv,fv=((Fp=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:Fp}),Fp.\u0275inj=pe({factory:function(e){return new(e||Fp)},imports:[[nl,fd]]}),Fp),hv=((qp=function e(){_classCallCheck(this,e),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}).\u0275prov=de({token:qp,factory:qp.\u0275fac=function(e){return new(e||qp)},providedIn:"root"}),qp.ngInjectableDef=de({factory:function(){return new qp},token:qp,providedIn:"root"}),qp),dv=((Up=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Up)},Up.\u0275dir=wt({type:Up,selectors:[["",8,"navbar"]]}),Up),pv=((Vp=function(){function e(t){_classCallCheck(this,e),this.elementRef=t,this._disabled=!1}return _createClass(e,[{key:"disabled",set:function(e){this._disabled=""===e||!0===e},get:function(){return this._disabled}}]),e}()).\u0275fac=function(e){return new(e||Vp)(Bo(Ja))},Vp.\u0275dir=wt({type:Vp,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,t){2&e&&da("disabled",t.disabled)},inputs:{disabled:"disabled"}}),Vp),vv=((Lp=function e(t){_classCallCheck(this,e),this.dropdown=t,this.placement="bottom",this.isOpen=!1}).\u0275fac=function(e){return new(e||Lp)(Bo(Oe((function(){return yv}))))},Lp.\u0275dir=wt({type:Lp,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,t,n){var r;1&e&&iu(n,pv,!1),2&e&&tu(r=au())&&(t.menuItems=r)},hostVars:5,hostBindings:function(e,t){1&e&&Xo("keydown.ArrowUp",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.ArrowDown",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.Home",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.End",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.Enter",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.Space",(function(e){return t.dropdown.onKeyDown(e)})),2&e&&(Uo("x-placement",t.placement),da("dropdown-menu",!0)("show",t.dropdown.isOpen()))}}),Lp),gv=((Np=function(){function e(t,n){_classCallCheck(this,e),this.dropdown=t,this._elementRef=n,this.anchorEl=n.nativeElement}return _createClass(e,[{key:"getNativeElement",value:function(){return this._elementRef.nativeElement}}]),e}()).\u0275fac=function(e){return new(e||Np)(Bo(Oe((function(){return yv}))),Bo(Ja))},Np.\u0275dir=wt({type:Np,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:["aria-haspopup","true",1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){2&e&&Uo("aria-expanded",t.dropdown.isOpen())}}),Np),mv=((Mp=function(e){function t(e,n){return _classCallCheck(this,t),_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))}return _inherits(t,e),t}(gv)).\u0275fac=function(e){return new(e||Mp)(Bo(Oe((function(){return yv}))),Bo(Ja))},Mp.\u0275dir=wt({type:Mp,selectors:[["","ngbDropdownToggle",""]],hostAttrs:["aria-haspopup","true",1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,t){1&e&&Xo("click",(function(e){return t.dropdown.toggle()}))("keydown.ArrowUp",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.ArrowDown",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.Home",(function(e){return t.dropdown.onKeyDown(e)}))("keydown.End",(function(e){return t.dropdown.onKeyDown(e)})),2&e&&Uo("aria-expanded",t.dropdown.isOpen())},features:[Ga([{provide:gv,useExisting:Oe((function(){return Mp}))}]),Ra]}),Mp),yv=((jp=function(){function e(t,n,r,i,o,a,s){var u=this;_classCallCheck(this,e),this._changeDetector=t,this._document=r,this._ngZone=i,this._elementRef=o,this._renderer=a,this._closed$=new A,this._open=!1,this.openChange=new zs,this.placement=n.placement,this.container=n.container,this.autoClose=n.autoClose,this.display=s?"static":"dynamic",this._zoneSubscription=i.onStable.subscribe((function(){u._positionMenu()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this._ngZone.onStable.pipe(Nd(1)).subscribe((function(){e._applyPlacementClasses(),e._open&&e._setCloseHandlers()}))}},{key:"ngOnChanges",value:function(e){e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses()}},{key:"isOpen",value:function(){return this._open}},{key:"open",value:function(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers())}},{key:"_setCloseHandlers",value:function(){var e=this,t=this._anchor;Op(this._ngZone,this._document,this.autoClose,(function(){return e.close()}),this._closed$,this._menu?[this._menuElement.nativeElement]:[],t?[t.getNativeElement()]:[],".dropdown-item,.dropdown-divider")}},{key:"close",value:function(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"ngOnDestroy",value:function(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}},{key:"onKeyDown",value:function(e){var t=this,n=e.which,r=this._getMenuElements(),i=-1,o=!1,a=null,s=this._isEventFromToggle(e);if(!s&&r.length&&r.forEach((function(n,r){n.contains(e.target)&&(o=!0,a=n),n===t._document.activeElement&&(i=r)})),n!==Cp.Space&&n!==Cp.Enter){if(s||o){if(this.open(),r.length){switch(n){case Cp.ArrowDown:i=Math.min(i+1,r.length-1);break;case Cp.ArrowUp:if(this._isDropup()&&-1===i){i=r.length-1;break}i=Math.max(i-1,0);break;case Cp.Home:i=0;break;case Cp.End:i=r.length-1}r[i].focus()}e.preventDefault()}}else!o||!0!==this.autoClose&&"inside"!==this.autoClose||_d(a,"click").pipe(Nd(1)).subscribe((function(){return t.close()}))}},{key:"_isDropup",value:function(){return this._elementRef.nativeElement.classList.contains("dropup")}},{key:"_isEventFromToggle",value:function(e){return this._anchor.getNativeElement().contains(e.target)}},{key:"_getMenuElements",value:function(){var e=this._menu;return null==e?[]:e.menuItems.filter((function(e){return!e.disabled})).map((function(e){return e.elementRef.nativeElement}))}},{key:"_positionMenu",value:function(){var e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?Rp(this._anchor.anchorEl,this._bodyContainer||this._menuElement.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}},{key:"_getFirstPlacement",value:function(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}},{key:"_resetContainer",value:function(){var e=this._renderer,t=this._menuElement;if(t){var n=t.nativeElement;e.appendChild(this._elementRef.nativeElement,n),e.removeStyle(n,"position"),e.removeStyle(n,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}},{key:"_applyContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._resetContainer(),"body"===e){var t=this._renderer,n=this._menuElement.nativeElement,r=this._bodyContainer=this._bodyContainer||t.createElement("div");t.setStyle(r,"position","absolute"),t.setStyle(n,"position","static"),t.setStyle(r,"z-index","1050"),t.appendChild(r,n),t.appendChild(this._document.body,r)}}},{key:"_applyPlacementClasses",value:function(e){var t=this._menu;if(t){e||(e=this._getFirstPlacement(this.placement));var n=this._renderer,r=this._elementRef.nativeElement;n.removeClass(r,"dropup"),n.removeClass(r,"dropdown"),t.placement="static"===this.display?null:e;var i=-1!==e.search("^top")?"dropup":"dropdown";n.addClass(r,i);var o=this._bodyContainer;o&&(n.removeClass(o,"dropup"),n.removeClass(o,"dropdown"),n.addClass(o,i))}}}]),e}()).\u0275fac=function(e){return new(e||jp)(Bo(oo),Bo(hv),Bo(hc),Bo(Du),Bo(Ja),Bo(ts),Bo(dv,8))},jp.\u0275dir=wt({type:jp,selectors:[["","ngbDropdown",""]],contentQueries:function(e,t,n){var r;1&e&&(iu(n,vv,!0),iu(n,vv,!0,Ja),iu(n,gv,!0)),2&e&&(tu(r=au())&&(t._menu=r.first),tu(r=au())&&(t._menuElement=r.first),tu(r=au())&&(t._anchor=r.first))},hostVars:2,hostBindings:function(e,t){2&e&&da("show",t.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[La()]}),jp),_v=((Dp=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:Dp}),Dp.\u0275inj=pe({factory:function(e){return new(e||Dp)}}),Dp),bv=((Pp=function e(){_classCallCheck(this,e),this.backdrop=!0,this.keyboard=!0}).\u0275prov=de({token:Pp,factory:Pp.\u0275fac=function(e){return new(e||Pp)},providedIn:"root"}),Pp.ngInjectableDef=de({factory:function(){return new Pp},token:Pp,providedIn:"root"}),Pp),kv=function e(t,n,r){_classCallCheck(this,e),this.nodes=t,this.viewRef=n,this.componentRef=r},Cv=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this._type=t,this._injector=n,this._viewContainerRef=r,this._renderer=i,this._componentFactoryResolver=o,this._applicationRef=a}return _createClass(e,[{key:"open",value:function(e,t){return this._windowRef||(this._contentRef=this._getContentRef(e,t),this._windowRef=this._viewContainerRef.createComponent(this._componentFactoryResolver.resolveComponentFactory(this._type),0,this._injector,this._contentRef.nodes)),this._windowRef}},{key:"close",value:function(){this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null,this._contentRef.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null))}},{key:"_getContentRef",value:function(e,t){if(e){if(e instanceof bs){var n=e.createEmbeddedView(t);return this._applicationRef.attachView(n),new kv([n.rootNodes],n)}return new kv([[this._renderer.createText("".concat(e))]])}return new kv([])}}]),e}(),wv=function(){},Sv=((Hp=function(){function e(t){_classCallCheck(this,e),this._document=t}return _createClass(e,[{key:"compensate",value:function(){var e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):wv}},{key:"_adjustBody",value:function(e){var t=this._document.body,n=t.style.paddingRight,r=parseFloat(window.getComputedStyle(t)["padding-right"]);return t.style["padding-right"]="".concat(r+e,"px"),function(){return t.style["padding-right"]=n}}},{key:"_isPresent",value:function(e){var t=this._document.body.getBoundingClientRect();return window.innerWidth-(t.left+t.right)>=e-.1*e}},{key:"_getWidth",value:function(){var e=this._document.createElement("div");e.className="modal-scrollbar-measure";var t=this._document.body;t.appendChild(e);var n=e.getBoundingClientRect().width-e.clientWidth;return t.removeChild(e),n}}]),e}()).\u0275fac=function(e){return new(e||Hp)(Je(hc))},Hp.\u0275prov=de({token:Hp,factory:Hp.\u0275fac,providedIn:"root"}),Hp.ngInjectableDef=de({factory:function(){return new Hp(Je(hc))},token:Hp,providedIn:"root"}),Hp),xv=((Bp=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Bp)},Bp.\u0275cmp=mt({type:Bp,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(e,t){2&e&&pa("modal-backdrop fade show"+(t.backdropClass?" "+t.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),Bp),Ov=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"close",value:function(e){}},{key:"dismiss",value:function(e){}}]),e}(),Ev=function(){function e(t,n,r,i){var o=this;_classCallCheck(this,e),this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=r,this._beforeDismiss=i,t.instance.dismissEvent.subscribe((function(e){o.dismiss(e)})),this.result=new Promise((function(e,t){o._resolve=e,o._reject=t})),this.result.then(null,(function(){}))}return _createClass(e,[{key:"close",value:function(e){this._windowCmptRef&&(this._resolve(e),this._removeModalElements())}},{key:"_dismiss",value:function(e){this._reject(e),this._removeModalElements()}},{key:"dismiss",value:function(e){var t=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then((function(n){!1!==n&&t._dismiss(e)}),(function(){})):!1!==n&&this._dismiss(e)}else this._dismiss(e)}},{key:"_removeModalElements",value:function(){var e=this._windowCmptRef.location.nativeElement;if(e.parentNode.removeChild(e),this._windowCmptRef.destroy(),this._backdropCmptRef){var t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}},{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}}]),e}(),Av=function(){var e={BACKDROP_CLICK:0,ESC:1};return e[e.BACKDROP_CLICK]="BACKDROP_CLICK",e[e.ESC]="ESC",e}(),Tv=((Kp=function(){function e(t,n,r){_classCallCheck(this,e),this._document=t,this._elRef=n,this._zone=r,this._closed$=new A,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new zs}return _createClass(e,[{key:"dismiss",value:function(e){this.dismissEvent.emit(e)}},{key:"ngOnInit",value:function(){this._elWithFocus=this._document.activeElement}},{key:"ngAfterViewInit",value:function(){var e=this,t=this._elRef.nativeElement;if(this._zone.runOutsideAngular((function(){_d(t,"keydown").pipe(Id(e._closed$),Vl((function(t){return t.which===Cp.Escape&&e.keyboard}))).subscribe((function(t){return requestAnimationFrame((function(){t.defaultPrevented||e._zone.run((function(){return e.dismiss(Av.ESC)}))}))}));var n=!1;_d(e._dialogEl.nativeElement,"mousedown").pipe(Id(e._closed$),Ud((function(){return n=!1})),Ed((function(){return _d(t,"mouseup").pipe(Id(e._closed$),Nd(1))})),Vl((function(e){var n=e.target;return t===n}))).subscribe((function(){n=!0})),_d(t,"click").pipe(Id(e._closed$)).subscribe((function(r){var i=r.target;!0!==e.backdrop||t!==i||n||e._zone.run((function(){return e.dismiss(Av.BACKDROP_CLICK)})),n=!1}))})),!t.contains(document.activeElement)){var n=t.querySelector("[ngbAutofocus]"),r=Ap(t)[0];(n||r||t).focus()}}},{key:"ngOnDestroy",value:function(){var e,t=this,n=this._document.body,r=this._elWithFocus;e=r&&r.focus&&n.contains(r)?r:n,this._zone.runOutsideAngular((function(){setTimeout((function(){return e.focus()})),t._elWithFocus=null})),this._closed$.next()}}]),e}()).\u0275fac=function(e){return new(e||Kp)(Bo(hc),Bo(Ja),Bo(Du))},Kp.\u0275cmp=mt({type:Kp,selectors:[["ngb-modal-window"]],viewQuery:function(e,t){var n,r;1&e&&(r=Yd,ru(Lt(),Nt(),r,!0,void 0,!0)),2&e&&tu(n=au())&&(t._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:4,hostBindings:function(e,t){2&e&&(Uo("aria-modal",!0)("aria-labelledby",t.ariaLabelledBy),pa("modal fade show d-block"+(t.windowClass?" "+t.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Jd,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,t){1&e&&(ia(),Go(0,"div",0,1),Go(2,"div",2),oa(3),Wo(),Wo()),2&e&&pa("modal-dialog"+(t.size?" modal-"+t.size:"")+(t.centered?" modal-dialog-centered":"")+(t.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),Kp),Iv=((Wp=function(){function e(t,n,r,i,o,a){var s=this;_classCallCheck(this,e),this._applicationRef=t,this._injector=n,this._document=r,this._scrollBar=i,this._rendererFactory=o,this._ngZone=a,this._activeWindowCmptHasChanged=new A,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe((function(){if(s._windowCmpts.length){var e=s._windowCmpts[s._windowCmpts.length-1];(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];s._ngZone.runOutsideAngular((function(){var e=_d(t,"focusin").pipe(Id(n),U((function(e){return e.target})));_d(t,"keydown").pipe(Id(n),Vl((function(e){return e.which===Cp.Tab})),Bd(e)).subscribe((function(e){var n=_slicedToArray(e,2),r=n[0],i=n[1],o=_slicedToArray(Ap(t),2),a=o[0],s=o[1];i!==a&&i!==t||!r.shiftKey||(s.focus(),r.preventDefault()),i!==s||r.shiftKey||(a.focus(),r.preventDefault())})),r&&_d(t,"click").pipe(Id(n),Bd(e),U((function(e){return e[1]}))).subscribe((function(e){return e.focus()}))}))})(0,e.location.nativeElement,s._activeWindowCmptHasChanged),s._revertAriaHidden(),s._setAriaHidden(e.location.nativeElement)}}))}return _createClass(e,[{key:"open",value:function(e,t,n,r){var i=this,o=r.container instanceof HTMLElement?r.container:fp(r.container)?this._document.querySelector(r.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=function(){i._modalRefs.length||(a.removeClass(i._document.body,"modal-open"),i._revertAriaHidden())};if(!o)throw new Error('The specified modal container "'.concat(r.container||"body",'" was not found in the DOM.'));var c=new Ov,l=this._getContentRef(e,r.injector||t,n,c,r),f=!1!==r.backdrop?this._attachBackdrop(e,o):null,h=this._attachWindowComponent(e,o,l),d=new Ev(h,l,f,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(s,s),d.result.then(u,u),c.close=function(e){d.close(e)},c.dismiss=function(e){d.dismiss(e)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),f&&f.instance&&this._applyBackdropOptions(f.instance,r),d}},{key:"dismissAll",value:function(e){this._modalRefs.forEach((function(t){return t.dismiss(e)}))}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(e,t){var n=e.resolveComponentFactory(xv).create(this._injector);return this._applicationRef.attachView(n.hostView),t.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(e,t,n){var r=e.resolveComponentFactory(Tv).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}},{key:"_applyWindowOptions",value:function(e,t){this._windowAttributes.forEach((function(n){fp(t[n])&&(e[n]=t[n])}))}},{key:"_applyBackdropOptions",value:function(e,t){this._backdropAttributes.forEach((function(n){fp(t[n])&&(e[n]=t[n])}))}},{key:"_getContentRef",value:function(e,t,n,r,i){return n?n instanceof bs?this._createFromTemplateRef(n,r):"string"==typeof n?this._createFromString(n):this._createFromComponent(e,t,n,r,i):new kv([])}},{key:"_createFromTemplateRef",value:function(e,t){var n=e.createEmbeddedView({$implicit:t,close:function(e){t.close(e)},dismiss:function(e){t.dismiss(e)}});return this._applicationRef.attachView(n),new kv([n.rootNodes],n)}},{key:"_createFromString",value:function(e){var t=this._document.createTextNode("".concat(e));return new kv([[t]])}},{key:"_createFromComponent",value:function(e,t,n,r,i){var o=e.resolveComponentFactory(n),a=Co.create({providers:[{provide:Ov,useValue:r}],parent:t}),s=o.create(a),u=s.location.nativeElement;return i.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(s.hostView),new kv([[u]],s.hostView,s)}},{key:"_setAriaHidden",value:function(e){var t=this,n=e.parentElement;n&&e!==this._document.body&&(Array.from(n.children).forEach((function(n){n!==e&&"SCRIPT"!==n.nodeName&&(t._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))})),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach((function(e,t){e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")})),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(e){var t=this,n=function(){var n=t._modalRefs.indexOf(e);n>-1&&t._modalRefs.splice(n,1)};this._modalRefs.push(e),e.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(e){var t=this;this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy((function(){var n=t._windowCmpts.indexOf(e);n>-1&&(t._windowCmpts.splice(n,1),t._activeWindowCmptHasChanged.next())}))}}]),e}()).\u0275fac=function(e){return new(e||Wp)(Je(Xu),Je(Co),Je(hc),Je(Sv),Je(Xa),Je(Du))},Wp.\u0275prov=de({token:Wp,factory:Wp.\u0275fac,providedIn:"root"}),Wp.ngInjectableDef=de({factory:function(){return new Wp(Je(Xu),Je(He),Je(hc),Je(Sv),Je(Xa),Je(Du))},token:Wp,providedIn:"root"}),Wp),Rv=((Gp=function(){function e(t,n,r,i){_classCallCheck(this,e),this._moduleCFR=t,this._injector=n,this._modalStack=r,this._config=i}return _createClass(e,[{key:"open",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this._config,t);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}},{key:"dismissAll",value:function(e){this._modalStack.dismissAll(e)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),e}()).\u0275fac=function(e){return new(e||Gp)(Je(Za),Je(Co),Je(Iv),Je(bv))},Gp.\u0275prov=de({token:Gp,factory:Gp.\u0275fac,providedIn:"root"}),Gp.ngInjectableDef=de({factory:function(){return new Gp(Je(Za),Je(He),Je(Iv),Je(bv))},token:Gp,providedIn:"root"}),Gp),Pv=((Qp=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:Qp}),Qp.\u0275inj=pe({factory:function(e){return new(e||Qp)},providers:[Rv]}),Qp),Dv=(($p=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:$p}),$p.\u0275inj=pe({factory:function(e){return new(e||$p)},imports:[[nl]]}),$p),jv=((zp=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:zp}),zp.\u0275inj=pe({factory:function(e){return new(e||zp)},imports:[[nl]]}),zp),Mv=function(){function e(t,n){_classCallCheck(this,e),this.open=t,this.close=n,n||(this.close=t)}return _createClass(e,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),e}(),Nv={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},Lv=function(e){return e>0?Gd(e):function(e){return e}},Vv=((lv=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:lv}),lv.\u0275inj=pe({factory:function(e){return new(e||lv)},imports:[[nl]]}),lv),Uv=((cv=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:cv}),cv.\u0275inj=pe({factory:function(e){return new(e||cv)},imports:[[nl]]}),cv),qv=((uv=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:uv}),uv.\u0275inj=pe({factory:function(e){return new(e||uv)},imports:[[nl]]}),uv),Fv=((sv=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:sv}),sv.\u0275inj=pe({factory:function(e){return new(e||sv)},imports:[[nl,Dv]]}),sv),Bv=((av=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:av}),av.\u0275inj=pe({factory:function(e){return new(e||av)},imports:[[nl]]}),av),Hv=((ov=function e(){_classCallCheck(this,e),this.autohide=!0,this.delay=500,this.ariaLive="polite"}).\u0275prov=de({token:ov,factory:ov.\u0275fac=function(e){return new(e||ov)},providedIn:"root"}),ov.ngInjectableDef=de({factory:function(){return new ov},token:ov,providedIn:"root"}),ov),zv=((iv=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||iv)},iv.\u0275dir=wt({type:iv,selectors:[["","ngbToastHeader",""]]}),iv),$v=((rv=function(){function e(t,n){_classCallCheck(this,e),this.ariaLive=t,this.contentHeaderTpl=null,this.hideOutput=new zs,null==this.ariaLive&&(this.ariaLive=n.ariaLive),this.delay=n.delay,this.autohide=n.autohide}return _createClass(e,[{key:"ngAfterContentInit",value:function(){this._init()}},{key:"ngOnChanges",value:function(e){"autohide"in e&&(this._clearTimeout(),this._init())}},{key:"hide",value:function(){this._clearTimeout(),this.hideOutput.emit()}},{key:"_init",value:function(){var e=this;this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout((function(){return e.hide()}),this.delay))}},{key:"_clearTimeout",value:function(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}]),e}()).\u0275fac=function(e){return new(e||rv)(Ho("aria-live"),Bo(Hv))},rv.\u0275cmp=mt({type:rv,selectors:[["ngb-toast"]],contentQueries:function(e,t,n){var r,i,o,a;1&e&&(i=n,o=zv,a=bs,ou(Lt(),Nt(),o,!0,a,!0,Ut(),i)),2&e&&tu(r=au())&&(t.contentHeaderTpl=r.first)},hostAttrs:["role","alert","aria-atomic","true"],hostVars:5,hostBindings:function(e,t){2&e&&(Uo("aria-live",t.ariaLive),da("toast",!0)("show",!0))},inputs:{delay:"delay",autohide:"autohide",header:"header"},outputs:{hideOutput:"hide"},exportAs:["ngbToast"],features:[La()],ngContentSelectors:Jd,decls:5,vars:1,consts:[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"mr-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button",1,"close",3,"click",6,"aria-label"],["aria-hidden","true"]],template:function(e,t){1&e&&(ia(),qo(0,Xd,2,1,"ng-template",null,0,lu),qo(2,np,6,1,"ng-template",1),Go(3,"div",2),oa(4),Wo()),2&e&&(Pr(2),$o("ngIf",t.contentHeaderTpl||t.header))},directives:[$c,tl],styles:[".ngb-toasts{position:fixed;top:0;right:0;margin:.5em;z-index:1200}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}"],encapsulation:2}),rv),Qv=((nv=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:nv}),nv.\u0275inj=pe({factory:function(e){return new(e||nv)},imports:[[nl]]}),nv),Gv=((tv=function e(){_classCallCheck(this,e),this.autoClose=!0,this.placement="auto",this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}).\u0275prov=de({token:tv,factory:tv.\u0275fac=function(e){return new(e||tv)},providedIn:"root"}),tv.ngInjectableDef=de({factory:function(){return new tv},token:tv,providedIn:"root"}),tv),Wv=0,Kv=((ev=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ev)},ev.\u0275cmp=mt({type:ev,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(e,t){2&e&&(Ta("id",t.id),pa("tooltip show"+(t.tooltipClass?" "+t.tooltipClass:"")))},inputs:{id:"id",tooltipClass:"tooltipClass"},ngContentSelectors:Jd,decls:3,vars:0,consts:[[1,"arrow"],[1,"tooltip-inner"]],template:function(e,t){1&e&&(ia(),Ko(0,"div",0),Go(1,"div",1),oa(2),Wo())},styles:["ngb-tooltip-window.bs-tooltip-bottom .arrow,ngb-tooltip-window.bs-tooltip-top .arrow{left:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-bottom-left .arrow,ngb-tooltip-window.bs-tooltip-top-left .arrow{left:1em}ngb-tooltip-window.bs-tooltip-bottom-right .arrow,ngb-tooltip-window.bs-tooltip-top-right .arrow{left:auto;right:.8rem}ngb-tooltip-window.bs-tooltip-left .arrow,ngb-tooltip-window.bs-tooltip-right .arrow{top:calc(50% - .4rem)}ngb-tooltip-window.bs-tooltip-left-top .arrow,ngb-tooltip-window.bs-tooltip-right-top .arrow{top:.4rem}ngb-tooltip-window.bs-tooltip-left-bottom .arrow,ngb-tooltip-window.bs-tooltip-right-bottom .arrow{top:auto;bottom:.4rem}"],encapsulation:2,changeDetection:0}),ev),Zv=((Xp=function(){function e(t,n,r,i,o,a,s,u,c,l){var f=this;_classCallCheck(this,e),this._elementRef=t,this._renderer=n,this._ngZone=s,this._document=u,this._changeDetector=c,this.shown=new zs,this.hidden=new zs,this._ngbTooltipWindowId="ngb-tooltip-".concat(Wv++),this.autoClose=a.autoClose,this.placement=a.placement,this.triggers=a.triggers,this.container=a.container,this.disableTooltip=a.disableTooltip,this.tooltipClass=a.tooltipClass,this.openDelay=a.openDelay,this.closeDelay=a.closeDelay,this._popupService=new Cv(Kv,r,o,n,i,l),this._zoneSubscription=s.onStable.subscribe((function(){f._windowRef&&Rp(f._elementRef.nativeElement,f._windowRef.location.nativeElement,f.placement,"body"===f.container,"bs-tooltip")}))}return _createClass(e,[{key:"open",value:function(e){var t=this;this._windowRef||!this._ngbTooltip||this.disableTooltip||(this._windowRef=this._popupService.open(this._ngbTooltip,e),this._windowRef.instance.tooltipClass=this.tooltipClass,this._windowRef.instance.id=this._ngbTooltipWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbTooltipWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),Op(this._ngZone,this._document,this.autoClose,(function(){return t.close()}),this.hidden,[this._windowRef.location.nativeElement]),this.shown.emit())}},{key:"close",value:function(){null!=this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(),this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this._windowRef?this.close():this.open()}},{key:"isOpen",value:function(){return null!=this._windowRef}},{key:"ngOnInit",value:function(){this._unregisterListenersFn=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nv,n=(e||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map((function(e){return e.split(":")})).map((function(e){var n=t[e[0]]||e;return new Mv(n[0],n[1])})),i=r.filter((function(e){return e.isManual()}));if(i.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===i.length&&r.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return r}(n);if(1===u.length&&u[0].isManual())return function(){};var c=function(e,t,n,r){return new C((function(i){var o=[],a=function(){return i.next(!0)},s=function(){return i.next(!1)},u=function(){return i.next(!r())};return n.forEach((function(n){n.open===n.close?o.push(e.listen(t,n.open,u)):o.push(e.listen(t,n.open,a),e.listen(t,n.close,s))})),function(){o.forEach((function(e){return e()}))}}))}(e,t,u,r).pipe(function(e,t,n){return function(r){var i=null,o=r.pipe(U((function(e){return{open:e}})),Vl((function(e){var t=n();return t===e.open||i&&i.open!==t?(i&&i.open!==e.open&&(i=null),!1):(i=e,!0)})),ie());return Z(o.pipe(Vl((function(e){return e.open})),Lv(e)),o.pipe(Vl((function(e){return!e.open})),Lv(t))).pipe(Vl((function(e){return e===i&&(i=null,e.open!==n())})),U((function(e){return e.open})))}}(a,s,r)).subscribe((function(e){return e?i():o()}));return function(){return c.unsubscribe()}}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}},{key:"ngOnChanges",value:function(e){var t=e.tooltipClass;t&&this.isOpen()&&(this._windowRef.instance.tooltipClass=t.currentValue)}},{key:"ngOnDestroy",value:function(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}},{key:"ngbTooltip",set:function(e){this._ngbTooltip=e,!e&&this._windowRef&&this.close()},get:function(){return this._ngbTooltip}}]),e}()).\u0275fac=function(e){return new(e||Xp)(Bo(Ja),Bo(ts),Bo(Co),Bo(Za),Bo(Cs),Bo(Gv),Bo(Du),Bo(hc),Bo(oo),Bo(Xu))},Xp.\u0275dir=wt({type:Xp,selectors:[["","ngbTooltip",""]],inputs:{autoClose:"autoClose",placement:"placement",triggers:"triggers",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],features:[La()]}),Xp),Jv=((Yp=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:Yp}),Yp.\u0275inj=pe({factory:function(e){return new(e||Yp)}}),Yp),Yv=((Jp=function(){function e(){_classCallCheck(this,e),this.highlightClass="ngb-highlight"}return _createClass(e,[{key:"ngOnChanges",value:function(e){var t=lp(this.result),n=(Array.isArray(this.term)?this.term:[this.term]).map((function(e){return lp(e).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).filter((function(e){return e}));this.parts=n.length?t.split(new RegExp("(".concat(n.join("|"),")"),"gmi")):[t]}}]),e}()).\u0275fac=function(e){return new(e||Jp)},Jp.\u0275cmp=mt({type:Jp,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term"},features:[La()],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(e,t){1&e&&qo(0,op,3,2,"ng-template",0),2&e&&$o("ngForOf",t.parts)},directives:[Hc,$c],styles:[".ngb-highlight{font-weight:700}"],encapsulation:2,changeDetection:0}),Jp),Xv=((Zp=function(){function e(){_classCallCheck(this,e),this.activeIdx=0,this.focusFirst=!0,this.formatter=lp,this.selectEvent=new zs,this.activeChangeEvent=new zs}return _createClass(e,[{key:"hasActive",value:function(){return this.activeIdx>-1&&this.activeIdx<this.results.length}},{key:"getActive",value:function(){return this.results[this.activeIdx]}},{key:"markActive",value:function(e){this.activeIdx=e,this._activeChanged()}},{key:"next",value:function(){this.activeIdx===this.results.length-1?this.activeIdx=this.focusFirst?(this.activeIdx+1)%this.results.length:-1:this.activeIdx++,this._activeChanged()}},{key:"prev",value:function(){this.activeIdx<0?this.activeIdx=this.results.length-1:0===this.activeIdx?this.activeIdx=this.focusFirst?this.results.length-1:-1:this.activeIdx--,this._activeChanged()}},{key:"resetActive",value:function(){this.activeIdx=this.focusFirst?0:-1,this._activeChanged()}},{key:"select",value:function(e){this.selectEvent.emit(e)}},{key:"ngOnInit",value:function(){this.resetActive()}},{key:"_activeChanged",value:function(){this.activeChangeEvent.emit(this.activeIdx>=0?this.id+"-"+this.activeIdx:void 0)}}]),e}()).\u0275fac=function(e){return new(e||Zp)},Zp.\u0275cmp=mt({type:Zp,selectors:[["ngb-typeahead-window"]],hostAttrs:["role","listbox",1,"dropdown-menu","show"],hostVars:1,hostBindings:function(e,t){1&e&&Xo("mousedown",(function(e){return e.preventDefault()})),2&e&&Ta("id",t.id)},inputs:{focusFirst:"focusFirst",formatter:"formatter",id:"id",results:"results",term:"term",resultTemplate:"resultTemplate"},outputs:{selectEvent:"select",activeChangeEvent:"activeChange"},exportAs:["ngbTypeaheadWindow"],decls:3,vars:1,consts:[["rt",""],["ngFor","",3,"ngForOf"],[3,"result","term"],["type","button","role","option",1,"dropdown-item",3,"id","mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(qo(0,ap,1,2,"ng-template",null,0,lu),qo(2,cp,2,9,"ng-template",1)),2&e&&(Pr(2),$o("ngForOf",t.results))},directives:[Hc,Yv,tl],encapsulation:2}),Zp),eg=new Be("live announcer delay",{providedIn:"root",factory:function(){return 100}});function tg(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.body.querySelector("#ngb-live");return null==n&&t&&((n=e.createElement("div")).setAttribute("id","ngb-live"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-atomic","true"),n.classList.add("sr-only"),e.body.appendChild(n)),n}var ng,rg,ig,og,ag,sg=((rg=function(){function e(t,n){_classCallCheck(this,e),this._document=t,this._delay=n}return _createClass(e,[{key:"ngOnDestroy",value:function(){var e=tg(this._document);e&&e.parentElement.removeChild(e)}},{key:"say",value:function(e){var t=tg(this._document,!0),n=this._delay;t.textContent="";var r=function(){return t.textContent=e};null===n?r():setTimeout(r,n)}}]),e}()).\u0275fac=function(e){return new(e||rg)(Je(hc),Je(eg))},rg.\u0275prov=de({token:rg,factory:rg.\u0275fac,providedIn:"root"}),rg.ngInjectableDef=de({factory:function(){return new rg(Je(hc),Je(eg))},token:rg,providedIn:"root"}),rg),ug=((ng=function e(){_classCallCheck(this,e),this.editable=!0,this.focusFirst=!0,this.showHint=!1,this.placement=["bottom-left","bottom-right","top-left","top-right"]}).\u0275prov=de({token:ng,factory:ng.\u0275fac=function(e){return new(e||ng)},providedIn:"root"}),ng.ngInjectableDef=de({factory:function(){return new ng},token:ng,providedIn:"root"}),ng),cg={provide:jf,useExisting:Oe((function(){return fg})),multi:!0},lg=0,fg=((og=function(){function e(t,n,r,i,o,a,s,u,c,l,f,h){var d=this;_classCallCheck(this,e),this._elementRef=t,this._renderer=r,this._live=u,this._document=c,this._ngZone=l,this._changeDetector=f,this._closed$=new A,this.autocomplete="off",this.placement="bottom-left",this.selectItem=new zs,this.popupId="ngb-typeahead-".concat(lg++),this._onTouched=function(){},this._onChange=function(e){},this.container=a.container,this.editable=a.editable,this.focusFirst=a.focusFirst,this.showHint=a.showHint,this.placement=a.placement,this._valueChanges=_d(t.nativeElement,"input").pipe(U((function(e){return e.target.value}))),this._resubscribeTypeahead=new hd(null),this._popupService=new Cv(Xv,i,n,r,o,h),this._zoneSubscription=s.onStable.subscribe((function(){d.isPopupOpen()&&Rp(d._elementRef.nativeElement,d._windowRef.location.nativeElement,d.placement,"body"===d.container)}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this,t=this._valueChanges.pipe(Ud((function(t){e._inputValueBackup=e.showHint?t:null,e._onChange(e.editable?t:void 0)}))).pipe(this.ngbTypeahead),n=this._resubscribeTypeahead.pipe(Ed((function(){return t})));this._subscription=this._subscribeToUserInput(n)}},{key:"ngOnDestroy",value:function(){this._closePopup(),this._unsubscribeFromUserInput(),this._zoneSubscription.unsubscribe()}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"writeValue",value:function(e){this._writeInputValue(this._formatItemForInput(e)),this.showHint&&(this._inputValueBackup=e)}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"dismissPopup",value:function(){this.isPopupOpen()&&(this._resubscribeTypeahead.next(null),this._closePopup(),this.showHint&&null!==this._inputValueBackup&&this._writeInputValue(this._inputValueBackup),this._changeDetector.markForCheck())}},{key:"isPopupOpen",value:function(){return null!=this._windowRef}},{key:"handleBlur",value:function(){this._resubscribeTypeahead.next(null),this._onTouched()}},{key:"handleKeyDown",value:function(e){if(this.isPopupOpen())switch(e.which){case Cp.ArrowDown:e.preventDefault(),this._windowRef.instance.next(),this._showHint();break;case Cp.ArrowUp:e.preventDefault(),this._windowRef.instance.prev(),this._showHint();break;case Cp.Enter:case Cp.Tab:var t=this._windowRef.instance.getActive();fp(t)&&(e.preventDefault(),e.stopPropagation(),this._selectResult(t)),this._closePopup()}}},{key:"_openPopup",value:function(){var e=this;this.isPopupOpen()||(this._inputValueBackup=this._elementRef.nativeElement.value,this._windowRef=this._popupService.open(),this._windowRef.instance.id=this.popupId,this._windowRef.instance.selectEvent.subscribe((function(t){return e._selectResultClosePopup(t)})),this._windowRef.instance.activeChangeEvent.subscribe((function(t){return e.activeDescendant=t})),"body"===this.container&&window.document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._changeDetector.markForCheck(),Op(this._ngZone,this._document,"outside",(function(){return e.dismissPopup()}),this._closed$,[this._elementRef.nativeElement,this._windowRef.location.nativeElement]))}},{key:"_closePopup",value:function(){this._closed$.next(),this._popupService.close(),this._windowRef=null,this.activeDescendant=void 0}},{key:"_selectResult",value:function(e){var t=!1;this.selectItem.emit({item:e,preventDefault:function(){t=!0}}),this._resubscribeTypeahead.next(null),t||(this.writeValue(e),this._onChange(e))}},{key:"_selectResultClosePopup",value:function(e){this._selectResult(e),this._closePopup()}},{key:"_showHint",value:function(){if(this.showHint&&this._windowRef.instance.hasActive()&&null!=this._inputValueBackup){var e=this._inputValueBackup.toLowerCase(),t=this._formatItemForInput(this._windowRef.instance.getActive());e===t.substr(0,this._inputValueBackup.length).toLowerCase()?(this._writeInputValue(this._inputValueBackup+t.substr(this._inputValueBackup.length)),this._elementRef.nativeElement.setSelectionRange.apply(this._elementRef.nativeElement,[this._inputValueBackup.length,t.length])):this._writeInputValue(t)}}},{key:"_formatItemForInput",value:function(e){return null!=e&&this.inputFormatter?this.inputFormatter(e):lp(e)}},{key:"_writeInputValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",lp(e))}},{key:"_subscribeToUserInput",value:function(e){var t=this;return e.subscribe((function(e){e&&0!==e.length?(t._openPopup(),t._windowRef.instance.focusFirst=t.focusFirst,t._windowRef.instance.results=e,t._windowRef.instance.term=t._elementRef.nativeElement.value,t.resultFormatter&&(t._windowRef.instance.formatter=t.resultFormatter),t.resultTemplate&&(t._windowRef.instance.resultTemplate=t.resultTemplate),t._windowRef.instance.resetActive(),t._windowRef.changeDetectorRef.detectChanges(),t._showHint()):t._closePopup();var n=e?e.length:0;t._live.say(0===n?"No results available":"".concat(n," result").concat(1===n?"":"s"," available"))}))}},{key:"_unsubscribeFromUserInput",value:function(){this._subscription&&this._subscription.unsubscribe(),this._subscription=null}}]),e}()).\u0275fac=function(e){return new(e||og)(Bo(Ja),Bo(Cs),Bo(ts),Bo(Co),Bo(Za),Bo(ug),Bo(Du),Bo(sg),Bo(hc),Bo(Du),Bo(oo),Bo(Xu))},og.\u0275dir=wt({type:og,selectors:[["input","ngbTypeahead",""]],hostAttrs:["autocapitalize","off","autocorrect","off","role","combobox","aria-multiline","false"],hostVars:7,hostBindings:function(e,t){1&e&&Xo("blur",(function(e){return t.handleBlur()}))("keydown",(function(e){return t.handleKeyDown(e)})),2&e&&(Ta("autocomplete",t.autocomplete),Uo("aria-autocomplete",t.showHint?"both":"list")("aria-activedescendant",t.activeDescendant)("aria-owns",t.isPopupOpen()?t.popupId:null)("aria-expanded",t.isPopupOpen()),da("open",t.isPopupOpen()))},inputs:{autocomplete:"autocomplete",placement:"placement",container:"container",editable:"editable",focusFirst:"focusFirst",showHint:"showHint",inputFormatter:"inputFormatter",ngbTypeahead:"ngbTypeahead",resultFormatter:"resultFormatter",resultTemplate:"resultTemplate"},outputs:{selectItem:"selectItem"},exportAs:["ngbTypeahead"],features:[Ga([cg])]}),og),hg=((ig=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:ig}),ig.\u0275inj=pe({factory:function(e){return new(e||ig)},imports:[[nl]]}),ig),dg=[mp,yp,_p,bp,kp,fv,_v,Pv,Dv,jv,Vv,Uv,qv,Fv,Bv,Qv,Jv,hg],pg=((ag=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:ag}),ag.\u0275inj=pe({factory:function(e){return new(e||ag)},imports:[dg,mp,yp,_p,bp,kp,fv,_v,Pv,Dv,jv,Vv,Uv,qv,Fv,Bv,Qv,Jv,hg]}),ag),vg=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function gg(e){return new C((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?H(n):Md()).subscribe(t)}))}function mg(e){return function(t){return 0===e?Md():t.lift(new yg(e))}}var yg=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new Dd}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new _g(e,this.total))}}]),e}(),_g=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).total=n,r.ring=new Array,r.count=0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),t}(v);function bg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wg;return function(t){return t.lift(new kg(e))}}var kg=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Cg(e,this.errorFactory))}}]),e}(),Cg=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).errorFactory=n,r.hasValue=!1,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),t}(v);function wg(){return new vg}function Sg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new xg(e))}}var xg=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Og(e,this.defaultValue))}}]),e}(),Og=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).defaultValue=n,r.isEmpty=!0,r}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),t}(v);function Eg(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Vl((function(t,n){return e(t,n,r)})):G,mg(1),n?Sg(t):bg((function(){return new vg})))}}function Ag(e){return function(t){var n=new Tg(e),r=t.lift(n);return n.caught=r}}var Tg=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ig(e,this.selector,this.caught))}}]),e}(),Ig=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).selector=n,i.caught=r,i}return _inherits(t,e),_createClass(t,[{key:"error",value:function(e){if(!this.isStopped){var n;try{n=this.selector(e,this.caught)}catch(o){return void _get(_getPrototypeOf(t.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new R(this,void 0,void 0);this.add(r);var i=L(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}]),t}(V);function Rg(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Vl((function(t,n){return e(t,n,r)})):G,Nd(1),n?Sg(t):bg((function(){return new vg})))}}var Pg=function(){function e(t,n,r){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Dg(e,this.predicate,this.thisArg,this.source))}}]),e}(),Dg=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||_assertThisInitialized(o),o}return _inherits(t,e),_createClass(t,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),t}(v);function jg(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ng(e,t,n))}}var Mg,Ng=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Lg(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Lg=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),t}(v),Vg=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ug(e,this.callback))}}]),e}(),Ug=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).add(new h(n)),r}return _inherits(t,e),t}(v),qg=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Fg=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).navigationTrigger=i,r.restoredState=o,r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(qg),Bg=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),t}(qg),Hg=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).reason=r,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),t}(qg),zg=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).error=r,i}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),t}(qg),$g=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(qg),Qg=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(qg),Gg=function(e){function t(e,n,r,i,o){var a;return _classCallCheck(this,t),(a=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),t}(qg),Wg=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(qg),Kg=function(e){function t(e,n,r,i){var o;return _classCallCheck(this,t),(o=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n))).urlAfterRedirects=r,o.state=i,o}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),t}(qg),Zg=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Jg=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Yg=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Xg=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),em=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),tm=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),nm=function(){function e(t,n,r){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),rm=((Mg=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Mg)},Mg.\u0275cmp=mt({type:Mg,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Ko(0,"router-outlet")},directives:function(){return[p_]},encapsulation:2}),Mg),im=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function om(e){return new im(e)}function am(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function sm(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var um=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function cm(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];lm(r,fm(t,r))}}function lm(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&cm(e.children,t)}function fm(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function hm(e){var t=e.children&&e.children.map(hm),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=rm),n}function dm(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!pm(e[n=r[o]],t[n]))return!1;return!0}function pm(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function vm(e){return Array.prototype.concat.apply([],e)}function gm(e){return e.length>0?e[e.length-1]:null}function mm(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ym(e){return Yo(e)?e:Jo(e)?H(Promise.resolve(e)):Nl(e)}function _m(e,t,n){return n?function(e,t){return dm(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!wm(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return pm(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!wm(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!wm(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!e(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!wm(n.segments,a)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var bm=function(){function e(t,n,r){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass(e,[{key:"toString",value:function(){return Em.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=om(this.queryParams)),this._queryParamMap}}]),e}(),km=function(){function e(t,n){var r=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,mm(n,(function(e,t){return e.parent=r}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return Am(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Cm=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"toString",value:function(){return jm(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=om(this.parameters)),this._parameterMap}}]),e}();function wm(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Sm(e,t){var n=[];return mm(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),mm(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var xm=function e(){_classCallCheck(this,e)},Om=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Um(e);return new bm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r;return"".concat("/".concat(function e(t,n){if(!t.hasChildren())return Am(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return mm(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Sm(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(Am(t),"/(").concat(o.join("//"),")")}(e.root,!0)),(n=e.queryParams,r=Object.keys(n).map((function(e){var t=n[e];return Array.isArray(t)?t.map((function(t){return"".concat(Im(e),"=").concat(Im(t))})).join("&"):"".concat(Im(e),"=").concat(Im(t))})),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof e.fragment?"#".concat((t=e.fragment,encodeURI(t))):"")}}]),e}(),Em=new Om;function Am(e){return e.segments.map((function(e){return jm(e)})).join("/")}function Tm(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Im(e){return Tm(e).replace(/%3B/gi,";")}function Rm(e){return Tm(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pm(e){return decodeURIComponent(e)}function Dm(e){return Pm(e.replace(/\+/g,"%20"))}function jm(e){return"".concat(Rm(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Rm(e),"=").concat(Rm(t[e]))})).join("")));var t}var Mm=/^[^\/()?;=#]+/;function Nm(e){var t=e.match(Mm);return t?t[0]:""}var Lm=/^[^=?&#]+/,Vm=/^[^?&#]+/,Um=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new km([],{}):new km([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new km(e,t)),n}},{key:"parseSegment",value:function(){var e=Nm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Cm(Pm(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Nm(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=Nm(this.remaining);r&&(n=r,this.capture(n))}e[Pm(t)]=Pm(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(Lm);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Vm);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Dm(t),o=Dm(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Nm(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new km([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),qm=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Fm(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Fm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=Bm(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return Bm(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function Fm(e,t){if(e===t.value)return t;var n=!0,r=!1,i=void 0;try{for(var o,a=t.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=Fm(e,o.value);if(s)return s}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return null}function Bm(e,t){if(e===t.value)return[t];var n=!0,r=!1,i=void 0;try{for(var o,a=t.children[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=Bm(e,o.value);if(s.length)return s.unshift(t),s}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return[]}var Hm=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function zm(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var $m=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).snapshot=n,Jm(_assertThisInitialized(r),e),r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return this.snapshot.toString()}}]),t}(qm);function Qm(e,t){var n=function(e,t){var n=new Km([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Zm("",new Hm(n,[]))}(e,t),r=new hd([new Cm("",{})]),i=new hd({}),o=new hd({}),a=new hd({}),s=new hd(""),u=new Gm(r,i,a,s,o,"primary",t,n.root);return u.snapshot=n.root,new $m(new Hm(u,[]),n)}var Gm=function(){function e(t,n,r,i,o,a,s,u){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(U((function(e){return om(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(U((function(e){return om(e)})))),this._queryParamMap}}]),e}();function Wm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Km=function(){function e(t,n,r,i,o,a,s,u,c,l,f){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=f}return _createClass(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=om(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=om(this.queryParams)),this._queryParamMap}}]),e}(),Zm=function(e){function t(e,n){var r;return _classCallCheck(this,t),(r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,n))).url=e,Jm(_assertThisInitialized(r),n),r}return _inherits(t,e),_createClass(t,[{key:"toString",value:function(){return Ym(this._root)}}]),t}(qm);function Jm(e,t){t.value._routerState=e,t.children.forEach((function(t){return Jm(e,t)}))}function Ym(e){var t=e.children.length>0?" { ".concat(e.children.map(Ym).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Xm(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,dm(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),dm(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!dm(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),dm(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ey(e,t){var n,r;return dm(e.params,t.params)&&wm(n=e.url,r=t.url)&&n.every((function(e,t){return dm(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||ey(e.parent,t.parent))}function ty(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ny(e,t,n,r,i){var o={};return r&&mm(r,(function(e,t){o[t]=Array.isArray(e)?e.map((function(e){return"".concat(e)})):"".concat(e)})),new bm(n.root===e?t:function e(t,n,r){var i={};return mm(t.children,(function(t,o){i[o]=t===n?r:e(t,n,r)})),new km(t.segments,i)}(n.root,e,t),o,i)}var ry=function(){function e(t,n,r){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ty(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==gm(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),iy=function e(t,n,r){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function oy(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:"".concat(e)}function ay(e,t,n){if(e||(e=new km([],{})),0===e.segments.length&&e.hasChildren())return sy(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=oy(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!fy(s,u,a))return o;r+=2}else{if(!fy(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new km(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new km(e.segments.slice(r.pathIndex),e.children),sy(o,0,i)}return r.match&&0===i.length?new km(e.segments,{}):r.match&&!e.hasChildren()?uy(e,t,n):r.match?sy(e,0,i):uy(e,t,n)}function sy(e,t,n){if(0===n.length)return new km(e.segments,{});var r=function(e){return"object"!=typeof e[0]?{primary:e}:void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return mm(r,(function(n,r){null!==n&&(i[r]=ay(e.children[r],t,n))})),mm(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new km(e.segments,i)}function uy(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=cy(n[i].outlets);return new km(r,o)}if(0===i&&ty(n[0]))r.push(new Cm(e.segments[t].path,n[0])),i++;else{var a=oy(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&ty(s)?(r.push(new Cm(a,ly(s))),i+=2):(r.push(new Cm(a,{})),i++)}}return new km(r,{})}function cy(e){var t={};return mm(e,(function(e,n){null!==e&&(t[n]=uy(new km([],{}),0,e))})),t}function ly(e){var t={};return mm(e,(function(e,n){return t[n]="".concat(e)})),t}function fy(e,t,n){return e==n.path&&dm(t,n.parameters)}var hy=function(){function e(t,n,r,i){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Xm(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=zm(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),mm(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=zm(e),o=e.value.component?r.children:t;mm(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=zm(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new tm(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Xg(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Xm(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),dy(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function dy(e){Xm(e.value),e.children.forEach(dy)}function py(e){return"function"==typeof e}function vy(e){return e instanceof bm}var gy=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},my=function e(t){_classCallCheck(this,e),this.urlTree=t};function yy(e){return new C((function(t){return t.error(new gy(e))}))}function _y(e){return new C((function(t){return t.error(new my(e))}))}function by(e){return new C((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var ky=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(tt)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(U((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Ag((function(t){if(t instanceof my)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof gy)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(U((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Ag((function(e){if(e instanceof gy)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new km([],{primary:e}):e;return new bm(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(U((function(e){return new km([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Nl({});var o=[],a=[],s={};return mm(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(e,t,c,u)).pipe(U((function(e){return s[i]=e})));"primary"===i?o.push(l):a.push(l)})),Nl.apply(null,o.concat(a)).pipe(Cd(),Eg(),U((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return Nl.apply(void 0,_toConsumableArray(n)).pipe(U((function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Ag((function(e){if(e instanceof gy)return Nl(null);throw e})))})),Cd(),Rg((function(e){return!!e})),Ag((function(e,n){if(e instanceof vg||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,r,i))return Nl(new km([],{}));throw new gy(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return xy(r)!==o?yy(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):yy(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_y(o):this.lineralizeSegments(n,o).pipe(z((function(n){var o=new km(n,{});return i.expandSegment(e,o,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=Cy(t,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,f=s.positionalParamSegments;if(!u)return yy(t);var h=this.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?_y(h):this.lineralizeSegments(r,h).pipe(z((function(r){return a.expandSegment(e,t,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(U((function(e){return n._loadedConfig=e,new km(r,{})}))):Nl(new km(r,{}));var o=Cy(t,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return yy(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(z((function(e){var n=e.module,r=e.routes,o=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return Sy(e,t,n)&&"primary"!==xy(n)}))}(e,n,r)?{segmentGroup:wy(new km(t,function(e,t){var n={};n.primary=t;var r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;""===u.path&&"primary"!==xy(u)&&(n[xy(u)]=new km([],{}))}}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(r,new km(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Sy(e,t,n)}))}(e,n,r)?{segmentGroup:wy(new km(e.segments,function(e,t,n,r){var i={},o=!0,a=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;Sy(e,t,l)&&!r[xy(l)]&&(i[xy(l)]=new km([],{}))}}catch(f){a=!0,s=f}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return Object.assign(Object.assign({},r),i)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(U((function(e){return new km(s,e)}))):0===r.length&&0===u.length?Nl(new km(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(U((function(e){return new km(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?Nl(new um(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Nl(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?H(i).pipe(U((function(r){var i,o=e.get(r);if(function(e){return e&&py(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!py(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return ym(i)}))).pipe(Cd(),(r=function(e){return!0===e},function(e){return e.lift(new Pg(r,void 0,e))})):Nl(!0)}(e.injector,t,n).pipe(z((function(n){return n?r.configLoader.load(e.injector,t).pipe(U((function(e){return t._loadedConfig=e,e}))):function(e){return new C((function(t){return t.error(am("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):Nl(new um([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Nl(n);if(r.numberOfChildren>1||!r.children.primary)return by(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new bm(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return mm(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return mm(t.children,(function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)})),new km(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n=0,r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u.path===e.path)return t.splice(n),u;n++}}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e}}]),e}();function Cy(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||sm)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function wy(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new km(e.segments.concat(t.segments),t.children)}return e}function Sy(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function xy(e){return e.outlet||"primary"}var Oy=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Ey=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Ay(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ty(e,t,n){var r=zm(e),i=e.value;mm(r,(function(e,r){Ty(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new Ey(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Iy=Symbol("INITIAL_VALUE");function Ry(){return Ed((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return I(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&u(t[0])&&(t=t[0]),K(t,i).lift(new pd(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(Nd(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return I(r)?(t.pop(),function(e){return wd(t,e,r)}):function(e){return wd(t,e)}}(Iy))})))).pipe(jg((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==Iy)return e;if(r===Iy&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||vy(r))return r}return e}),e)}),Iy),Vl((function(e){return e!==Iy})),U((function(e){return vy(e)?e:!0===e})),Nd(1))}))}function Py(e,t){return null!==e&&t&&t(new em(e)),Nl(!0)}function Dy(e,t){return null!==e&&t&&t(new Yg(e)),Nl(!0)}function jy(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?Nl(r.map((function(r){return gg((function(){var i,o=Ay(r,t,n);if(function(e){return e&&py(e.canActivate)}(o))i=ym(o.canActivate(t,e));else{if(!py(o))throw new Error("Invalid CanActivate guard");i=ym(o(t,e))}return i.pipe(Rg())}))}))).pipe(Ry()):Nl(!0)}function My(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return gg((function(){return Nl(t.guards.map((function(i){var o,a=Ay(i,t.node,n);if(function(e){return e&&py(e.canActivateChild)}(a))o=ym(a.canActivateChild(r,e));else{if(!py(a))throw new Error("Invalid CanActivateChild guard");o=ym(a(r,e))}return o.pipe(Rg())}))).pipe(Ry())}))}));return Nl(i).pipe(Ry())}var Ny=function e(){_classCallCheck(this,e)},Ly=function(){function e(t,n,r,i,o,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=qy(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Km([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Hm(n,t),i=new Zm(this.url,r);return this.inheritParamsAndData(i._root),Nl(i)}catch(o){return new C((function(e){return e.error(o)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Wm(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=Sm(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;try{return this.processSegmentAgainstRoute(c,t,n,r)}catch(l){if(!(l instanceof Ny))throw l}}}catch(f){o=!0,a=f}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}if(this.noLeftoversInUrl(t,n,r))return[];throw new Ny}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new Ny;if((e.outlet||"primary")!==r)throw new Ny;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?gm(n).parameters:{};i=new Km(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hy(e),r,e.component,e,Vy(t),Uy(t)+n.length,zy(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Ny;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||sm)(n,e,t);if(!r)throw new Ny;var i={};mm(r.posParams,(function(e,t){i[t]=e.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(t,e,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Km(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Hy(e),r,e.component,e,Vy(t),Uy(t)+o.length,zy(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=qy(t,o,a,c,this.relativeLinkResolution),f=l.segmentGroup,h=l.slicedSegments;if(0===h.length&&f.hasChildren()){var d=this.processChildren(c,f);return[new Hm(i,d)]}if(0===c.length&&0===h.length)return[new Hm(i,[])];var p=this.processSegment(c,f,h,"primary");return[new Hm(i,p)]}}]),e}();function Vy(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Uy(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function qy(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return Fy(e,t,n)&&"primary"!==By(n)}))}(e,n,r)){var o=new km(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o=!0,a=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(""===l.path&&"primary"!==By(l)){var f=new km([],{});f._sourceSegment=e,f._segmentIndexShift=t.length,i[By(l)]=f}}}catch(h){a=!0,s=h}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return i}(e,t,r,new km(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return Fy(e,t,n)}))}(e,n,r)){var a=new km(e.segments,function(e,t,n,r,i,o){var a={},s=!0,u=!1,c=void 0;try{for(var l,f=r[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var h=l.value;if(Fy(e,n,h)&&!i[By(h)]){var d=new km([],{});d._sourceSegment=e,d._segmentIndexShift="legacy"===o?e.segments.length:t.length,a[By(h)]=d}}}catch(p){u=!0,c=p}finally{try{s||null==f.return||f.return()}finally{if(u)throw c}}return Object.assign(Object.assign({},i),a)}(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new km(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function Fy(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function By(e){return e.outlet||"primary"}function Hy(e){return e.data||{}}function zy(e){return e.resolve||{}}function $y(e,t,n,r){var i=Ay(e,t,r);return ym(i.resolve?i.resolve(t,n):i(t,n))}function Qy(e){return function(t){return t.pipe(Ed((function(t){var n=e(t);return n?H(n).pipe(U((function(){return t}))):H([t])})))}}var Gy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Wy=new Be("ROUTES"),Ky=function(){function e(t,n,r,i){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(U((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new um(vm(i.injector.get(Wy)).map(hm),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?H(this.loader.load(e)):ym(e()).pipe(z((function(e){return e instanceof nt?Nl(e):H(t.compiler.compileModuleAsync(e))})))}}]),e}(),Zy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Jy(e){throw e}function Yy(e,t,n){return t.parse("/")}function Xy(e,t){return Nl(null)}var e_,t_,n_,r_=((n_=function(){function e(t,n,r,i,o,a,s,u){var c=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new A,this.errorHandler=Jy,this.malformedUriErrorHandler=Yy,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xy,afterPreactivation:Xy},this.urlHandlingStrategy=new Zy,this.routeReuseStrategy=new Gy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(tt),this.console=o.get(_u);var l=o.get(Du);this.isNgZoneEnabled=l instanceof Du,this.resetConfig(u),this.currentUrlTree=new bm(new km([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ky(a,s,(function(e){return c.triggerEvent(new Zg(e))}),(function(e){return c.triggerEvent(new Jg(e))})),this.routerState=Qm(this.currentUrlTree,this.rootComponentType),this.transitions=new hd({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Vl((function(e){return 0!==e.id})),U((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),Ed((function(e){var r,i,o,a,s=!1,u=!1;return Nl(e).pipe(Ud((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Ed((function(e){var r,i,o,a,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Nl(e).pipe(Ed((function(e){var r=t.transitions.getValue();return n.next(new Fg(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?jd:[e]})),Ed((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,o=t.urlSerializer,a=t.config,function(e){return e.pipe(Ed((function(e){return function(e,t,n,r,i){return new ky(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,a).pipe(U((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Ud((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,o){return function(r){return r.pipe(z((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new Ly(e,t,n,r,i,o).recognize()}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(U((function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Ud((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Ud((function(e){var r=new $g(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var u=e.id,c=e.extractedUrl,l=e.source,f=e.restoredState,h=e.extras,d=new Fg(u,t.serializeUrl(c),l,f);n.next(d);var p=Qm(c,t.rootComponentType).snapshot;return Nl(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},h),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),jd})),Qy((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Ud((function(e){var n=new Qg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),U((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=zm(n);return t.children.forEach((function(t){!function(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,s=n?n.value:null,u=r?r.getContext(t.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!wm(e.url,t.url);case"pathParamsOrQueryParamsChange":return!wm(e.url,t.url)||!dm(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ey(e,t)||!dm(e.queryParams,t.queryParams);case"paramsChange":default:return!ey(e,t)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Oy(i)):(a.data=s.data,a._resolvedData=s._resolvedData),e(t,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new Ey(u&&u.outlet&&u.outlet.component||null,s))}else s&&Ty(n,u,o),o.canActivateChecks.push(new Oy(i)),e(t,null,a.component?u?u.children:null:r,i,o)}(t,a[t.value.outlet],r,i.concat([t.value]),o),delete a[t.value.outlet]})),mm(a,(function(e,t){return Ty(e,r.getContext(t),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(e,t){return function(n){return n.pipe(z((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Nl(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return H(e).pipe(z((function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Nl(o.map((function(o){var a,s=Ay(o,t,i);if(function(e){return e&&py(e.canDeactivate)}(s))a=ym(s.canDeactivate(e,t,n,r));else{if(!py(s))throw new Error("Invalid CanDeactivate guard");a=ym(s(e,t,n,r))}return a.pipe(Rg())}))).pipe(Ry()):Nl(!0)}(e.component,e.route,n,t,r)})),Rg((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(z((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return H(t).pipe(Ll((function(t){return H([Dy(t.route.parent,r),Py(t.route,r),My(e,t.path,n),jy(e,t.route,n)]).pipe(Cd(),Rg((function(e){return!0!==e}),!0))})),Rg((function(e){return!0!==e}),!0))}(r,a,e,t):Nl(n)})),U((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Ud((function(e){if(vy(e.guardsResult)){var n=am('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Ud((function(e){var n=new Gg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Vl((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Hg(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),Qy((function(e){if(e.guards.canActivateChecks.length)return Nl(e).pipe(Ud((function(e){var n=new Wg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(z((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?H(i).pipe(Ll((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return Nl({});if(1===i.length){var o=i[0];return $y(e[o],t,n,r).pipe(U((function(e){return _defineProperty({},o,e)})))}var a={};return H(i).pipe(z((function(i){return $y(e[i],t,n,r).pipe(U((function(e){return a[i]=e,e})))}))).pipe(Eg(),U((function(){return a})))}(e._resolve,e,t,r).pipe(U((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Wm(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return _(jg(e,t),mg(1),Sg(t))(n)}:function(t){return _(jg((function(t,n,r){return e(t,n,r+1)})),mg(1))(t)}}((function(e,t){return e})),U((function(t){return e}))):Nl(e)})))}),Ud((function(e){var n=new Kg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),Qy((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,o=e.rawUrl,a=e.extras,s=a.skipLocationChange,u=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),U((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(t,n,r){return n.children.map((function(n){var i=!0,o=!1,a=void 0;try{for(var s,u=r.children[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;if(t.shouldReuseRoute(c.value.snapshot,n.value))return e(t,n,c)}}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return e(t,n)}))}(t,n,r);return new Hm(i,o)}var a=t.retrieve(n.value);if(a){var s=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var u,c=new Gm(new hd((u=n.value).url),new hd(u.params),new hd(u.queryParams),new hd(u.fragment),new hd(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return e(t,n)}));return new Hm(c,l)}(e,t._root,n?n._root:void 0);return new $m(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Ud((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},U((function(e){return new hy(o,e.targetRouterState,e.currentRouterState,a).activate(i),e}))),Ud({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new Hg(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Vg(r))}),Ag((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=vy(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new Hg(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new zg(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var s;return jd})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){cm(e),this.config=e.map(hm),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.preserveQueryParams,a=t.queryParamsHandling,s=t.preserveFragment;tr()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,l=null;if(a)switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}else l=o?this.currentUrlTree.queryParams:r||null;return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return ny(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new ry(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return mm(r.outlets,(function(e,t){o[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new ry(n,t,r)}(n);if(o.toRoot())return ny(t.root,new km([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new iy(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new iy(n.snapshot._urlSegment,!0,0);var r=ty(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new iy(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?sy(a.segmentGroup,a.index,o.commands):ay(a.segmentGroup,a.index,o.commands);return ny(a.segmentGroup,s,t,r,i)}(u,this.currentUrlTree,e,l,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};tr()&&this.isNgZoneEnabled&&!Du.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=vy(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(vy(e))return _m(this.currentUrlTree,e,t);var n=this.parseUrl(e);return _m(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new Bg(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==t&&"imperative"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"hashchange"==t&&"popstate"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(u&&"popstate"==t&&"hashchange"===u.source&&u.rawUrl.toString()===e.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(e,t){o=e,a=t}));var c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}()).\u0275fac=function(e){zo()},n_.\u0275dir=wt({type:n_}),n_),i_=((t_=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(e,[{key:"onClick",value:function(){var e={skipLocationChange:a_(this.skipLocationChange),replaceUrl:a_(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){tr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:a_(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:a_(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||t_)(Bo(r_),Bo(Gm),Ho("tabindex"),Bo(ts),Bo(Ja))},t_.\u0275dir=wt({type:t_,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Xo("click",(function(e){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t_),o_=((e_=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof Bg&&i.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:a_(this.skipLocationChange),replaceUrl:a_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){tr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:a_(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:a_(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||e_)(Bo(r_),Bo(Gm),Bo(Sc))},e_.\u0275dir=wt({type:e_,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Xo("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(Ta("href",t.href,or),Uo("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[La()]}),e_);function a_(e){return""===e||!!e}var s_,u_,c_,l_,f_=((s_=function(){function e(t,n,r,i,o){var a=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof Bg&&a.update()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}}]),e}()).\u0275fac=function(e){return new(e||s_)(Bo(r_),Bo(Ja),Bo(ts),Bo(i_,8),Bo(o_,8))},s_.\u0275dir=wt({type:s_,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;1&e&&(iu(n,i_,!0),iu(n,o_,!0)),2&e&&(tu(r=au())&&(t.links=r),tu(r=au())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[La()]}),s_),h_=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new d_,this.attachRef=null},d_=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new h_,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),p_=((u_=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new zs,this.deactivateEvents=new zs,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new v_(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}()).\u0275fac=function(e){return new(e||u_)(Bo(d_),Bo(Cs),Bo(Za),Ho("name"),Bo(oo))},u_.\u0275dir=wt({type:u_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),u_),v_=function(){function e(t,n,r){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass(e,[{key:"get",value:function(e,t){return e===Gm?this.route:e===d_?this.childContexts:this.parent.get(e,t)}}]),e}(),g_=function e(){_classCallCheck(this,e)},m_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return Nl(null)}}]),e}(),y_=((l_=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new Ky(n,r,(function(e){return t.triggerEvent(new Zg(e))}),(function(e){return t.triggerEvent(new Jg(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Vl((function(e){return e instanceof Bg})),Ll((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(tt);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var c=u._loadedConfig;n.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?n.push(this.preloadConfig(e,u)):u.children&&n.push(this.processRoutes(e,u.children))}}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return H(n).pipe(W(),U((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(z((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||l_)(Je(r_),Je(tc),Je(Tu),Je(Co),Je(g_))},l_.\u0275prov=de({token:l_,factory:l_.\u0275fac}),l_),__=((c_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Fg?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bg&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof nm&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new nm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){zo()},c_.\u0275dir=wt({type:c_}),c_),b_=new Be("ROUTER_CONFIGURATION"),k_=new Be("ROUTER_FORROOT_GUARD"),C_=[Pc,{provide:xm,useClass:Om},{provide:r_,useFactory:function(e,t,n,r,i,o,a,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},c=arguments.length>9?arguments[9]:void 0,l=arguments.length>10?arguments[10]:void 0,f=new r_(null,t,n,r,i,o,a,vm(s));if(c&&(f.urlHandlingStrategy=c),l&&(f.routeReuseStrategy=l),u.errorHandler&&(f.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(f.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var h=lc();f.events.subscribe((function(e){h.logGroup("Router Event: ".concat(e.constructor.name)),h.log(e.toString()),h.log(e),h.logGroupEnd()}))}return u.onSameUrlNavigation&&(f.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(f.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(f.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(f.relativeLinkResolution=u.relativeLinkResolution),f},deps:[Xu,xm,d_,Pc,Co,tc,Tu,Wy,b_,[function(){return function e(){_classCallCheck(this,e)}}(),new se],[function(){return function e(){_classCallCheck(this,e)}}(),new se]]},d_,{provide:Gm,useFactory:function(e){return e.routerState.root},deps:[r_]},{provide:tc,useClass:ic},y_,m_,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(Ag((function(){return Nl(null)})))}}]),e}(),{provide:b_,useValue:{enableTracing:!1}}];function w_(){return new Gu("Router",r_)}var S_,x_=((S_=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[C_,T_(t),{provide:k_,useFactory:A_,deps:[[r_,new se,new ce]]},{provide:b_,useValue:n||{}},{provide:Sc,useFactory:E_,deps:[dc,[new ae(Tc),new se],b_]},{provide:__,useFactory:O_,deps:[r_,rl,b_]},{provide:g_,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:m_},{provide:Gu,multi:!0,useFactory:w_},[R_,{provide:fu,multi:!0,useFactory:P_,deps:[R_]},{provide:j_,useFactory:D_,deps:[R_]},{provide:yu,multi:!0,useExisting:j_}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[T_(t)]}}}]),e}()).\u0275mod=kt({type:S_}),S_.\u0275inj=pe({factory:function(e){return new(e||S_)(Je(k_,8),Je(r_,8))}}),S_);function O_(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new __(e,t,n)}function E_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Rc(e,t):new Ic(e,t)}function A_(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function T_(e){return[{provide:wo,multi:!0,useValue:e},{provide:Wy,multi:!0,useValue:e}]}var I_,R_=((I_=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new A}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(gc,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(r_),i=e.injector.get(b_);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?Nl(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(b_),n=this.injector.get(y_),r=this.injector.get(__),i=this.injector.get(r_),o=this.injector.get(Xu);e===o.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||I_)(Je(Co))},I_.\u0275prov=de({token:I_,factory:I_.\u0275fac}),I_);function P_(e){return e.appInitializer.bind(e)}function D_(e){return e.bootstrapListener.bind(e)}var j_=new Be("Router Initializer");function M_(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}u((r=r.apply(e,t||[])).next())}))}var N_,L_,V_=function(e){return e.NONE="---",e.CATEGORY="category",e.LOCATION="location",e}({}),U_=function(e){return e[e.OK=0]="OK",e[e.NEED_MORE=1]="NEED_MORE",e[e.BUY_ON_SALE=2]="BUY_ON_SALE",e}({}),q_=function(){function e(){_classCallCheck(this,e),this.name="",this.notes="",this.buyOnSaleOnly=!1,this.bought=!1,this.active=!0,this.quantityBased=!1}return _createClass(e,[{key:"getLastUpdated",value:function(){if(this.lastStatusUpdate){var t=new Date(this.lastStatusUpdate);return e.formatDate(t)}}},{key:"onShoppingList",value:function(){return this.active&&(this.status===U_.NEED_MORE||this.status===U_.BUY_ON_SALE)}},{key:"isBuyOnSale",value:function(){return this.status===U_.BUY_ON_SALE}},{key:"isStatusSet",value:function(){return void 0!==this.status}},{key:"timeToExpire",value:function(t,n){if(n&&this.lastStatusUpdate)return n-e.daysSince(t,this.lastStatusUpdate)}},{key:"checkExpired",value:function(e,t){return!(!t||!this.lastStatusUpdate)&&this.timeToExpire(e,t)<=0}},{key:"getReminderTime",value:function(){var e;if(void 0!==this.status&&!this.onShoppingList())return this.reminderTimeOverride?this.reminderTimeOverride:null!=(e=this.reminderTime)?e:void 0}},{key:"isExpired",value:function(){var e=this.getReminderTime();if(void 0===e)return!1;var t=Date.now();return this.checkExpired(t,e)}},{key:"canExtend",value:function(){return this.reminderExtensionTime&&!this.onShoppingList()&&this.isExpired()}},{key:"noExpiry",value:function(){return!this.getReminderTime()}},{key:"daysToRemind",value:function(){var e=this.getReminderTime();if(void 0!==e){var t=Date.now();return this.timeToExpire(t,e)}}},{key:"reminderDate",value:function(){var e=this.daysToRemind();if(void 0!==e){var t=new Date;return t.setDate(t.getDate()+e),t}}},{key:"extendReminder",value:function(){this.reminderExtensionTime&&this.overrideReminderFromToday(this.reminderExtensionTime)}},{key:"overrideReminderFromToday",value:function(t){if(t){var n=Date.now(),r=e.daysSince(n,this.lastStatusUpdate);this.reminderTimeOverride=r+t}else this.reminderTimeOverride=void 0}},{key:"getOverrideReminderFromToday",value:function(){if(this.reminderTimeOverride){var t=Date.now(),n=e.daysSince(t,this.lastStatusUpdate);return this.reminderTimeOverride-n}}},{key:"getReminderTimeFromToday",value:function(){if(this.reminderTime){var t=Date.now(),n=e.daysSince(t,this.lastStatusUpdate);return this.reminderTime-n}}},{key:"onUpdate",value:function(){this.lastStatusUpdate=Date.now().valueOf()}},{key:"reset",value:function(){this.status=void 0,this.reminderTimeOverride=void 0,this.bought=!1,this.onUpdate()}},{key:"toggleStatus",value:function(e){this.status=this.isExpired()||this.bought?e:this.status!==e?e:void 0,this.reminderTimeOverride=void 0,this.bought||this.onUpdate(),this.bought=!1,this.setQuantityFromStatus()}},{key:"ok",value:function(){this.toggleStatus(U_.OK)}},{key:"needMore",value:function(){this.toggleStatus(U_.NEED_MORE)}},{key:"buyOnSale",value:function(){this.toggleStatus(U_.BUY_ON_SALE)}},{key:"toggleBought",value:function(){this.bought=!this.bought,this.onUpdate()}},{key:"getRequiredQuantity",value:function(){if(this.quantityBased&&this.onShoppingList())return this.minQuantity-(this.quantity||0)}},{key:"getOnSaleQuantity",value:function(){if(this.quantityBased&&this.onShoppingList())return this.maxQuantity-(this.quantity||0)}},{key:"setQuantity",value:function(e){this.quantity=e,this.bought=!1,this.setQuantityStatus(),this.onUpdate()}},{key:"getBoughtQuantity",value:function(){var e,t;if(this.quantityBased){return(this.isBuyOnSale()?this.maxQuantity?this.maxQuantity:this.minQuantity:this.minQuantity?this.minQuantity:null!=(e=this.maxQuantity)?e:0)-(null!=(t=this.quantity)?t:0)}}},{key:"setQuantityStatus",value:function(){var e=void 0!==this.minQuantity,t=void 0!==this.maxQuantity;this.quantityBased&&void 0!==this.quantity&&(e||t)&&(this.status=e&&this.quantity<this.minQuantity?U_.NEED_MORE:t&&this.quantity<this.maxQuantity?U_.BUY_ON_SALE:U_.OK)}},{key:"setQuantityFromStatus",value:function(){this.quantityBased&&(this.status||(this.quantity=void 0),this.status===U_.OK?this.maxQuantity?this.quantity=this.maxQuantity:this.minQuantity&&(this.quantity=this.minQuantity):this.quantity=this.status===U_.BUY_ON_SALE&&this.minQuantity?this.minQuantity:0)}}],[{key:"formatDate",value:function(e){var t=e.getFullYear(),n=e.getMonth(),r=e.getDate();return t+"-"+n.toString().padStart(2,"0")+"-"+r.toString().padStart(2,"0")}},{key:"daysSince",value:function(e,t){function n(e){e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)}var r=new Date(e),i=new Date(t);return n(r),n(i),Math.round((r.getTime()-i.getTime())/864e5)}},{key:"daysToExpireToDate",value:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}}]),e}(),F_=n("3j3K"),B_=n.n(F_),H_=n("yBqk"),z_=n.n(H_),$_=n("aaBP"),Q_=n.n($_),G_=n("byjP"),W_=n.n(G_),K_=n("3Y9A"),Z_=n.n(K_),J_=n("fVBe"),Y_=n.n(J_),X_=n("+qE3");function eb(e){return"$"+e}function tb(e){return e.substring(1)}function nb(){this._store={}}function rb(e){if(this._store=new nb,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}nb.prototype.get=function(e){var t=eb(e);return this._store[t]},nb.prototype.set=function(e,t){var n=eb(e);return this._store[n]=t,!0},nb.prototype.has=function(e){return eb(e)in this._store},nb.prototype.delete=function(e){var t=eb(e),n=t in this._store;return delete this._store[t],n},nb.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n];e(this._store[i],i=tb(i))}},Object.defineProperty(nb.prototype,"size",{get:function(){return Object.keys(this._store).length}}),rb.prototype.add=function(e){return this._store.set(e,!0)},rb.prototype.has=function(e){return this._store.has(e)},rb.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(rb.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(N_=Set,L_=Map):(N_=rb,L_=nb);var ib,ob=Function.prototype.toString,ab=ob.call(Object);function sb(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=sb(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&ob.call(n)==ab}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=sb(e[n]);void 0!==i&&(t[n]=i)}return t}function ub(e){var t=!1;return Z_()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function cb(e){return Z_()((function(t){t=sb(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),i=new Promise((function(r,i){var o;try{var a=ub((function(e,t){e?i(e):r(t)}));t.push(a),(o=e.apply(n,t))&&"function"==typeof o.then&&r(o)}catch(s){i(s)}}));return r&&i.then((function(e){r(null,e)}),r),i}))}function lb(e,t){return cb(Z_()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],i=0;i<n.length-1;i++)r.push(n[i]);e.constructor.emit("debug",r);var o=n[n.length-1];n[n.length-1]=function(n,r){var i=["api",e.name,t];i=i.concat(n?["error",n]:["success",r]),e.constructor.emit("debug",i),o(n,r)}}}(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,i){r.taskqueue.addTask((function(o){o?i(o):t(r[e].apply(r,n))}))}))})))}function fb(e,t){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];o in e&&(n[o]=e[o])}return n}function hb(e){return e}function db(e){return[{ok:e}]}function pb(e,t,n){var r=t.docs,i=new L_;r.forEach((function(e){i.has(e.id)?i.get(e.id).push(e):i.set(e.id,[e])}));var o=i.size,a=0,s=new Array(o),u=[];i.forEach((function(e,t){u.push(t)}));var c=0;!function r(){if(!(c>=u.length)){var l=Math.min(c+6,u.length),f=u.slice(c,l);!function(u,c){u.forEach((function(u,l){var f=c+l,h=i.get(u),d=fb(h[0],["atts_since","attachments"]);d.open_revs=h.map((function(e){return e.rev})),d.open_revs=d.open_revs.filter(hb);var p=hb;0===d.open_revs.length&&(delete d.open_revs,p=db),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(d[e]=t[e])})),e.get(u,d,(function(e,t){var i,c;i=e?[{error:e}]:p(t),s[f]={id:u,docs:i},++a===o&&(c=[],s.forEach((function(e){e.docs.forEach((function(t){c.push({id:e.id,docs:[t]})}))})),n(null,{results:c})),r()}))}))}(f,c),c+=f.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),ib=!!localStorage.getItem("_pouch_check_localstorage")}catch(nO){ib=!1}function vb(){return ib}function gb(){X_.EventEmitter.call(this),this._listeners={},function(e){vb()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function mb(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function yb(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function _b(e,t){mb("info","The above "+e+" is totally normal. "+t)}Y_()(gb,X_.EventEmitter),gb.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var i=this,o=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(i._listeners[t])if(o)o="waiting";else{o=!0;var e=fb(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>r.since&&!r.cancelled&&(r.since=e.seq,r.onChange(e))})).on("complete",(function(){"waiting"===o&&B_()(a),o=!1})).on("error",(function(){o=!1}))}}},gb.prototype.removeListener=function(e,t){t in this._listeners&&(X_.EventEmitter.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},gb.prototype.notifyLocalWindows=function(e){vb()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},gb.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var bb="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};function kb(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}Y_()(kb,Error),kb.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new kb(401,"unauthorized","Name or password is incorrect.");var Cb=new kb(400,"bad_request","Missing JSON list of 'docs'"),wb=new kb(404,"not_found","missing"),Sb=new kb(409,"conflict","Document update conflict"),xb=new kb(400,"bad_request","_id field must contain a string"),Ob=new kb(412,"missing_id","_id is required for puts"),Eb=new kb(400,"bad_request","Only reserved document ids may start with underscore."),Ab=(new kb(412,"precondition_failed","Database not open"),new kb(500,"unknown_error","Database encountered an unknown error")),Tb=new kb(500,"badarg","Some query argument is invalid"),Ib=(new kb(400,"invalid_request","Request was invalid"),new kb(400,"query_parse_error","Some query parameter is invalid")),Rb=new kb(500,"doc_validation","Bad special document member"),Pb=new kb(400,"bad_request","Something wrong with the request"),Db=new kb(400,"bad_request","Document must be a JSON object"),jb=(new kb(404,"not_found","Database not found"),new kb(500,"indexed_db_went_bad","unknown")),Mb=(new kb(500,"web_sql_went_bad","unknown"),new kb(500,"levelDB_went_went_bad","unknown"),new kb(403,"forbidden","Forbidden by design doc validate_doc_update function"),new kb(400,"bad_request","Invalid rev format")),Nb=(new kb(412,"file_exists","The database could not be created, the file already exists."),new kb(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Lb(e,t){function n(t){for(var n in e)"function"!=typeof e[n]&&(this[n]=e[n]);void 0!==t&&(this.reason=t)}return n.prototype=kb.prototype,new n(t)}function Vb(e){if("object"!=typeof e){var t=e;(e=Ab).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}function Ub(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(r){r.doc||(r.doc={});var i=n&&function(e,t,n){try{return!e(t,n)}catch(i){var r="Filter function threw: "+i.toString();return Lb(Pb,r)}}(e.filter,r.doc,t);if("object"==typeof i)return i;if(i)return!1;if(e.include_docs){if(!e.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function qb(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function Fb(e){var t;if(e?"string"!=typeof e?t=Lb(xb):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Lb(Eb)):t=Lb(Ob),t)throw t}function Bb(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(mb("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function Hb(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function zb(e){var t=Hb(e);return t?t.join("/"):null}new kb(413,"invalid_url","Provided URL is invalid");var $b=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Qb=/(?:^|&)([^&=]*)=?([^&]*)/g,Gb=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function Wb(e){for(var t=Gb.exec(e),n={},r=14;r--;){var i=$b[r],o=t[r]||"",a=-1!==["user","password"].indexOf(i);n[i]=a?decodeURIComponent(o):o}return n.queryKey={},n[$b[12]].replace(Qb,(function(e,t,r){t&&(n.queryKey[t]=r)})),n}function Kb(e,t){var n=[],r=[];for(var i in t)t.hasOwnProperty(i)&&(n.push(i),r.push(t[i]));return n.push(e),Function.apply(null,n).apply(null,r)}function Zb(e,t,n){return new Promise((function(r,i){e.get(t,(function(o,a){if(o){if(404!==o.status)return i(o);a={}}var s=a._rev,u=n(a);if(!u)return r({updated:!1,rev:s});u._id=t,u._rev=s,r(function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(r){if(409!==r.status)throw r;return Zb(e,t._id,n)}))}(e,u,n))}))}))}var Jb=function(e){return atob(e)},Yb=function(e){return btoa(e)};function Xb(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(nO){if("TypeError"!==nO.name)throw nO;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function ek(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function tk(e,t){return Xb([ek(e)],{type:t})}function nk(e,t){return tk(Jb(e),t)}function rk(e,t){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(r)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}(n))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function ik(e,t){rk(e,(function(e){t(e)}))}function ok(e,t){ik(e,(function(e){t(Yb(e))}))}var ak=global.setImmediate||global.setTimeout;function sk(e,t,n,r,i){(n>0||r<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,r)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),i()}))}function uk(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function ck(e,t){var n="string"==typeof e,r=n?e.length:e.size,i=Math.min(32768,r),o=Math.ceil(r/i),a=0,s=n?new Q_.a:new Q_.a.ArrayBuffer,u=n?uk:sk;function c(){ak(f)}function l(){var e,n=(e=s.end(!0),Yb(e));t(n),s.destroy()}function f(){var t=a*i;a++,u(s,e,t,t+i,a<o?c:l)}f()}function lk(e){return Q_.a.hash(e)}function fk(e,t){var n=sb(e);return t?(delete n._rev_tree,lk(JSON.stringify(n))):z_.a.v4().replace(/-/g,"").toLowerCase()}var hk=z_.a.v4;function dk(e){for(var t,n,r,i,o=e.rev_tree.slice();i=o.pop();){var a=i.ids,s=a[2],u=i.pos;if(s.length)for(var c=0,l=s.length;c<l;c++)o.push({pos:u+1,ids:s[c]});else{var f=!!a[1].deleted,h=a[0];t&&!(r!==f?r:n!==u?n<u:t<h)||(t=h,n=u,r=f)}}return n+"-"+t}function pk(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,o=n.ids,a=o[2],s=t(0===a.length,i,o[0],n.ctx,o[1]),u=0,c=a.length;u<c;u++)r.push({pos:i+1,ids:a[u],ctx:s})}function vk(e,t){return e.pos-t.pos}function gk(e){var t=[];pk(e,(function(e,n,r,i,o){e&&t.push({rev:n+"-"+r,pos:n,opts:o})})),t.sort(vk).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function mk(e){for(var t=dk(e),n=gk(e.rev_tree),r=[],i=0,o=n.length;i<o;i++){var a=n[i];a.rev===t||a.opts.deleted||r.push(a.rev)}return r}function yk(e){for(var t,n=[],r=e.slice();t=r.pop();){var i=t.pos,o=t.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,l=t.history?t.history.slice():[];l.push({id:a,opts:s}),c&&n.push({pos:i+1-l.length,ids:l});for(var f=0,h=u.length;f<h;f++)r.push({pos:i+1,ids:u[f],history:l})}return n.reverse()}function _k(e,t){return e.pos-t.pos}function bk(e,t,n){var r=function(e,t,n){for(var r,i=0,o=e.length;i<o;)n(e[r=i+o>>>1],t)<0?i=r+1:o=r;return i}(e,t,n);e.splice(r,0,t)}function kk(e,t){for(var n,r,i=t,o=e.length;i<o;i++){var a=e[i],s=[a.id,a.opts,[]];r?(r[2].push(s),r=s):n=r=s}return n}function Ck(e,t){return e[0]<t[0]?-1:1}function wk(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,a=i.tree2;(o[1].status||a[1].status)&&(o[1].status="available"===o[1].status||"available"===a[1].status?"available":"missing");for(var s=0;s<a[2].length;s++)if(o[2][0]){for(var u=!1,c=0;c<o[2].length;c++)o[2][c][0]===a[2][s][0]&&(n.push({tree1:o[2][c],tree2:a[2][s]}),u=!0);u||(r="new_branch",bk(o[2],a[2][s],Ck))}else r="new_leaf",o[2][0]=a[2][s]}return{conflicts:r,tree:e}}function Sk(e,t,n){var r,i=[],o=!1,a=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var s=0,u=e.length;s<u;s++){var c=e[s];if(c.pos===t.pos&&c.ids[0]===t.ids[0])r=wk(c.ids,t.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,a=!0;else if(!0!==n){var l=c.pos<t.pos?c:t,f=c.pos<t.pos?t:c,h=[],d=[];for(d.push({ids:l.ids,diff:f.pos-l.pos,parent:null,parentIdx:null});d.length>0;){var p=d.pop();if(0!==p.diff)for(var v=p.ids[2],g=0,m=v.length;g<m;g++)d.push({ids:v[g],diff:p.diff-1,parent:p.ids,parentIdx:g});else p.ids[0]===f.ids[0]&&h.push(p)}var y=h[0];y?(r=wk(y.ids,f.ids),y.parent[2][y.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),o=o||r.conflicts,a=!0):i.push(c)}else i.push(c)}return a||i.push(t),i.sort(_k),{tree:i,conflicts:o||"internal_node"}}function xk(e,t,n){var r=Sk(e,t),i=function(e,t){for(var n,r,i=yk(e),o=0,a=i.length;o<a;o++){var s,u=i[o],c=u.ids;if(c.length>t){n||(n={});var l=c.length-t;s={pos:u.pos+l,ids:kk(c,l)};for(var f=0;f<l;f++)n[u.pos+f+"-"+c[f].id]=!0}else s={pos:u.pos,ids:kk(c,0)};r=r?Sk(r,s,!0).tree:[s]}return n&&pk(r,(function(e,t,r){delete n[t+"-"+r]})),{tree:r,revs:n?Object.keys(n):[]}}(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function Ok(e){return e.ids}function Ek(e,t){t||(t=dk(e));for(var n,r=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(Ok);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function Ak(e){return/^_local/.test(e)}function Tk(e,t,n){X_.EventEmitter.call(this);var r=this;this.db=e;var i=(t=t?sb(t):{}).complete=ub((function(t,n){var i;t?("listenerCount"in(i=r)?i.listenerCount("error"):X_.EventEmitter.listenerCount(i,"error"))>0&&r.emit("error",t):r.emit("complete",n),r.removeAllListeners(),e.removeListener("destroyed",o)}));function o(){r.cancel()}n&&(r.on("complete",(function(e){n(null,e)})),r.on("error",n)),e.once("destroyed",o),t.onChange=function(e,t,n){r.isCancelled||function(e,t,n,r){try{e.emit("change",t,n,r)}catch(nO){mb("error",'Error in .on("change", function):',nO)}}(r,e,t,n)};var a=new Promise((function(e,n){t.complete=function(t,r){t?n(t):e(r)}}));r.once("cancel",(function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})})),this.then=a.then.bind(a),this.catch=a.catch.bind(a),this.then((function(e){i(null,e)}),i),e.taskqueue.isReady?r.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):r.isCancelled?r.emit("cancel"):r.validateChanges(t)}))}function Ik(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=gk(t.rev_tree).map((function(e){return{rev:e.rev}})));var i={id:t.id,changes:r,doc:e};return Ek(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=mk(t),i.doc._conflicts.length||delete i.doc._conflicts),i}function Rk(e,t){return e<t?-1:e>t?1:0}function Pk(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function Dk(e,t){var n=Rk(e._id,t._id);return 0!==n?n:Rk(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function jk(){for(var e in X_.EventEmitter.call(this),jk.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function Mk(){this.isReady=!1,this.failed=!1,this.queue=[]}function Nk(e,t){if(!(this instanceof Nk))return new Nk(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=sb(t),n.auto_compaction=t.auto_compaction,n.prefix=Nk.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var r=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Nk.adapters,i=Nk.preferredAdapters,o=Nk.prefix,a=t.adapter;if(!a)for(var s=0;s<i.length&&"idb"===(a=i[s])&&"websql"in r&&vb()&&localStorage["_pouch__websqldb_"+o+e];++s)mb("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var u=r[a];return{name:u&&"use_prefix"in u&&!u.use_prefix?e:o+e,adapter:a}}((t.prefix||"")+e,t);if(t.name=r.name,t.adapter=t.adapter||r.adapter,n.name=e,n._adapter=t.adapter,Nk.emit("debug",["adapter","Picked adapter: ",t.adapter]),!Nk.adapters[t.adapter]||!Nk.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);jk.call(n),n.taskqueue=new Mk,n.adapter=t.adapter,Nk.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),Nk.emit("created",n.name),n.taskqueue.ready(n)}))}Y_()(Tk,X_.EventEmitter),Tk.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Tk.prototype.validateChanges=function(e){var t=e.complete,n=this;Nk._changesFilterPlugin?Nk._changesFilterPlugin.validate(e,(function(r){if(r)return t(r);n.doChanges(e)})):n.doChanges(e)},Tk.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=sb(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ik,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(Nk._changesFilterPlugin){if(Nk._changesFilterPlugin.normalize(e),Nk._changesFilterPlugin.shouldFilter(this,e))return Nk._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&mb("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var i=t.cancel;t.cancel=Z_()((function(e){r.cancel(),i.apply(this,e)}))}}else this.db.info().then((function(r){t.isCancelled?n(null,{status:"cancelled"}):(e.since=r.update_seq,t.doChanges(e))}),n)},Y_()(jk,X_.EventEmitter),jk.prototype.post=lb("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Lb(Db));this.bulkDocs({docs:[e]},t,Pk(n,e._id))})),jk.prototype.put=lb("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Lb(Db));if(Fb(e._id),Ak(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var r,i,o,a,s=this;function u(n){"function"==typeof s._put&&!1!==t.new_edits?s._put(e,t,n):s.bulkDocs({docs:[e]},t,Pk(n,e._id))}t.force&&e._rev?(i=(r=e._rev.split("-"))[1],o=parseInt(r[0],10)+1,a=fk(),e._revisions={start:o,ids:[a,i]},e._rev=o+"-"+a,t.new_edits=!1,u((function(t){n(t,t?null:{ok:!0,id:e._id,rev:e._rev})}))):u(n)})),jk.prototype.putAttachment=lb("putAttachment",(function(e,t,n,r,i){var o=this;function a(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:i,data:r,revpos:++n},o.put(e)}return"function"==typeof i&&(i=r,r=n,n=null),void 0===i&&(i=r,r=n,n=null),i||mb("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then((function(e){if(e._rev!==n)throw Lb(Sb);return a(e)}),(function(t){if(t.reason===wb.message)return a({_id:e});throw t}))})),jk.prototype.removeAttachment=lb("removeAttachment",(function(e,t,n,r){var i=this;i.get(e,(function(e,o){if(e)r(e);else if(o._rev===n){if(!o._attachments)return r();delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,i.put(o,r)}else r(Lb(Sb))}))})),jk.prototype.remove=lb("remove",(function(e,t,n,r){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(i=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev,_deleted:!0};if(Ak(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,r);this.bulkDocs({docs:[o]},n,Pk(r,o._id))})),jk.prototype.revsDiff=lb("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var i=0,o=new L_;function a(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}r.map((function(t){this._getRevisionTree(t,(function(s,u){if(s&&404===s.status&&"missing"===s.message)o.set(t,{missing:e[t]});else{if(s)return n(s);!function(t,n){var r=e[t].slice(0);pk(n,(function(e,n,i,o,s){var u=n+"-"+i,c=r.indexOf(u);-1!==c&&(r.splice(c,1),"available"!==s.status&&a(t,u))})),r.forEach((function(e){a(t,e)}))}(t,u)}if(++i===r.length){var c={};return o.forEach((function(e,t){c[t]=e})),n(null,c)}}))}),this)})),jk.prototype.bulkGet=lb("bulkGet",(function(e,t){pb(this,e,t)})),jk.prototype.compactDocument=lb("compactDocument",(function(e,t,n){var r=this;this._getRevisionTree(e,(function(i,o){if(i)return n(i);var a=function(e){var t={},n=[];return pk(e,(function(e,r,i,o){var a=r+"-"+i;return e&&(t[a]=0),void 0!==o&&n.push({from:o,to:a}),a})),n.reverse(),n.forEach((function(e){t[e.from]=void 0===t[e.from]?1+t[e.to]:Math.min(t[e.from],1+t[e.to])})),t}(o),s=[],u=[];Object.keys(a).forEach((function(e){a[e]>t&&s.push(e)})),pk(o,(function(e,t,n,r,i){var o=t+"-"+n;"available"===i.status&&-1!==s.indexOf(o)&&u.push(o)})),r._doCompaction(e,u,n)}))})),jk.prototype.compact=lb("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],r=n.opts,i=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),t._compact(r,(function(n,r){n?i(n):i(null,r),B_()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),jk.prototype._compact=function(e,t){var n=this,r=[];n.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return Zb(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},jk.prototype.get=lb("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(Lb(xb));if(Ak(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var r=[],i=this;function o(){var o=[],a=r.length;if(!a)return n(null,o);r.forEach((function(r){i.get(e,{rev:r,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)o.push({missing:r});else{for(var i,s=0,u=o.length;s<u;s++)if(o[s].ok&&o[s].ok._rev===t._rev){i=!0;break}i||o.push({ok:t})}--a||n(null,o)}))}))}if(!t.open_revs)return this._get(e,t,(function(r,o){if(r)return r.docId=e,n(r);var a=o.doc,s=o.metadata,u=o.ctx;if(t.conflicts){var c=mk(s);c.length&&(a._conflicts=c)}if(Ek(s,a._rev)&&(a._deleted=!0),t.revs||t.revs_info){for(var l=a._rev.split("-"),f=parseInt(l[0],10),h=l[1],d=yk(s.rev_tree),p=null,v=0;v<d.length;v++){var g=d[v],m=g.ids.map((function(e){return e.id})).indexOf(h);(m===f-1||!p&&-1!==m)&&(p=g)}if(!p)return(r=new Error("invalid rev tree")).docId=e,n(r);var y=p.ids.map((function(e){return e.id})).indexOf(a._rev.split("-")[1])+1;if(p.ids.splice(y,p.ids.length-y),p.ids.reverse(),t.revs&&(a._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(e){return e.id}))}),t.revs_info){var _=p.pos+p.ids.length;a._revs_info=p.ids.map((function(e){return{rev:--_+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&a._attachments){var b=a._attachments,k=Object.keys(b).length;if(0===k)return n(null,a);Object.keys(b).forEach((function(e){this._getAttachment(a._id,e,b[e],{rev:a._rev,binary:t.binary,ctx:u},(function(t,r){var i=a._attachments[e];i.data=r,delete i.stub,delete i.length,--k||n(null,a)}))}),i)}else{if(a._attachments)for(var C in a._attachments)a._attachments.hasOwnProperty(C)&&(a._attachments[C].stub=!0);n(null,a)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);r=gk(t).map((function(e){return e.rev})),o()}));else{if(!Array.isArray(t.open_revs))return n(Lb(Ab,"function_clause"));r=t.open_revs;for(var a=0;a<r.length;a++){var s=r[a];if("string"!=typeof s||!/^\d+-/.test(s))return n(Lb(Mb))}o()}})),jk.prototype.getAttachment=lb("getAttachment",(function(e,t,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(e,n,(function(o,a){return o?r(o):a.doc._attachments&&a.doc._attachments[t]?(n.ctx=a.ctx,n.binary=!0,void i._getAttachment(e,t,a.doc._attachments[t],n,r)):r(Lb(wb))}))})),jk.prototype.allDocs=lb("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(Lb(Ib,"Query parameter `"+n+"` is not compatible with multi-get"));if(!Bb(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),jk.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new Tk(this,e,t)},jk.prototype.close=lb("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),jk.prototype.info=lb("info",(function(e){var t=this;this._info((function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||Bb(t)),r.adapter=t.adapter,e(null,r)}))})),jk.prototype.id=lb("id",(function(e){return this._id(e)})),jk.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},jk.prototype.bulkDocs=lb("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(Lb(Cb));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(Lb(Db));var i;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){i=i||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||mb("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),i)return n(Lb(Pb,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var o=this;t.new_edits||Bb(o)||e.docs.sort(Dk),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=fb(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var a=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,r){if(e)return n(e);if(t.new_edits||(r=r.filter((function(e){return e.error}))),!Bb(o))for(var i=0,s=r.length;i<s;i++)r[i].id=r[i].id||a[i];n(null,r)}))})),jk.prototype.registerDependentDatabase=lb("registerDependentDatabase",(function(e,t){var n=new this.constructor(e,this.__opts);Zb(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:n})})).catch(t)})),jk.prototype.destroy=lb("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function i(){n._destroy(e,(function(e,r){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,r||{ok:!0})}))}if(Bb(n))return i();n.get("_local/_pouch_dependentDbs",(function(e,o){if(e)return 404!==e.status?t(e):i();var a=n.constructor,s=Object.keys(o.dependentDbs).map((function(e){var t=r?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(s).then(i,t)}))})),Mk.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Mk.prototype.fail=function(e){this.failed=e,this.execute()},Mk.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Mk.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},Y_()(Nk,jk);var Lk="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},Vk=fetch,Uk=Headers;Nk.adapters={},Nk.preferredAdapters=[],Nk.prefix="_pouch_";var qk=new X_.EventEmitter;function Fk(e,t){for(var n=e,r=0,i=t.length;r<i&&(n=n[t[r]]);r++);return n}function Bk(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var o=e[r];"."===o?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=o}return t.push(n),t}!function(e){Object.keys(X_.EventEmitter.prototype).forEach((function(t){"function"==typeof X_.EventEmitter.prototype[t]&&(e[t]=qk[t].bind(qk))}));var t=e._destructionListeners=new L_;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),r=n.indexOf(e);r<0||(n.splice(r,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(Nk),Nk.adapter=function(e,t,n){t.valid()&&(Nk.adapters[e]=t,n&&Nk.preferredAdapters.push(e))},Nk.plugin=function(e){if("function"==typeof e)e(Nk);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){Nk.prototype[t]=e[t]}))}return this.__defaults&&(Nk.__defaults=bb({},this.__defaults)),Nk},Nk.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=bb({},t.__defaults,n),Nk.call(this,e,n)}return Y_()(t,Nk),t.preferredAdapters=Nk.preferredAdapters.slice(),Object.keys(Nk).forEach((function(e){e in t||(t[e]=Nk[e])})),t.__defaults=bb({},this.__defaults,e),t},Nk.fetch=function(e,t){return Vk(e,t)};var Hk=["$or","$nor","$not"];function zk(e){return Hk.indexOf(e)>-1}function $k(e){return Object.keys(e)[0]}function Qk(e){var t={};return e.forEach((function(e){Object.keys(e).forEach((function(n){var r=e[n];if("object"!=typeof r&&(r={$eq:r}),zk(n))t[n]=r instanceof Array?r.map((function(e){return Qk([e])})):Qk([r]);else{var i=t[n]=t[n]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(e,t,i):"$lt"===e||"$lte"===e?function(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(e,t,i):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,i):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,i):void(i[e]=t)}))}}))})),t}function Gk(e){var t=sb(e),n=!1;(function e(t,n){for(var r in t){"$and"===r&&(n=!0);var i=t[r];"object"==typeof i&&(n=e(i,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var r in t)t[r].$and&&(t[r]=Qk(t[r].$and));var i=t[n];"object"==typeof i&&e(i)}return t}(t))&&(t=Qk(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],i=e[r];"object"==typeof i&&null!==i||(e[r]={$eq:i})}}))})),"$not"in t&&(t.$not=Qk([t.$not]));for(var r=Object.keys(t),i=0;i<r.length;i++){var o=r[i],a=t[o];"object"!=typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),t[o]=a}return t}function Wk(e,t){if(e===t)return 0;e=Kk(e),t=Kk(t);var n=Xk(e),r=Xk(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=Wk(e[r],t[r]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),o=0;o<i;o++){var a=Wk(n[o],r[o]);if(0!==a)return a;if(0!==(a=Wk(e[n[o]],t[r[o]])))return a}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function Kk(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=Kk(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var i in e={},t)if(t.hasOwnProperty(i)){var o=t[i];void 0!==o&&(e[i]=Kk(o))}}}return e}function Zk(e){return Xk(e=Kk(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t,n=e.toExponential().split(/e\+?/),r=parseInt(n[1],10),i=e<0,o=i?"0":"2";o+=""+(function(e,t,n){for(var r="",i=3-e.length;r.length<i;)r+="0";return r}(t=((i?-r:r)- -324).toString())+t);var a=Math.abs(parseFloat(n[0]));return i&&(a=10-a),o+""+a.toFixed(20).replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,i=n.length,o="";if(t)for(;++r<i;)o+=Zk(n[r]);else for(;++r<i;){var a=n[r];o+=Zk(a)+Zk(e[a])}return o}return""}(e)+"\0"}function Jk(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var i="0"===e[t];t++;var o="",a=e.substring(t,t+3),s=parseInt(a,10)+-324;for(i&&(s=-s),t+=3;;){var u=e[t];if("\0"===u)break;o+=u,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),i&&(n-=10),0!==s&&(n=parseFloat(n+"e"+s))}return{num:n,length:t-r}}function Yk(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(n):o===e.length-2?i[e.pop()]=n:e.push(n)}}function Xk(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function eC(e,t,n){return n.every((function(n){var r=t[n],i=Bk(n),o=Fk(e,i);return zk(n)?function(e,t,n){return"$or"===e?t.some((function(e){return eC(n,e,Object.keys(e))})):"$not"===e?!eC(n,t,Object.keys(t)):!t.find((function(e){return eC(n,e,Object.keys(e))}))}(n,r,e):tC(r,e,i,o)}))}function tC(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every((function(i){return function(e,t,n,r,i){if(!oC[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return oC[e](t,n,r,i)}(i,t,e[i],n,r)})):e===r)}function nC(e){return null!=e}function rC(e){return void 0!==e}function iC(e,t){return t.some((function(t){return e instanceof Array?e.indexOf(t)>-1:e===t}))}var oC={$elemMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.some("object"==typeof r[0]?function(e){return eC(e,t,Object.keys(t))}:function(r){return tC(t,e,n,r)})},$allMatch:function(e,t,n,r){return!!Array.isArray(r)&&0!==r.length&&r.every("object"==typeof r[0]?function(e){return eC(e,t,Object.keys(t))}:function(r){return tC(t,e,n,r)})},$eq:function(e,t,n,r){return rC(r)&&0===Wk(r,t)},$gte:function(e,t,n,r){return rC(r)&&Wk(r,t)>=0},$gt:function(e,t,n,r){return rC(r)&&Wk(r,t)>0},$lte:function(e,t,n,r){return rC(r)&&Wk(r,t)<=0},$lt:function(e,t,n,r){return rC(r)&&Wk(r,t)<0},$exists:function(e,t,n,r){return t?rC(r):!rC(r)},$mod:function(e,t,n,r){return nC(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every((function(e){return 0!==Wk(r,e)}))},$in:function(e,t,n,r){return nC(r)&&iC(r,t)},$nin:function(e,t,n,r){return nC(r)&&!iC(r,t)},$size:function(e,t,n,r){return nC(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every((function(t){return e.indexOf(t)>-1}))}(r,t)},$regex:function(e,t,n,r){return nC(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function aC(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function sC(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=zb(e.view):e.filter=zb(e.filter))}function uC(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!Bb(e.db)}function cC(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=Lb(Pb,"`view` filter parameter not found or invalid.");return n(r)}var i=Hb(t.view);e.db.get("_design/"+i[0],(function(r,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Vb(r));var a=o&&o.views&&o.views[i[1]]&&o.views[i[1]].map;if(!a)return n(Lb(wb,o.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=Kb(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+a+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=function(e,t,n){if(e=e.filter((function(e){return eC(e.doc,t.selector,n)})),t.sort){var r=function(e){function t(t){return e.map((function(e){var n=Bk($k(e));return Fk(t,n)}))}return function(e,n){var r,i,o=Wk(t(e.doc),t(n.doc));return 0!==o?o:(r=e.doc._id)<(i=n.doc._id)?-1:r>i?1:0}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===(i=t.sort[0])[$k(i)]&&(e=e.reverse())}var i;if("limit"in t||"skip"in t){var o=t.skip||0;e=e.slice(o,("limit"in t?t.limit:e.length)+o)}return e}([{doc:e}],{selector:t=Gk(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var o=Hb(t.filter);e.db.get("_design/"+o[0],(function(r,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(Vb(r));var a=i&&i.filters&&i.filters[o[1]];if(!a)return n(Lb(wb,i&&i.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=Kb('"use strict";\nreturn '+a+";",{}),e.doChanges(t)}))}}function lC(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}Nk.plugin((function(e){e._changesFilterPlugin={validate:aC,normalize:sC,shouldFilter:uC,filter:cC}})),Nk.version="7.1.1";var fC=lC(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),hC=lC(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function dC(e){if(!/^\d+-./.test(e))return Lb(Mb);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function pC(e,t,n){var r,i,o;n||(n={deterministic_revs:!0});var a={status:"available"};if(e._deleted&&(a.deleted=!0),t)if(e._id||(e._id=hk()),i=fk(e,n.deterministic_revs),e._rev){if((o=dC(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[i,a,[]]]]}],r=o.prefix+1}else e._rev_tree=[{pos:1,ids:[i,a,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],o=1,a=r.length;o<a;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}(e._revisions,a),r=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if((o=dC(e._rev)).error)return o;e._rev_tree=[{pos:r=o.prefix,ids:[i=o.id,a,[]]}]}Fb(e._id),e._rev=r+"-"+i;var s={metadata:{},data:{}};for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c="_"===u[0];if(c&&!fC[u]){var l=Lb(Rb,u);throw l.message=Rb.message+": "+u,l}c&&!hC[u]?s.metadata[u.slice(1)]=e[u]:s.data[u]=e[u]}return s}function vC(e,t,n){if(e.stub)return n();"string"==typeof e.data?function(e,t,n){var r=function(e){try{return Jb(e)}catch(nO){return{error:Lb(Tb,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?tk(r,e.content_type):"base64"===t?Yb(r):r,ck(r,(function(t){e.digest="md5-"+t,n()}))}(e,t,n):function(e,t,n){ck(e.data,(function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?ik(e.data,(function(t){e.data=t,n()})):"base64"===t?ok(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}var gC="document-store",mC="meta-store";function yC(e){try{return JSON.stringify(e)}catch(nO){return W_.a.stringify(e)}}function _C(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(Lb(jb,n))}}function bC(e,t,n){return{data:yC(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function kC(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(nO){return W_.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function CC(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function wC(e,t,n,r){n?r(e?"string"!=typeof e?e:nk(e,t):Xb([""],{type:t})):e?"string"!=typeof e?rk(e,(function(e){r(Yb(e))})):r(e):r("")}function SC(e,t,n,r){var i=Object.keys(e._attachments||{});if(!i.length)return r&&r();var o=0;function a(){++o===i.length&&r&&r()}i.forEach((function(r){t.attachments&&t.include_docs?function(e,t){var r=e._attachments[t],i=r.digest;n.objectStore("attach-store").get(i).onsuccess=function(e){r.body=e.target.result.body,a()}}(e,r):(e._attachments[r].stub=!0,a())}))}function xC(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var r=e.doc._attachments[n];if("body"in r){var i=r.body,o=r.content_type;return new Promise((function(a){wC(i,o,t,(function(t){e.doc._attachments[n]=bb(fb(r,["digest","content_type"]),{data:t}),a()}))}))}})))}})))}function OC(e,t,n){var r=[],i=n.objectStore("by-sequence"),o=n.objectStore("attach-store"),a=n.objectStore("attach-seq-store"),s=e.length;function u(){--s||r.length&&r.forEach((function(e){a.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::\uffff",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}}))}e.forEach((function(e){i.index("_doc_id_rev").getKey(t+"::"+e).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return u();i.delete(t),a.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];r.push(n),a.delete(t.primaryKey),t.continue()}else u()}}}))}function EC(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var AC=new gb;function TC(e,t,n,r,i){var o,a,s;function u(e){a=e.target.result,o&&i(o,a,s)}function c(e){o=e.target.result,a&&i(o,a,s)}function l(e){var t=e.target.result;if(!t)return i();i([t.key],[t.value],t)}-1===r&&(r=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?(s={continue:function(){if(!o.length)return i();var n,s=o[o.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(s,t.upper,!0,t.upperOpen)}catch(nO){if("DataError"===nO.name&&0===nO.code)return i()}else n=IDBKeyRange.lowerBound(s,!0);o=null,a=null,e.getAll(t=n,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=c}},e.getAll(t,r).onsuccess=u,e.getAllKeys(t,r).onsuccess=c):n?e.openCursor(t,"prev").onsuccess=l:e.openCursor(t).onsuccess=l}var IC=!1,RC=[];function PC(){!IC&&RC.length&&(IC=!0,RC.shift()())}var DC,jC=new L_,MC=new L_;function NC(e,t){var n=this;!function(t,r,i){RC.push((function(){!function(e,t,n){var r=t.name,i=null;function o(e,t){var n=e.objectStore(gC);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i=r.value,o=Ek(i);i.deletedOrLocal=o?"1":"0",n.put(i),r.continue()}else t()}}function a(e,t){var n=e.objectStore("local-store"),r=e.objectStore(gC),i=e.objectStore("by-sequence");r.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var a=o.value,s=a.id,u=Ak(s),c=dk(a);if(u){var l=s+"::"+c,f=s+"::",h=s+"::~",d=i.index("_doc_id_rev"),p=IDBKeyRange.bound(f,h,!1,!1),v=d.openCursor(p);v.onsuccess=function(e){if(v=e.target.result){var t=v.value;t._doc_id_rev===l&&n.put(t),i.delete(v.primaryKey),v.continue()}else r.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function s(e,t){var n=e.objectStore("by-sequence"),r=e.objectStore("attach-store"),i=e.objectStore("attach-seq-store");r.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var r=n.value,o=n.primaryKey,a=Object.keys(r._attachments||{}),s={},u=0;u<a.length;u++)s[r._attachments[a[u]].digest]=!0;var c=Object.keys(s);for(u=0;u<c.length;u++)i.put({seq:o,digestSeq:c[u]+"::"+o});n.continue()}}}function u(e){var t=e.objectStore("by-sequence"),n=e.objectStore(gC);n.openCursor().onsuccess=function(e){var r=e.target.result;if(r){var i,o=(i=r.value).data?kC(i):(i.deleted="1"===i.deletedOrLocal,i);if(o.winningRev=o.winningRev||dk(o),o.seq)return a();!function(){var e=o.id+"::",n=o.id+"::\uffff",r=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),i=0;r.onsuccess=function(e){var t=e.target.result;if(!t)return o.seq=i,a();var n=t.primaryKey;n>i&&(i=n),t.continue()}}()}function a(){var e=bC(o,o.winningRev,o.deleted);n.put(e).onsuccess=function(){r.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=cb((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,r,o){!function(e,t,n,r,i,o){for(var a,s,u,c,l,f,h,d,p=t.docs,v=0,g=p.length;v<g;v++){var m=p[v];m._id&&Ak(m._id)||(m=p[v]=pC(m,n.new_edits,e)).error&&!h&&(h=m)}if(h)return o(h);var y=!1,_=0,b=new Array(p.length),k=new L_,C=!1;function w(){y=!0,S()}function S(){d&&y&&(d.docCount+=_,f.put(d))}function x(){C||(AC.notify(r._meta.name),o(null,b))}function O(e,t,n,r,i,o,a,s){e.metadata.winningRev=t,e.metadata.deleted=n;var u=e.data;if(u._id=e.metadata.id,u._rev=e.metadata.rev,r&&(u._deleted=!0),u._attachments&&Object.keys(u._attachments).length)return function(e,t,n,r,i,o){var a=0,s=Object.keys(e.data._attachments);function u(){a===s.length&&E(e,t,n,r,i,o)}function l(){a++,u()}s.forEach((function(n){var r=e.data._attachments[n];if(r.stub)a++,u();else{var i=r.data;delete r.data,r.revpos=parseInt(t,10),function(e,t,n){c.count(e).onsuccess=function(r){if(r.target.result)return n();c.put({digest:e,body:t}).onsuccess=n}}(r.digest,i,l)}}))}(e,t,n,i,a,s);_+=o,S(),E(e,t,n,i,a,s)}function E(e,t,n,i,o,c){var f=e.data,h=e.metadata;function d(o){var u=e.stemmedRevs||[];i&&r.auto_compaction&&(u=u.concat(function(e){var t=[];return pk(e.rev_tree,(function(e,n,r,i,o){"available"!==o.status||e||(t.push(n+"-"+r),o.status="missing")})),t}(e.metadata))),u&&u.length&&OC(u,e.metadata.id,a),h.seq=o.target.result;var c=bC(h,t,n);s.put(c).onsuccess=p}function p(){b[o]={ok:!0,id:h.id,rev:h.rev},k.set(e.metadata.id,e.metadata),function(e,t,n){var r=0,i=Object.keys(e.data._attachments||{});if(!i.length)return n();function o(){++r===i.length&&n()}function a(n){var r=l.put({seq:t,digestSeq:e.data._attachments[n].digest+"::"+t});r.onsuccess=o,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}for(var s=0;s<i.length;s++)a(i[s])}(e,h.seq,c)}f._doc_id_rev=h.id+"::"+h.rev,delete f._id,delete f._rev;var v=u.put(f);v.onsuccess=d,v.onerror=function(e){e.preventDefault(),e.stopPropagation(),u.index("_doc_id_rev").getKey(f._doc_id_rev).onsuccess=function(e){u.put(f,e.target.result).onsuccess=d}}}!function(e,t,n){if(!e.length)return n();var r,i=0;function o(){i++,e.length===i&&(r?n(r):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],i=0;if(!n.length)return o();function a(e){r=e,++i===n.length&&o()}for(var s in e.data._attachments)e.data._attachments.hasOwnProperty(s)&&vC(e.data._attachments[s],t,a)}))}(p,r._meta.blobSupport?"blob":"base64",(function(t){if(t)return o(t);!function(){var t=EC(i,[gC,"by-sequence","attach-store","local-store","attach-seq-store",mC],"readwrite");if(t.error)return o(t.error);(a=t.txn).onabort=_C(o),a.ontimeout=_C(o),a.oncomplete=x,s=a.objectStore(gC),u=a.objectStore("by-sequence"),c=a.objectStore("attach-store"),l=a.objectStore("attach-seq-store"),(f=a.objectStore(mC)).get(mC).onsuccess=function(e){d=e.target.result,S()},function(e){var t=[];if(p.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var r=e.data._attachments[n];r.stub&&t.push(r.digest)}))})),!t.length)return e();var n,r=0;t.forEach((function(i){!function(e,t){c.get(e).onsuccess=function(n){if(n.target.result)t();else{var r=Lb(Nb,"unknown stub attachment with digest "+e);r.status=412,t(r)}}}(i,(function(i){i&&!n&&(n=i),++r===t.length&&e(n)}))}))}((function(t){if(t)return C=!0,o(t);!function(){if(p.length)for(var t=0,i=0,o=p.length;i<o;i++){var u=p[i];u._id&&Ak(u._id)?c():s.get(u.metadata.id).onsuccess=l}function c(){++t===p.length&&function(e,t,n,r,i,o,a,s,u){e=e||1e3;var c=s.new_edits,l=new L_,f=0,h=t.length;function d(){++f===h&&u&&u()}t.forEach((function(e,t){if(e._id&&Ak(e._id))n[e._deleted?"_removeLocal":"_putLocal"](e,{ctx:i},(function(e,n){o[t]=e||n,d()}));else{var r=e.metadata.id;l.has(r)?(h--,l.get(r).push([e,t])):l.set(r,[[e,t]])}})),l.forEach((function(t,n){var i=0;function u(){++i<t.length?l():d()}function l(){var l=t[i],f=l[0],h=l[1];if(r.has(n))!function(e,t,n,r,i,o,a,s){if(function(e,t){for(var n,r=e.slice(),i=t.split("-"),o=parseInt(i[0],10),a=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===a)return!0;for(var s=n.ids[2],u=0,c=s.length;u<c;u++)r.push({pos:n.pos+1,ids:s[u]})}return!1}(t.rev_tree,n.metadata.rev)&&!s)return r[i]=n,o();var u=t.winningRev||dk(t),c="deleted"in t?t.deleted:Ek(t,u),l="deleted"in n.metadata?n.metadata.deleted:Ek(n.metadata),f=/^1-/.test(n.metadata.rev);if(c&&!l&&s&&f){var h=n.data;h._rev=u,h._id=n.metadata.id,n=pC(h,s)}var d=xk(t.rev_tree,n.metadata.rev_tree[0],e);if(s&&(c&&l&&"new_leaf"!==d.conflicts||!c&&"new_leaf"!==d.conflicts||c&&!l&&"new_branch"===d.conflicts)){var p=Lb(Sb);return r[i]=p,o()}var v=n.metadata.rev;n.metadata.rev_tree=d.tree,n.stemmedRevs=d.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g=dk(n.metadata),m=Ek(n.metadata,g),y=c===m?0:c<m?-1:1;a(n,g,m,v===g?m:Ek(n.metadata,v),!0,y,i,o)}(e,r.get(n),f,o,h,u,a,c);else{var d=xk([],f.metadata.rev_tree[0],e);f.metadata.rev_tree=d.tree,f.stemmedRevs=d.stemmedRevs||[],function(e,t,n){var r=dk(e.metadata),i=Ek(e.metadata,r);if("was_delete"in s&&i)return o[t]=Lb(wb,"deleted"),n();if(c&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var u=Lb(Sb);return o[t]=u,n()}a(e,r,i,i,!1,i?0:1,t,n)}(f,h,u)}}l()}))}(e.revs_limit,p,r,k,a,b,O,n,w)}function l(e){var t=kC(e.target.result);t&&k.set(t.id,t),c()}}()}))}()}))}(t,n,r,e,i,o)},e._get=function(e,t,n){var r,o,a,s=t.ctx;if(!s){var u=EC(i,[gC,"by-sequence","attach-store"],"readonly");if(u.error)return n(u.error);s=u.txn}function c(){n(a,{doc:r,metadata:o,ctx:s})}s.objectStore(gC).get(e).onsuccess=function(e){if(!(o=kC(e.target.result)))return a=Lb(wb,"missing"),c();var n;if(t.rev)n=t.latest?function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,o=n.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:i,opts:s}),c)for(var f=0,h=l.length;f<h;f++){var d=l[f];if(d.pos+"-"+d.id===e)return i+"-"+a}for(var p=0,v=u.length;p<v;p++)r.push({pos:i+1,ids:u[p],history:l})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,o):t.rev;else if(n=o.winningRev,Ek(o))return a=Lb(wb,"deleted"),c();var i=s.objectStore("by-sequence"),u=o.id+"::"+n;i.index("_doc_id_rev").get(u).onsuccess=function(e){if((r=e.target.result)&&(r=CC(r)),!r)return a=Lb(wb,"missing"),c();c()}}},e._getAttachment=function(e,t,n,r,o){var a;if(r.ctx)a=r.ctx;else{var s=EC(i,[gC,"by-sequence","attach-store"],"readonly");if(s.error)return o(s.error);a=s.txn}var u=n.digest,c=n.content_type;a.objectStore("attach-store").get(u).onsuccess=function(e){wC(e.target.result.body,c,r.binary,(function(e){o(null,e)}))}},e._info=function(t){var n,r,o=EC(i,[mC,"by-sequence"],"readonly");if(o.error)return t(o.error);var a=o.txn;a.objectStore(mC).get(mC).onsuccess=function(e){r=e.target.result.docCount},a.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},a.oncomplete=function(){t(null,{doc_count:r,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){!function(e,t,n){var r,i,o="keys"in e&&e.keys,a=e.skip||0,s="number"==typeof e.limit?e.limit:-1;if(!o&&(i=(r=function(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(nO){return{error:nO}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending))&&r.error)&&("DataError"!==i.name||0!==i.code))return n(Lb(jb,i.name));var u=[gC,"by-sequence",mC];e.attachments&&u.push("attach-store");var c=EC(t,u,"readonly");if(c.error)return n(c.error);var l=c.txn;l.oncomplete=function(){e.attachments?xC(y,e.binary).then(C):C()},l.onabort=_C(n);var f,h,d,p=l.objectStore(gC),v=l.objectStore("by-sequence"),g=l.objectStore(mC),m=v.index("_doc_id_rev"),y=[];function _(t,n){var r={id:n.id,key:n.id,value:{rev:t}};n.deleted?o&&(y.push(r),r.value.deleted=!0,r.doc=null):a--<=0&&(y.push(r),e.include_docs&&function(t,n,r){m.get(t.id+"::"+r).onsuccess=function(r){if(n.doc=CC(r.target.result)||{},e.conflicts){var i=mk(t);i.length&&(n.doc._conflicts=i)}SC(n.doc,e,l)}}(n,r,t))}function b(e){for(var t=0,n=e.length;t<n&&y.length!==s;t++){var r=e[t];if(r.error&&o)y.push(r);else{var i=kC(r);_(i.winningRev,i)}}}function k(e,t,n){n&&(b(t),y.length<s&&n.continue())}function C(){var t={total_rows:f,offset:e.skip,rows:y};e.update_seq&&void 0!==h&&(t.update_seq=h),n(null,t)}g.get(mC).onsuccess=function(e){f=e.target.result.docCount},e.update_seq&&(d=function(e){e.target.result&&e.target.result.length>0&&(h=e.target.result[0])},v.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),d({target:{result:[n]}})}),i||0===s||(o?function(e,t,n){var r=new Array(e.length),i=0;e.forEach((function(o,a){t.get(o).onsuccess=function(t){r[a]=t.target.result?t.target.result:{key:o,error:"not_found"},++i===e.length&&n(e,r,{})}}))}(e.keys,p,k):-1===s?function(e,t,n){if("function"!=typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(r.push(t.value),t.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}(p,r,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),b(n)})):TC(p,r,e.descending,s+a,k))}(e,i,t)},e._changes=function(t){return function(e,t,n,r){if((e=sb(e)).continuous){var i=n+":"+hk();return AC.addListener(n,i,t,e),AC.notify(n),{cancel:function(){AC.removeListener(n,i)}}}var o=e.doc_ids&&new N_(e.doc_ids);e.since=e.since||0;var a=e.since,s="limit"in e?e.limit:-1;0===s&&(s=1);var u,c,l,f,h=[],d=0,p=Ub(e),v=new L_;function g(e,t,n,r){return n.seq!==t?r():n.winningRev===e._rev?r(n,e):void(f.get(e._id+"::"+n.winningRev).onsuccess=function(e){r(n,CC(e.target.result))})}function m(){e.complete(null,{results:h,last_seq:a})}var y=[gC,"by-sequence"];e.attachments&&y.push("attach-store");var _=EC(r,y,"readonly");if(_.error)return e.complete(_.error);(u=_.txn).onabort=_C(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?xC(h).then(m):m()},c=u.objectStore("by-sequence"),l=u.objectStore(gC),f=c.index("_doc_id_rev"),TC(c,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,s,(function(t,n,r){if(r&&t.length){var i=new Array(t.length),c=new Array(t.length),f=0;n.forEach((function(n,a){!function(e,t,n){if(o&&!o.has(e._id))return n();var r=v.get(e._id);if(r)return g(e,t,r,n);l.get(e._id).onsuccess=function(i){r=kC(i.target.result),v.set(e._id,r),g(e,t,r,n)}}(CC(n),t[a],(function(n,o){c[a]=n,i[a]=o,++f===t.length&&function(){for(var t=[],n=0,o=i.length;n<o&&d!==s;n++){var a=i[n];a&&t.push(m(c[n],a))}Promise.all(t).then((function(t){for(var n=0,r=t.length;n<r;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),d!==s&&r.continue()}()}))}))}function m(t,n){var r=e.processChange(n,t,e);a=r.seq=t.seq;var i=p(r);return"object"==typeof i?Promise.reject(i):i?(d++,e.return_docs&&h.push(r),e.attachments&&e.include_docs?new Promise((function(t){SC(n,e,u,(function(){xC([r],e.binary).then((function(){t(r)}))}))})):Promise.resolve(r)):Promise.resolve()}}))}(t,e,r,i)},e._close=function(e){i.close(),jC.delete(r),e()},e._getRevisionTree=function(e,t){var n=EC(i,[gC],"readonly");if(n.error)return t(n.error);n.txn.objectStore(gC).get(e).onsuccess=function(e){var n=kC(e.target.result);n?t(null,n.rev_tree):t(Lb(wb))}},e._doCompaction=function(e,t,n){var r=EC(i,[gC,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(r.error)return n(r.error);var o=r.txn;o.objectStore(gC).get(e).onsuccess=function(n){var r=kC(n.target.result);pk(r.rev_tree,(function(e,n,r,i,o){-1!==t.indexOf(n+"-"+r)&&(o.status="missing")})),OC(t,e,o);var i=r.winningRev,a=r.deleted;o.objectStore(gC).put(bC(r,i,a))},o.onabort=_C(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=EC(i,["local-store"],"readonly");if(n.error)return t(n.error);var r=n.txn.objectStore("local-store").get(e);r.onerror=_C(t),r.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(Lb(wb))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var r=e._rev,o=e._id;e._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var a,s=t.ctx;if(!s){var u=EC(i,["local-store"],"readwrite");if(u.error)return n(u.error);(s=u.txn).onerror=_C(n),s.oncomplete=function(){a&&n(null,a)}}var c,l=s.objectStore("local-store");r?(c=l.get(o)).onsuccess=function(i){var o=i.target.result;o&&o._rev===r?l.put(e).onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,a)}:n(Lb(Sb))}:((c=l.add(e)).onerror=function(e){n(Lb(Sb)),e.preventDefault(),e.stopPropagation()},c.onsuccess=function(){a={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,a)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var r,o=t.ctx;if(!o){var a=EC(i,["local-store"],"readwrite");if(a.error)return n(a.error);(o=a.txn).oncomplete=function(){r&&n(null,r)}}var s=e._id,u=o.objectStore("local-store"),c=u.get(s);c.onerror=_C(n),c.onsuccess=function(i){var o=i.target.result;o&&o._rev===e._rev?(u.delete(s),r={ok:!0,id:s,rev:"0-0"},t.ctx&&n(null,r)):n(Lb(wb))}},e._destroy=function(e,t){AC.removeAllListeners(r);var n=MC.get(r);n&&n.result&&(n.result.close(),jC.delete(r));var i=indexedDB.deleteDatabase(r);i.onsuccess=function(){MC.delete(r),vb()&&r in localStorage&&delete localStorage[r],t(null,{ok:!0})},i.onerror=_C(t)};var c=jC.get(r);if(c)return i=c.idb,e._meta=c.global,B_()((function(){n(null,e)}));var l=indexedDB.open(r,5);MC.set(r,l),l.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(gC,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(mC,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var r=[o,a,s,u],i=e.oldVersion;!function e(){var t=r[i-1];i++,t&&t(n,e)}()},l.onsuccess=function(t){(i=t.target.result).onversionchange=function(){i.close(),jC.delete(r)},i.onabort=function(e){mb("error","Database has a global failure",e.target.error),i.close(),jC.delete(r)};var o,a,s,u,c=i.transaction([mC,"detect-blob-support",gC],"readwrite"),l=!1;function f(){void 0!==s&&l&&(e._meta={name:r,instanceId:u,blobSupport:s},jC.set(r,{idb:i,global:e._meta}),n(null,e))}function h(){if(void 0!==a&&void 0!==o){var e=r+"_id";e in o?u=o[e]:o[e]=u=hk(),o.docCount=a,c.objectStore(mC).put(o)}}c.objectStore(mC).get(mC).onsuccess=function(e){o=e.target.result||{id:mC},h()},function(e,t){e.objectStore(gC).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){a=e.target.result,h()}}(c),DC||(DC=function(e){return new Promise((function(t){var n=Xb([""]),r=e.objectStore("detect-blob-support").put(n,"key");r.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},r.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(c)),DC.then((function(e){s=e,f()})),c.oncomplete=function(){l=!0,f()},c.onabort=_C(n)},l.onerror=function(){var e="Failed to open indexedDB, are you in private browsing mode?";mb("error",e),n(Lb(jb,e))}}(n,e,(function(e,t){!function(e,t,n,r){try{e(t,n)}catch(t){r.emit("error",t)}}(r,e,t,i),IC=!1,B_()((function(){PC()}))}))})),PC()}(0,t,n.constructor)}NC.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(nO){return!1}};var LC={};function VC(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=nk(t.data,t.content_type)}))}function UC(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function qC(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){ok(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function FC(e,t){return BC(e,e.db+"/"+t)}function BC(e,t){return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+(e.path?"/":"")+t}function HC(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function zC(e,t){var n=this,r=function(e,t){if(function(e){if(!e.prefix)return!1;var t=Wb(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var r=Wb(e);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var i=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=i.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=i.join("/"),r}(e.name,e),i=FC(r,"");e=sb(e);var o,a=function(t,n){if((n=n||{}).headers=n.headers||new Uk,n.credentials="include",e.auth||r.auth){var i=e.auth||r.auth,o=Yb(unescape(encodeURIComponent(i.username+":"+i.password)));n.headers.set("Authorization","Basic "+o)}var a=e.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),r=-1!==t.indexOf("trident"),i=-1!==t.indexOf("edge");return(n||r||i)&&(!("method"in e)||"GET"===e.method)}(n)&&(t+=(-1===t.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(e.fetch||Vk)(t,n)};function s(e,t){return lb(e,Z_()((function(e){c().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(n)}function u(e,t,n){var r={};return(t=t||{}).headers=t.headers||new Uk,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),a(e,t).then((function(e){return r.ok=e.ok,r.status=e.status,e.json()})).then((function(e){if(r.data=e,!r.ok){r.data.status=r.status;var t=Vb(r.data);if(n)return n(t);throw t}if(Array.isArray(r.data)&&(r.data=r.data.map((function(e){return e.error||e.missing?Vb(e):e}))),!n)return r;n(null,r.data)}))}function c(){return e.skip_setup?Promise.resolve():o||((o=u(i).catch((function(e){return e&&e.status&&404===e.status?(_b(404,"PouchDB is just detecting if the remote exists."),u(i,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){o=null})),o)}function l(e){return e.split("/").map(encodeURIComponent).join("/")}B_()((function(){t(null,n)})),n._remote=!0,n.type=function(){return"http"},n.id=s("id",(function(e){a(BC(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:FC(r,"");e(null,n)}))})),n.compact=s("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=sb(e),u(FC(r,"_compact"),{method:"POST"}).then((function(){!function r(){n.info((function(n,i){i&&!i.compact_running?t(null,{ok:!0}):setTimeout(r,e.interval||200)}))}()}))})),n.bulkGet=lb("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(FC(r,"_bulk_get"+HC(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(VC)})),t(null,n.data)})).catch(t)}function o(){var r=Math.ceil(e.docs.length/50),i=0,o=new Array(r);function a(e){return function(n,a){o[e]=a.results,++i===r&&t(null,{results:qb(o)})}}for(var s=0;s<r;s++){var u=fb(e,["revs","attachments","binary","latest"]);u.docs=e.docs.slice(50*s,Math.min(e.docs.length,50*(s+1))),pb(n,u,a(s))}}var a=BC(r,""),s=LC[a];"boolean"!=typeof s?i((function(e,n){e?(LC[a]=!1,_b(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(LC[a]=!0,t(null,n))})):s?i(t):o()})),n._info=function(e){c().then((function(){return a(FC(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=FC(r,""),e(null,t)})).catch(e)},n.fetch=function(e,t){return c().then((function(){var n="/"===e.substring(0,1)?BC(r,e.substring(1)):FC(r,e);return a(n,t)}))},n.get=s("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function o(e){var n,i=e._attachments,o=i&&Object.keys(i);if(i&&o.length)return n=o.map((function(n){return function(){return function(n){var o=i[n],s=UC(e._id)+"/"+l(n)+"?rev="+e._rev;return a(FC(r,s)).then((function(e){return"undefined"==typeof process||process.browser?e.blob():e.buffer()})).then((function(e){return t.binary?("undefined"==typeof process||process.browser||(e.type=o.content_type),e):new Promise((function(t){ok(e,t)}))})).then((function(e){delete o.stub,delete o.length,o.data=e}))}(n)}})),new Promise((function(e,t){var r,i=0,o=0,a=0,s=n.length;function u(){++a===s?r?t(r):e():f()}function c(){i--,u()}function l(e){i--,r=r||e,u()}function f(){for(;i<5&&o<s;)i++,n[o++]().then(c,l)}f()}))}(t=sb(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=UC(e),u(FC(r,e+HC(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return o(e.ok)}))):o(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),n.remove=s("remove",(function(e,t,n,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(o=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var a=o._rev||n.rev;u(FC(r,UC(o._id))+"?rev="+a,{method:"DELETE"},i).catch(i)})),n.getAttachment=s("getAttachment",(function(e,t,n,i){"function"==typeof n&&(i=n,n={});var o,s=n.rev?"?rev="+n.rev:"",u=FC(r,UC(e))+"/"+l(t)+s;a(u,{method:"GET"}).then((function(e){if(o=e.headers.get("content-type"),e.ok)return"undefined"==typeof process||process.browser?e.blob():e.buffer();throw e})).then((function(e){"undefined"==typeof process||process.browser||(e.type=o),i(null,e)})).catch((function(e){i(e)}))})),n.removeAttachment=s("removeAttachment",(function(e,t,n,i){u(FC(r,UC(e)+"/"+l(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),n.putAttachment=s("putAttachment",(function(e,t,n,i,o,a){"function"==typeof o&&(a=o,o=i,i=n,n=null);var s=UC(e)+"/"+l(t),c=FC(r,s);if(n&&(c+="?rev="+n),"string"==typeof i){var f;try{f=Jb(i)}catch(h){return a(Lb(Tb,"Attachment is not a valid base64 string"))}i=f?tk(f,o):""}u(c,{headers:new Uk({"Content-Type":o}),method:"PUT",body:i},a).catch(a)})),n._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,c().then((function(){return Promise.all(e.docs.map(qC))})).then((function(){return u(FC(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},n._put=function(e,t,n){c().then((function(){return qC(e)})).then((function(){return u(FC(r,UC(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},n.allDocs=s("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},o="GET";(e=sb(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var a=HC(i);void 0!==e.keys&&(o="POST",n={keys:e.keys}),u(FC(r,"_all_docs"+a),{method:o,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(VC),t(null,n.data)})).catch(t)})),n._changes=function(e){var t="batch_size"in e?e.batch_size:25;!(e=sb(e)).continuous||"heartbeat"in e||(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var o=void 0!==e.limit&&e.limit,a=o;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var s in e.query_params)e.query_params.hasOwnProperty(s)&&(i[s]=e.query_params[s]);var l,f="GET";e.doc_ids?(i.filter="_doc_ids",f="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",f="POST",l={selector:e.selector});var h,d=new Lk,p=function(n,s){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?o&&(i.limit=a):i.limit=!o||a>t?t:a;var p=FC(r,"_changes"+HC(i)),v={signal:d.signal,method:f,body:JSON.stringify(l)};h=n,e.aborted||c().then((function(){return u(p,v,s)})).catch(s)}},v={results:[]};return p(e.since||0,(function n(r,i){if(!e.aborted){var s=0;if(i&&i.results){s=i.results.length,v.last_seq=i.last_seq;var u=null,c=null;"number"==typeof i.pending&&(u=i.pending),"string"!=typeof v.last_seq&&"number"!=typeof v.last_seq||(c=v.last_seq),i.results=i.results.filter((function(t){a--;var n=Ub(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&VC(t),e.return_docs&&v.results.push(t),e.onChange(t,u,c)),n}))}else if(r)return e.aborted=!0,void e.complete(r);i&&i.last_seq&&(h=i.last_seq),(!e.continuous||o&&a<=0)&&(o&&a<=0||i&&s<t||e.descending)?e.complete(null,v):B_()((function(){p(h,n)}))}})),{cancel:function(){e.aborted=!0,d.abort()}}},n.revsDiff=s("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),u(FC(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),n._close=function(e){e()},n._destroy=function(e,t){u(FC(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function $C(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,$C)}catch(nO){}}function QC(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,QC)}catch(nO){}}function GC(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,GC)}catch(nO){}}function WC(e,t){return t&&e.then((function(e){B_()((function(){t(null,e)}))}),(function(e){B_()((function(){t(e)}))})),e}function KC(e,t){return function(){var n=arguments,r=this;return e.add((function(){return t.apply(r,n)}))}}function ZC(e){var t=new N_(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function JC(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,r){t[++n]=r})),t}function YC(e){return new GC("builtin "+e+" function requires map values to be numbers or number arrays")}function XC(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];if("number"!=typeof i){if(!Array.isArray(i))throw YC("_sum");t="number"==typeof t?[t]:t;for(var o=0,a=i.length;o<a;o++){var s=i[o];if("number"!=typeof s)throw YC("_sum");void 0===t[o]?t.push(s):t[o]+=s}}else"number"==typeof t?t+=i:t[0]+=i}return t}zC.valid=function(){return!0},Y_()($C,Error),Y_()(QC,Error),Y_()(GC,Error);var ew=mb.bind(null,"log"),tw=Array.isArray,nw=JSON.parse;function rw(e,t){return Kb("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:XC,log:ew,isArray:tw,toJSON:nw})}function iw(){this.promise=new Promise((function(e){e()}))}function ow(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function aw(e,t,n,r,i,o){var a,s=function(e,t){return ow(e)+ow(t)+"undefined"}(n,r);if(!i&&(a=e._cachedViews=e._cachedViews||{})[s])return a[s];var u=e.info().then((function(u){var c=u.db_name+"-mrview-"+(i?"temp":lk(s));return Zb(e,"_local/"+o,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var r=e.views[n]=e.views[n]||{};if(!r[c])return r[c]=!0,e})).then((function(){return e.registerDependentDatabase(c).then((function(t){var i=t.db;i.auto_compaction=!0;var o={name:c,db:i,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return o.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return o.seq=e?e.seq:0,a&&o.db.once("destroyed",(function(){delete a[s]})),o}))}))}))}));return a&&(a[s]=u),u}iw.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},iw.prototype.finish=function(){return this.promise};var sw={},uw=new iw;function cw(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function lw(e,t){try{e.emit("error",t)}catch(n){mb("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),mb("error",t)}}var fw=function(e,t){return XC(t)},hw=function(e,t){return t.length},dw=function(e,t){return{sum:XC(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,r=e.length;n<r;n++){var i=e[n];t+=i*i}return t}(t)}},pw=function(e,t,n,r){function i(e,t,n){try{t(n)}catch(nO){lw(e,nO)}}function o(e,t,n,r,i){try{return{output:t(n,r,i)}}catch(nO){return lw(e,nO),{error:nO}}}function a(e,t){var n=Wk(e.key,t.key);return 0!==n?n:Wk(e.value,t.value)}function s(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function c(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=nk(n.data,n.content_type)}))}))}(t),t}}function l(e,t,n,r){var i=t[e];void 0!==i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(e+"="+i))}function f(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function h(e,t){var n=e.descending?"endkey":"startkey",r=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[r]&&Wk(e[n],e[r])>0)throw new $C("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new $C("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new $C("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new $C('Invalid value for integer: "'+e+'"');if(e<0)return new $C('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function d(e){return function(t){if(404===t.status)return e;throw t}}function p(e){var t="string"==typeof e?e:e.name,n=sw[t];return n||(n=sw[t]=new iw),n}function v(e){return KC(p(e),(function(){return function(e){var t,n,r=function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return rw(e.toString(),t)}(e.mapFun,(function(e,r){var i={id:n._id,key:Kk(e)};null!=r&&(i.value=Kk(r)),t.push(i)})),o=e.seq||0,s=new iw;function u(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:o,limit:50}).then(c)}function c(c){var f=c.results;if(f.length){var h=function(s){for(var u=new L_,c=0,f=s.length;c<f;c++){var h=s[c];if("_"!==h.doc._id[0]){t=[],(n=h.doc)._deleted||i(e.sourceDB,r,n),t.sort(a);var d=l(t);u.set(h.doc._id,[d,h.changes])}o=h.seq}return u}(f);if(s.add(function(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(d({_id:"_local/lastSeq",seq:0})).then((function(r){var i=JC(t);return Promise.all(i.map((function(n){return function(e,t,n){var r,i="_local/doc_"+e,o={_id:i,keys:[]},a=n.get(e),s=a[0];return(r=a[1],1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(o):t.db.get(i).catch(d(o))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new N_,i=0,o=t.rows.length;i<o;i++){var a=t.rows[i].doc;if(a&&(n.push(a),r.add(a._id),a._deleted=!s.has(a._id),!a._deleted)){var u=s.get(a._id);"value"in u&&(a.value=u.value)}}var c=JC(s);return c.forEach((function(e){if(!r.has(e)){var t={_id:e},i=s.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=ZC(c.concat(e.keys)),n.push(e),n}(e,t)}))}))}(n,e,t)}))).then((function(t){var i=qb(t);return r.seq=n,i.push(r),e.db.bulkDocs({docs:i})}))}))}(e,t,n)}}(h,o)),!(f.length<50))return u()}}function l(e){for(var t,n=new L_,r=0,i=e.length;r<i;r++){var o=e[r],a=[o.key,o.id];r>0&&0===Wk(o.key,t)&&a.push(r),n.set(Zk(a),o),t=o.key}return n}return u().then((function(){return s.finish()})).then((function(){e.seq=o}))}(e)}))()}function g(e,t){return KC(p(e),(function(){return function(e,t){var n,r=e.reduceFun&&!1!==t.reduce,i=t.skip||0;function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return n=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var r=function(e){for(var t=[],n=[],r=0;;){var i=e[r++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var o=Jk(e,r);t.push(o.num),r+=o.length;break;case"4":for(var a="";;){var s=e[r];if("\0"===s)break;a+=s,r++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(a);break;case"5":var u={element:[],index:t.length};t.push(u.element),n.push(u);break;case"6":var c={element:{},index:t.length};t.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();Yk(t,n)}}}(e.doc._id);return{key:r[0],id:r[1],value:"value"in e.doc?e.doc.value:null}}))}))}function c(a){var c;if(c=r?function(e,t,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,i=function(e){var t=e.toString();return function(e){if(/^_sum/.test(e))return fw;if(/^_count/.test(e))return hw;if(/^_stats/.test(e))return dw;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t)||rw(t)}(e.reduceFun),a=[],u=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;t.forEach((function(e){var t=a[a.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,u)),t&&0===Wk(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);a.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var c=0,l=a.length;c<l;c++){var f=a[c],h=o(e.sourceDB,i,f.keys,f.values,!1);if(h.error&&h.error instanceof GC)throw h.error;t.push({value:h.error?null:h.output,key:f.groupKey})}return{rows:s(t,n.limit,n.skip)}}(e,a,t):{total_rows:n,offset:i,rows:a},t.update_seq&&(c.update_seq=e.seq),t.include_docs){var l=ZC(a.map(u));return e.sourceDB.allDocs({keys:l,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new L_;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=u(e),r=t.get(n);r&&(e.doc=r)})),c}))}return c}if(void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys),void 0!==t.keys){var l=t.keys.map((function(e){var n={startkey:Zk([e]),endkey:Zk([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(l).then(qb).then(c)}var f,h,d={descending:t.descending};if(t.update_seq&&(d.update_seq=!0),"start_key"in t&&(f=t.start_key),"startkey"in t&&(f=t.startkey),"end_key"in t&&(h=t.end_key),"endkey"in t&&(h=t.endkey),void 0!==f&&(d.startkey=Zk(t.descending?[f,{}]:[f])),void 0!==h){var p=!1!==t.inclusive_end;t.descending&&(p=!p),d.endkey=Zk(p?[h,{}]:[h])}if(void 0!==t.key){var v=Zk([t.key]),g=Zk([t.key,{}]);d.descending?(d.endkey=v,d.startkey=g):(d.startkey=v,d.endkey=g)}return r||("number"==typeof t.limit&&(d.limit=t.limit),d.skip=i),a(d).then(c)}(e,t)}))()}var m;return{query:function(e,t,n){var r=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=f(e.group_level),e.limit=f(e.limit),e.skip=f(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var i=Promise.resolve().then((function(){return function(e,t,n){if("function"==typeof e._query)return function(e,t,n){return new Promise((function(r,i){e._query(t,n,(function(e,t){if(e)return i(e);r(t)}))}))}(e,t,n);if(Bb(e))return function(e,t,n){var r,i,o,a=[],s="GET";if(l("reduce",n,a),l("include_docs",n,a),l("attachments",n,a),l("limit",n,a),l("descending",n,a),l("group",n,a),l("group_level",n,a),l("skip",n,a),l("stale",n,a),l("conflicts",n,a),l("startkey",n,a,!0),l("start_key",n,a,!0),l("endkey",n,a,!0),l("end_key",n,a,!0),l("inclusive_end",n,a),l("key",n,a,!0),l("update_seq",n,a),a=""===(a=a.join("&"))?"":"?"+a,void 0!==n.keys){var u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+a.length+1<=2e3?a+=("?"===a[0]?"&":"?")+u:(s="POST","string"==typeof t?r={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var f=cw(t);return e.fetch("_design/"+f[0]+"/_view/"+f[1]+a,{headers:new Uk({"Content-Type":"application/json"}),method:s,body:JSON.stringify(r)}).then((function(e){return i=e.ok,o=e.status,e.json()})).then((function(e){if(!i)throw e.status=o,Vb(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(c(n))}return r=r||{},Object.keys(t).forEach((function(e){r[e]=Array.isArray(t[e])?t[e]:t[e].toString()})),e.fetch("_temp_view"+a,{headers:new Uk({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then((function(e){return i=e.ok,o=e.status,e.json()})).then((function(e){if(!i)throw e.status=o,Vb(e);return e})).then(c(n))}(e,t,n);if("string"!=typeof t)return h(n,t),uw.add((function(){return aw(e,"temp_view/temp_view",t.map,t.reduce,!0,"mrviews").then((function(e){return t=v(e).then((function(){return g(e,n)})),r=function(){return e.db.destroy()},t.then((function(e){return r().then((function(){return e}))}),(function(e){return r().then((function(){throw e}))}));var t,r}))})),uw.finish();var r=t,i=cw(r),o=i[1];return e.get("_design/"+i[0]).then((function(t){var i=t.views&&t.views[o];if(!i)throw new QC("ddoc "+t._id+" has no view named "+o);return function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new QC("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}(t,o),h(n,i),aw(e,r,i.map,i.reduce,!1,"mrviews").then((function(e){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&B_()((function(){v(e)})),g(e,n)):v(e).then((function(){return g(e,n)}))}))}))}(r,e,t)}));return WC(i,n),i},viewCleanup:(m=function(){var e=this;return"function"==typeof e._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,r){if(e)return n(e);t(r)}))}))}(e):Bb(e)?function(e){return e.fetch("_view_cleanup",{headers:new Uk({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(e):function(e){return e.get("_local/mrviews").then((function(t){var n=new L_;Object.keys(t.views).forEach((function(e){var t=cw(e),r="_design/"+t[0],i=t[1],o=n.get(r);o||(o=new N_,n.set(r,o)),o.add(i)}));var r={keys:JC(n),include_docs:!0};return e.allDocs(r).then((function(r){var i={};r.rows.forEach((function(e){var r=e.key.substring(8);n.get(e.key).forEach((function(n){var o=r+"/"+n;t.views[o]||(o=n);var a=Object.keys(t.views[o]),s=e.doc&&e.doc.views&&e.doc.views[n];a.forEach((function(e){i[e]=i[e]||s}))}))}));var o=Object.keys(i).filter((function(e){return!i[e]})).map((function(t){return KC(p(t),(function(){return new e.constructor(t,e.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}))}),d({ok:!0}))}(e)},Z_()((function(e){var t=e.pop(),n=m.apply(this,e);return"function"==typeof t&&WC(n,t),n})))}}(),vw={query:function(e,t,n){return pw.query.call(this,e,t,n)},viewCleanup:function(e){return pw.viewCleanup.call(this,e)}};function gw(e){return/^1-/.test(e)}function mw(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function yw(e,t,n,r,i){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||_b(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(o){if(!i.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter((function(e){return e.session_id!==r})),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,5),o.version=1,o.replicator="pouchdb",o.session_id=r,o.last_seq=n,e.put(o).catch((function(o){if(409===o.status)return yw(e,t,n,r,i);throw o}))}))}function _w(e,t,n,r,i){this.src=e,this.target=t,this.id=n,this.returnValue=r,this.opts=i||{}}_w.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},_w.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?yw(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},_w.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return yw(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Cw(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var bw={undefined:function(e,t){return 0===Wk(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return(n=t,r=e,n.session_id===r.session_id?{last_seq:n.last_seq,history:n.history}:function e(t,n){var r=t[0],i=t.slice(1),o=n[0],a=n.slice(1);return r&&0!==n.length?kw(r.session_id,n)?{last_seq:r.last_seq,history:t}:kw(o.session_id,i)?{last_seq:o.last_seq,history:a}:e(i,a):{last_seq:0,history:[]}}(n.history,r.history)).last_seq;var n,r}};function kw(e,t){var n=t[0],r=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||kw(e,r))}function Cw(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}function ww(){X_.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function Sw(e,t){return"string"==typeof e?new(0,t.PouchConstructor)(e,t):e}function xw(e,t,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw Lb(Pb,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=sb(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var i=new ww(n);return function e(t,n,r,i,o){var a,s,u=[],c={seq:0,changes:[],docs:[]},l=!1,f=!1,h=!1,d=0,p=r.continuous||r.live||!1,v=r.batch_size||100,g=r.batches_limit||10,m=!1,y=r.doc_ids,_=r.selector,b=[],k=hk();o=o||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var C={};function w(){return s?Promise.resolve():function(e,t,n){var r=n.doc_ids?n.doc_ids.sort(Wk):"",i=n.filter?n.filter.toString():"",o="",a="",s="";return n.selector&&(s=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(function(e){return Object.keys(e).sort(Wk).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+i+a+o+r+s;return new Promise((function(e){ck(t,e)}))})).then((function(e){return"_local/"+e.replace(/\//g,".").replace(/\+/g,"_")}))}(t,n,r).then((function(e){s=new _w(t,n,e,i,!1===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===r.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===r.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})}))}function S(){if(b=[],0!==a.docs.length){var e=a.docs;return n.bulkDocs({docs:e,new_edits:!1},{timeout:r.timeout}).then((function(t){if(i.cancelled)throw I(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var r=Object.keys(n).length;o.doc_write_failures+=r,o.docs_written+=e.length-r,e.forEach((function(e){var t=n[e._id];if(t){o.errors.push(t);var r=(t.name||"").toLowerCase();if("unauthorized"!==r&&"forbidden"!==r)throw t;i.emit("denied",sb(t))}else b.push(e)}))}),(function(t){throw o.doc_write_failures+=e.length,t}))}}function x(){if(a.error)throw new Error("There was a problem getting docs.");o.last_seq=d=a.seq;var e=sb(o);return b.length&&(e.docs=b,"number"==typeof a.pending&&(e.pending=a.pending,delete a.pending),i.emit("change",e)),l=!0,s.writeCheckpoint(a.seq,k).then((function(){if(l=!1,i.cancelled)throw I(),new Error("cancelled");a=void 0,j()})).catch((function(e){throw N(e),e}))}function O(){return function(e,t,n,r){n=sb(n);var i=[],o=!0;return Promise.resolve().then((function(){var t=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&gw(t[0])}));if(t.length>0)return function(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(r.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!gw(e.value.rev)||(t=e.doc)._attachments&&Object.keys(t._attachments).length>0||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,i.push(e.doc),delete n[e.id])}))}))}(t)})).then((function(){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(a.docs.length)return e.bulkGet(a).then((function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var r=n.ok;return n.error&&(o=!1),r&&r._attachments?function(e,t,n){var r=Bb(t)&&!Bb(e),i=Object.keys(n._attachments);return r?e.get(n._id).then((function(r){return Promise.all(i.map((function(i){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(r,n,i)?t.getAttachment(n._id,i):e.getAttachment(r._id,i)})))})).catch((function(e){if(404!==e.status)throw e;return mw(t,n)})):mw(t,n)}(t,e,r).then((function(e){var t=Object.keys(r._attachments);return e.forEach((function(e,n){var i=r._attachments[t[n]];delete i.stub,delete i.length,i.data=e})),r})):r})))}))).then((function(e){i=i.concat(qb(e).filter(Boolean))}))}))})).then((function(){return{ok:o,docs:i}}))}(t,n,a.diffs,i).then((function(e){a.error=!e.ok,e.docs.forEach((function(e){delete a.diffs[e._id],o.docs_read++,a.docs.push(e)}))}))}function E(){var e;i.cancelled||a||(0!==u.length?(a=u.shift(),(e={},a.changes.forEach((function(t){"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),n.revsDiff(e).then((function(e){if(i.cancelled)throw I(),new Error("cancelled");a.diffs=e}))).then(O).then(S).then(x).then(E).catch((function(e){T("batch processing terminated with error",e)}))):A(!0))}function A(e){0!==c.changes.length?(e||f||c.changes.length>=v)&&(u.push(c),c={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),E()):0!==u.length||a||((p&&C.live||f)&&(i.state="pending",i.emit("paused")),f&&I())}function T(e,t){h||(t.message||(t.message=e),o.ok=!1,o.status="aborting",u=[],c={seq:0,changes:[],docs:[]},I(t))}function I(a){if(!(h||i.cancelled&&(o.status="cancelled",l)))if(o.status=o.status||"complete",o.end_time=(new Date).toISOString(),o.last_seq=d,h=!0,a){(a=Lb(a)).result=o;var s=(a.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(i.emit("error",a),i.removeAllListeners()):function(e,t,n,r){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=yb),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var i=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",i)})),t.once("active",i)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(r,e.current_back_off)}(r,i,a,(function(){e(t,n,r,i)}))}else i.emit("complete",o),i.removeAllListeners()}function R(e,t,n){if(i.cancelled)return I();"number"==typeof t&&(c.pending=t),Ub(r)(e)&&(c.seq=e.seq||n,c.changes.push(e),B_()((function(){A(0===u.length&&C.live)})))}function P(e){if(m=!1,i.cancelled)return I();if(e.results.length>0)C.since=e.results[e.results.length-1].seq,j(),A(!0);else{var t=function(){p?(C.live=!0,j()):f=!0,A(!0)};a||0!==e.results.length?t():(l=!0,s.writeCheckpoint(e.last_seq,k).then((function(){l=!1,o.last_seq=d=e.last_seq,t()})).catch(N))}}function D(e){if(m=!1,i.cancelled)return I();T("changes rejected",e)}function j(){if(!m&&!f&&u.length<g){m=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",n);var e=t.changes(C).on("change",R);e.then(o,o),e.then(P).catch(D),r.retry&&(i._changes=e,i._abortChanges=n)}function n(){e.cancel()}function o(){i.removeListener("cancel",n)}}function M(){w().then((function(){if(!i.cancelled)return s.getCheckpoint().then((function(e){C={since:d=e,limit:v,batch_size:v,style:"all_docs",doc_ids:y,selector:_,return_docs:!0},r.filter&&("string"!=typeof r.filter?C.include_docs=!0:C.filter=r.filter),"heartbeat"in r&&(C.heartbeat=r.heartbeat),"timeout"in r&&(C.timeout=r.timeout),r.query_params&&(C.query_params=r.query_params),r.view&&(C.view=r.view),j()}));I()})).catch((function(e){T("getCheckpoint rejected with ",e)}))}function N(e){l=!1,T("writeCheckpoint completed with error",e)}i.ready(t,n),i.cancelled?I():(i._addedListeners||(i.once("cancel",I),"function"==typeof r.complete&&(i.once("error",r.complete),i.once("complete",(function(e){r.complete(null,e)}))),i._addedListeners=!0),void 0===r.since?M():w().then((function(){return l=!0,s.writeCheckpoint(r.since,k)})).then((function(){l=!1,i.cancelled?I():(d=r.since,M())})).catch(N))}(Sw(e,n),Sw(t,n),n,i),i}function Ow(e,t,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=sb(n)).PouchConstructor=n.PouchConstructor||this,new Ew(e=Sw(e,n),t=Sw(t,n),n,r)}function Ew(e,t,n,r){var i=this;this.canceled=!1;var o=n.push?bb({},n,n.push):n,a=n.pull?bb({},n,n.pull):n;function s(e){i.emit("change",{direction:"pull",change:e})}function u(e){i.emit("change",{direction:"push",change:e})}function c(e){i.emit("denied",{direction:"push",doc:e})}function l(e){i.emit("denied",{direction:"pull",doc:e})}function f(){i.pushPaused=!0,i.pullPaused&&i.emit("paused")}function h(){i.pullPaused=!0,i.pushPaused&&i.emit("paused")}function d(){i.pushPaused=!1,i.pullPaused&&i.emit("active",{direction:"push"})}function p(){i.pullPaused=!1,i.pushPaused&&i.emit("active",{direction:"pull"})}this.push=xw(e,t,o),this.pull=xw(t,e,a),this.pushPaused=!0,this.pullPaused=!0;var v={};function g(e){return function(t,n){("change"===t&&(n===s||n===u)||"denied"===t&&(n===l||n===c)||"paused"===t&&(n===h||n===f)||"active"===t&&(n===p||n===d))&&(t in v||(v[t]={}),v[t][e]=!0,2===Object.keys(v[t]).length&&i.removeAllListeners(t))}}function m(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",i.pull.cancel.bind(i.pull)),this.pull.on("complete",i.push.cancel.bind(i.push))),this.on("newListener",(function(e){"change"===e?(m(i.pull,"change",s),m(i.push,"change",u)):"denied"===e?(m(i.pull,"denied",l),m(i.push,"denied",c)):"active"===e?(m(i.pull,"active",p),m(i.push,"active",d)):"paused"===e&&(m(i.pull,"paused",h),m(i.push,"paused",f))})),this.on("removeListener",(function(e){"change"===e?(i.pull.removeListener("change",s),i.push.removeListener("change",u)):"denied"===e?(i.pull.removeListener("denied",l),i.push.removeListener("denied",c)):"active"===e?(i.pull.removeListener("active",p),i.push.removeListener("active",d)):"paused"===e&&(i.pull.removeListener("paused",h),i.push.removeListener("paused",f))})),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return i.emit("complete",t),r&&r(null,t),i.removeAllListeners(),t}),(function(e){if(i.cancel(),r?r(e):i.emit("error",e),i.removeAllListeners(),r)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}_w.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in bw?bw[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Cw(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))},Y_()(ww,X_.EventEmitter),ww.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ww.prototype.ready=function(e,t){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",r),t.once("destroyed",r),n.once("complete",(function(){e.removeListener("destroyed",r),t.removeListener("destroyed",r)})))},Y_()(Ew,X_.EventEmitter),Ew.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Nk.plugin((function(e){e.adapter("idb",NC,!0)})).plugin((function(e){e.adapter("http",zC,!1),e.adapter("https",zC,!1)})).plugin(vw).plugin((function(e){e.replicate=xw,e.sync=Ow,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}));var Aw,Tw,Iw,Rw=Nk,Pw=function(e){return e[e.Offline=0]="Offline",e[e.Synced=1]="Synced",e[e.SyncedReadOnly=2]="SyncedReadOnly",e[e.InProgress=3]="InProgress",e[e.Error=4]="Error",e}({}),Dw=((Aw=function(){function e(){_classCallCheck(this,e),this.dbId="dbName",this.syncTimeout=5,this.errorRetryInterval=30,this.db=new Rw("householder"),this.syncSubject=new A,this.changeSubject=new A,this.syncStatus={lastSynced:void 0,syncError:void 0,status:Pw.Offline}}return _createClass(e,[{key:"init",value:function(){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.db=new Rw("householder"),n={_id:"_design/"+e.viewsId,_rev:void 0,version:1,views:{by_type:{map:(function(e){var t=e._id.indexOf("_");t=-1===t?void 0:t,emit(e._id.substr(0,t),1)}).toString()}}},r=!0,t.next=5,this.db.get(n._id).catch((function(e){if("not_found"!==e.name)throw e})).then((function(e){e&&(e.version&&e.version===n.version?r=!1:n._rev=e._rev)}));case 5:if(t.t0=r,!t.t0){t.next=9;break}return t.next=9,this.db.put(n);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"getDocs",value:function(t){return M_(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.db.query(e.byTypeView,{key:t,include_docs:!0}).then((function(e){return e.rows.map((function(e){return e.doc}))}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"getDoc",value:function(e){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.get(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"save",value:function(e){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.db.put(e);case 3:n=t.sent,e._rev=n.rev,t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"remove",value:function(e){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.db.remove(e._id,e._rev);case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),t.t0;case 8:case"end":return t.stop()}}),t,this,[[0,5]])})))}},{key:"checkDBNameChanged",value:function(e){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.db.get(this.dbId).then((function(t){if(t.name!==e)return n.db.destroy().then((function(){n.init()}))}),(function(t){if(404===t.status)return n.db.put({_id:n.dbId,name:e}).catch((function(e){throw e}));throw t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"startCouchDBSync",value:function(e){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkDBNameChanged(e);case 2:this.onSyncInProgress(),this.sync=this.db.sync(e,{live:!0,retry:!1,filter:function(e){return!e._id.startsWith("_design/")&&!e._id.startsWith("_local_")}}).on("change",(function(e){n.onSyncInProgress(),"pull"===e.direction&&n.changeSubject.next()})),this.sync.on("paused",(function(e){n.onSyncComplete(e)})).on("active",(function(){n.onSyncInProgress()})).on("denied",(function(e){n.onSyncError(e&&e.doc&&e.doc.message?e.doc.message:e)})).on("complete",(function(){n.onSyncOffline()})).on("error",(function(t){t&&t.reason?n.onSyncError(t.error+": "+t.reason):t&&t.result&&"aborting"===t.result.status?(n.onSyncOffline(),setTimeout((function(){return n.startCouchDBSync(e)}),1e3*n.errorRetryInterval)):n.onSyncError(t)}));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"stopCouchSync",value:function(){this.sync&&(this.sync.cancel(),this.sync=void 0,this.onSyncOffline())}},{key:"subscribeToSyncStatus",value:function(e){this.syncSubject.subscribe(e),this.syncStatusChanged()}},{key:"subscribeToChange",value:function(e){this.changeSubject.subscribe(e)}},{key:"onSyncOffline",value:function(){this.syncStatus.status=Pw.Offline,this.syncStatusChanged()}},{key:"onSyncInProgress",value:function(){this.syncStatus.status=Pw.InProgress,this.syncStatus.syncError=void 0,this.syncStatusChanged()}},{key:"onSyncError",value:function(e){this.syncStatus.status=Pw.Error,this.syncStatus.syncError=e,this.syncStatusChanged()}},{key:"onSyncComplete",value:function(e){e?this.onSyncError(e):this.syncStatus.syncError||(this.syncStatus.status=Pw.Synced,this.syncStatus.syncError=void 0,this.syncStatus.lastSynced=new Date,this.syncStatusChanged())}},{key:"syncStatusChanged",value:function(){this.syncSubject.next(Object.assign({},this.syncStatus))}}],[{key:"generateId",value:function(e){var t=e+"_";return t+=Date.now().valueOf(),t+="_"+Math.random().toString(36).substr(2)}}]),e}()).viewsId="views",Aw.byTypeView=Aw.viewsId+"/by_type",Aw.\u0275fac=function(e){return new(e||Aw)},Aw.\u0275prov=de({token:Aw,factory:Aw.\u0275fac,providedIn:"root"}),Aw),jw=function(){function e(){_classCallCheck(this,e),this.groupBy=V_.NONE,this.groupsCollapsed=new Set}return _createClass(e,[{key:"groupCollapsed",value:function(e){return this.groupsCollapsed.has(e)}},{key:"toggleGroupCollapse",value:function(e){this.groupCollapsed(e)?this.groupsCollapsed.delete(e):this.groupsCollapsed.add(e)}}]),e}(),Mw=function(){var e=function e(){_classCallCheck(this,e),this._id=e.id,this.hideItemsOutsideReminder=!0,this.statusConfig=new jw,this.shoppingConfig=new jw};return e.id="_local_config_shoppingItem",e}(),Nw=((Iw=function(){function e(){_classCallCheck(this,e),this.errors=[]}return _createClass(e,[{key:"add",value:function(e){this.errors.push(e)}},{key:"pop",value:function(){this.errors.shift()}},{key:"peek",value:function(){if(0!==this.errors.length)return this.errors[0]}},{key:"hasErrors",value:function(){return this.errors.length>0}}]),e}()).\u0275fac=function(e){return new(e||Iw)},Iw.\u0275prov=de({token:Iw,factory:Iw.\u0275fac,providedIn:"root"}),Iw),Lw=((Tw=function(){function e(t,n){_classCallCheck(this,e),this.dataStoreService=t,this.errorsService=n,this.initialised=!1,this.groupByOptions=[V_.NONE,V_.CATEGORY,V_.LOCATION],this.config=new Mw,this.changedSubject=new A,this.items=[]}return _createClass(e,[{key:"init",value:function(){return M_(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.initialised,e.t0){e.next=5;break}return e.next=4,this.loadItems();case 4:this.dataStoreService.subscribeToChange({next:function(){t.loadItems().then((function(){t.changedSubject.next()}))}});case 5:case"end":return e.stop()}}),e,this)})))}},{key:"loadItems",value:function(){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dataStoreService.getDocs(e.idType).catch((function(e){n.errorsService.add(e)})).then((function(e){e&&(n.items=e.map((function(e){return Object.assign(new q_,e)})),n.postLoadItems())}));case 2:return t.next=4,this.loadConfig();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"loadConfig",value:function(){return M_(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataStoreService.getDoc(Mw.id).catch((function(e){"not_found"!==e.name&&t.errorsService.add(e)})).then((function(e){e&&(t.config=Object.assign(new Mw,e),t.config.statusConfig=Object.assign(new jw,t.config.statusConfig),t.config.shoppingConfig=Object.assign(new jw,t.config.shoppingConfig))}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"postLoadItems",value:function(){var e=this,t=!0;this.items.forEach((function(n){void 0===n.orderIndex?(void 0===e.lastIndex?e.lastIndex=0:e.lastIndex+=1,n.orderIndex=e.lastIndex):e.lastIndex=n.orderIndex,t&&(e.firstIndex=n.orderIndex,t=!1)}))}},{key:"subscribeToChangeEvent",value:function(e){return this.changedSubject.subscribe(e)}},{key:"getItems",value:function(){return this.items}},{key:"getConfig",value:function(){return this.config}},{key:"saveConfig",value:function(e){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dataStoreService.save(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"get",value:function(e){return this.items.find((function(t){return t._id===e}))}},{key:"getGroupByOptions",value:function(){return this.groupByOptions}},{key:"addItem",value:function(t){t._id=e.generateId(),this.items.push(t),this.dataStoreService.save(t)}},{key:"updateItem",value:function(e){var t=this.items.findIndex((function(t){return t._id===e._id}));-1!==t&&(this.items[t]=e),this.dataStoreService.save(e)}},{key:"deleteItem",value:function(e){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return-1!==(n=this.items.indexOf(e))&&(this.items.splice(n,1),this.items.length>0&&(0===n&&(this.firstIndex=this.items[0].orderIndex),n===this.items.length&&(this.lastIndex=this.items[this.items.length-1].orderIndex))),t.next=4,this.dataStoreService.remove(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"groupItems",value:function(e,t){var n,r={},i=[];return e.forEach((function(e){var o,a="";t===V_.LOCATION&&e.location?a=e.location:t===V_.CATEGORY&&e.category&&(a=e.category),e.custom?(n||(n={name:"Custom",items:[]}),o=n):o=r[a],o||(o={name:a,items:[]},r[a]=o,i.push(o)),o.items.push(e)})),i.forEach((function(e){e.items.sort((function(e,t){return e.orderIndex!==t.orderIndex?e.orderIndex-t.orderIndex:e.name.localeCompare(t.name)}))})),i.sort((function(e,t){return e.name.localeCompare(t.name)})),n&&i.push(n),i}},{key:"setOrderIndex",value:function(e,t){var n,r;if(1===this.items.length)return this.firstIndex=0,this.lastIndex=0,void(e.orderIndex=this.firstIndex);t>=this.items.length-1?(this.lastIndex+=1,e.orderIndex=this.lastIndex):t<=0?(this.firstIndex-=1,e.orderIndex=this.firstIndex):(n=this.items[t-1].orderIndex,r=this.items[t+1].orderIndex,e.orderIndex=(n+r)/2)}},{key:"moveItem",value:function(e,t){if(e!==t&&!(e<0||e>=this.items.length||t<0||t>this.items.length)){var n=this.items[e];this.items.splice(t,0,this.items.splice(e,1)[0]),this.setOrderIndex(n,t),this.updateItem(n)}}},{key:"moveBefore",value:function(e,t){var n=this.items.indexOf(e),r=this.items.indexOf(t);this.moveItem(n,r)}},{key:"moveAfter",value:function(e,t){var n=this.items.indexOf(e),r=this.items.indexOf(t);this.moveItem(n,r+1)}},{key:"exportItems",value:function(){var e=JSON.stringify(this.items,null,1),t=document.createElement("a"),n=new Blob([e],{type:"application/json"});t.href=URL.createObjectURL(n),t.download="shoppingItems.json",t.click(),URL.revokeObjectURL(t.href)}},{key:"importItems",value:function(e){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.map((function(e){return Object.assign(new q_,e)}))).forEach((function(e){delete e._rev})),r=Object.assign([],this.items),i=!0,o=!1,a=void 0,t.prev=6,s=r[Symbol.iterator]();case 8:if(i=(u=s.next()).done){t.next=15;break}return c=u.value,t.next=12,this.deleteItem(c);case 12:i=!0,t.next=8;break;case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(6),o=!0,a=t.t0;case 21:t.prev=21,t.prev=22,i||null==s.return||s.return();case 24:if(t.prev=24,!o){t.next=27;break}throw a;case 27:return t.finish(24);case 28:return t.finish(21);case 29:l=!0,f=!1,h=void 0,t.prev=32,d=n[Symbol.iterator]();case 34:if(l=(p=d.next()).done){t.next=42;break}return v=p.value,this.items.push(v),t.next=39,this.dataStoreService.save(v);case 39:l=!0,t.next=34;break;case 42:t.next=48;break;case 44:t.prev=44,t.t1=t.catch(32),f=!0,h=t.t1;case 48:t.prev=48,t.prev=49,l||null==d.return||d.return();case 51:if(t.prev=51,!f){t.next=54;break}throw h;case 54:return t.finish(51);case 55:return t.finish(48);case 56:this.changedSubject.next();case 57:case"end":return t.stop()}}),t,this,[[6,17,21,29],[22,,24,28],[32,44,48,56],[49,,51,55]])})))}},{key:"getAllCategories",value:function(){var e=[];return this.items.forEach((function(t){t.category&&!e.includes(t.category)&&e.push(t.category)})),e.sort(),e}},{key:"getAllLocations",value:function(){var e=[];return this.items.forEach((function(t){t.location&&!e.includes(t.location)&&e.push(t.location)})),e.sort(),e}}],[{key:"generateId",value:function(){return Dw.generateId(e.idType)}}]),e}()).idType="shoppingItem",Tw.\u0275fac=function(e){return new(e||Tw)(Je(Dw),Je(Nw))},Tw.\u0275prov=de({token:Tw,factory:Tw.\u0275fac,providedIn:"root"}),Tw),Vw=["move","copy","link"];function Uw(e){return"application/x-dnd"===e.substr(0,"application/x-dnd".length)}function qw(e){if(e.dataTransfer){var t=e.dataTransfer.types;if(!t)return"Text";for(var n=0;n<t.length;n++)if("Text"===t[n]||"application/json"===t[n]||Uw(t[n]))return t[n]}return null}function Fw(e,t){return"all"===t||"uninitialized"===t?e:e.filter((function(e){return-1!==t.toLowerCase().indexOf(e)}))}function Bw(e,t){var n=window.getComputedStyle(t),r=parseFloat(n.paddingTop)||0,i=parseFloat(n.paddingLeft)||0,o=parseFloat(n.borderTopWidth)||0,a=parseFloat(n.borderLeftWidth)||0;return{x:e.offsetX+i+a,y:e.offsetY+r+o}}var Hw={isDragging:!1,dropEffect:"none",effectAllowed:"all",type:void 0};function zw(){Hw.isDragging=!1,Hw.dropEffect=void 0,Hw.effectAllowed=void 0,Hw.type=void 0}function $w(e,t){!0===Hw.isDragging&&(Hw.dropEffect=t),e.dataTransfer.dropEffect=t}function Qw(e,t){var n=Fw(Vw,e.dataTransfer?e.dataTransfer.effectAllowed:"uninitialized");return!0===Hw.isDragging&&(n=Fw(n,Hw.effectAllowed)),t&&(n=Fw(n,t)),0===n.length?"none":e.ctrlKey&&-1!==n.indexOf("copy")?"copy":e.altKey&&-1!==n.indexOf("link")?"link":n[0]}function Gw(e){if(!0===Hw.isDragging)return Hw.type;var t=qw(e);return null!==t&&"Text"!==t&&"application/json"!==t&&t.substr("application/x-dnd".length+1)||void 0}function Ww(){return!1===Hw.isDragging}var Kw,Zw,Jw,Yw,Xw,eS=Hw,tS=((Xw=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.elementRef=t,this.renderer=n,this.ngZone=r,this.dndEffectAllowed="copy",this.dndDraggingClass="dndDragging",this.dndDraggingSourceClass="dndDraggingSource",this.dndDraggableDisabledClass="dndDraggableDisabled",this.dndDragImageOffsetFunction=Bw,this.dndStart=new zs,this.dndDrag=new zs,this.dndEnd=new zs,this.dndMoved=new zs,this.dndCopied=new zs,this.dndLinked=new zs,this.dndCanceled=new zs,this.draggable=!0,this.isDragStarted=!1,this.dragEventHandler=function(e){return i.onDrag(e)}}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.elementRef.nativeElement.addEventListener("drag",e.dragEventHandler)}))}},{key:"ngOnDestroy",value:function(){this.elementRef.nativeElement.removeEventListener("drag",this.dragEventHandler),!0===this.isDragStarted&&zw()}},{key:"onDragStart",value:function(e){var t=this;if(!1===this.draggable)return!1;if(void 0!==this.dndHandle&&void 0===e._dndUsingHandle)return!1;!function(e,t,n){Hw.isDragging=!0,Hw.dropEffect="none",Hw.effectAllowed=t,Hw.type=n,e.dataTransfer.effectAllowed=t}(e,this.dndEffectAllowed,this.dndType),this.isDragStarted=!0,function(e,t,n){var r="application/x-dnd"+(t.type?"-"+t.type:""),i=JSON.stringify(t);try{e.dataTransfer.setData(r,i)}catch(nO){try{e.dataTransfer.setData("application/json",i)}catch(nO){var o=Fw(Vw,n);e.dataTransfer.effectAllowed=o[0],e.dataTransfer.setData("Text",i)}}}(e,{data:this.dndDraggable,type:this.dndType},eS.effectAllowed),this.dragImage=this.determineDragImage(),this.renderer.addClass(this.dragImage,this.dndDraggingClass),void 0===this.dndDragImageElementRef&&void 0===e._dndUsingHandle||function(e,t,n){var r=n(e,t)||{x:0,y:0};e.dataTransfer.setDragImage(t,r.x,r.y)}(e,this.dragImage,this.dndDragImageOffsetFunction);var n=this.renderer.listen(this.elementRef.nativeElement,"drag",(function(){t.renderer.addClass(t.elementRef.nativeElement,t.dndDraggingSourceClass),n()}));this.dndStart.emit(e),e.stopPropagation()}},{key:"onDrag",value:function(e){this.dndDrag.emit(e)}},{key:"onDragEnd",value:function(e){var t,n=this;switch(eS.dropEffect){case"copy":t=this.dndCopied;break;case"link":t=this.dndLinked;break;case"move":t=this.dndMoved;break;default:t=this.dndCanceled}t.emit(e),this.dndEnd.emit(e),zw(),this.isDragStarted=!1,this.renderer.removeClass(this.dragImage,this.dndDraggingClass),window.setTimeout((function(){n.renderer.removeClass(n.elementRef.nativeElement,n.dndDraggingSourceClass)}),0),e.stopPropagation()}},{key:"registerDragHandle",value:function(e){this.dndHandle=e}},{key:"registerDragImage",value:function(e){this.dndDragImageElementRef=e}},{key:"determineDragImage",value:function(){return void 0!==this.dndDragImageElementRef?this.dndDragImageElementRef.nativeElement:this.elementRef.nativeElement}},{key:"dndDisableIf",set:function(e){this.draggable=!e,this.draggable?this.renderer.removeClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass):this.renderer.addClass(this.elementRef.nativeElement,this.dndDraggableDisabledClass)}},{key:"dndDisableDragIf",set:function(e){this.dndDisableIf=e}}]),e}()).\u0275fac=function(e){return new(e||Xw)(Bo(Ja),Bo(ts),Bo(Du))},Xw.\u0275dir=wt({type:Xw,selectors:[["","dndDraggable",""]],hostVars:1,hostBindings:function(e,t){1&e&&Xo("dragstart",(function(e){return t.onDragStart(e)}))("dragend",(function(e){return t.onDragEnd(e)})),2&e&&Uo("draggable",t.draggable)},inputs:{dndEffectAllowed:"dndEffectAllowed",dndDraggingClass:"dndDraggingClass",dndDraggingSourceClass:"dndDraggingSourceClass",dndDraggableDisabledClass:"dndDraggableDisabledClass",dndDragImageOffsetFunction:"dndDragImageOffsetFunction",dndDisableIf:"dndDisableIf",dndDisableDragIf:"dndDisableDragIf",dndDraggable:"dndDraggable",dndType:"dndType"},outputs:{dndStart:"dndStart",dndDrag:"dndDrag",dndEnd:"dndEnd",dndMoved:"dndMoved",dndCopied:"dndCopied",dndLinked:"dndLinked",dndCanceled:"dndCanceled"}}),Xw),nS=((Yw=function e(t){_classCallCheck(this,e),this.elementRef=t}).\u0275fac=function(e){return new(e||Yw)(Bo(Ja))},Yw.\u0275dir=wt({type:Yw,selectors:[["","dndPlaceholderRef",""]]}),Yw),rS=((Jw=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.ngZone=t,this.elementRef=n,this.renderer=r,this.dndAllowExternal=!1,this.dndHorizontal=!1,this.dndDragoverClass="dndDragover",this.dndDropzoneDisabledClass="dndDropzoneDisabled",this.dndDragover=new zs,this.dndDrop=new zs,this.placeholder=null,this.disabled=!1,this.dragEnterEventHandler=function(e){return i.onDragEnter(e)},this.dragOverEventHandler=function(e){return i.onDragOver(e)},this.dragLeaveEventHandler=function(e){return i.onDragLeave(e)}}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.placeholder=this.tryGetPlaceholder(),this.removePlaceholderFromDOM(),this.ngZone.runOutsideAngular((function(){e.elementRef.nativeElement.addEventListener("dragenter",e.dragEnterEventHandler),e.elementRef.nativeElement.addEventListener("dragover",e.dragOverEventHandler),e.elementRef.nativeElement.addEventListener("dragleave",e.dragLeaveEventHandler)}))}},{key:"ngOnDestroy",value:function(){this.elementRef.nativeElement.removeEventListener("dragenter",this.dragEnterEventHandler),this.elementRef.nativeElement.removeEventListener("dragover",this.dragOverEventHandler),this.elementRef.nativeElement.removeEventListener("dragleave",this.dragLeaveEventHandler)}},{key:"onDragEnter",value:function(e){if(!0!==e._dndDropzoneActive){if(void 0===e._dndDropzoneActive){var t=document.elementFromPoint(e.clientX,e.clientY);this.elementRef.nativeElement.contains(t)&&(e._dndDropzoneActive=!0)}var n=Gw(e);!1!==this.isDropAllowed(n)&&e.preventDefault()}else this.cleanupDragoverState()}},{key:"onDragOver",value:function(e){if(!e.defaultPrevented){var t=Gw(e);if(!1!==this.isDropAllowed(t)){this.checkAndUpdatePlaceholderPosition(e);var n=Qw(e,this.dndEffectAllowed);"none"!==n?(e.preventDefault(),$w(e,n),this.dndDragover.emit(e),this.renderer.addClass(this.elementRef.nativeElement,this.dndDragoverClass)):this.cleanupDragoverState()}}}},{key:"onDrop",value:function(e){try{var t=Gw(e);if(!1===this.isDropAllowed(t))return;var n=function(e,t){var n=qw(e);return!0===t?null!==n&&Uw(n)?JSON.parse(e.dataTransfer.getData(n)):{}:JSON.parse(e.dataTransfer.getData(n))}(e,Ww());if(!1===this.isDropAllowed(n.type))return;e.preventDefault();var r=Qw(e);if($w(e,r),"none"===r)return;var i=this.getPlaceholderIndex();if(-1===i)return;this.dndDrop.emit({event:e,dropEffect:r,isExternal:Ww(),data:n.data,index:i,type:t}),e.stopPropagation()}finally{this.cleanupDragoverState()}}},{key:"onDragLeave",value:function(e){if(void 0===e._dndDropzoneActive){var t=document.elementFromPoint(e.clientX,e.clientY);if(this.elementRef.nativeElement.contains(t))return void(e._dndDropzoneActive=!0)}this.cleanupDragoverState(),$w(e,"none")}},{key:"isDropAllowed",value:function(e){if(!0===this.disabled)return!1;if(!0===Ww()&&!1===this.dndAllowExternal)return!1;if(!this.dndDropzone)return!0;if(!e)return!0;if(!1===Array.isArray(this.dndDropzone))throw new Error("dndDropzone: bound value to [dndDropzone] must be an array!");return-1!==this.dndDropzone.indexOf(e)}},{key:"tryGetPlaceholder",value:function(){return void 0!==this.dndPlaceholderRef?this.dndPlaceholderRef.elementRef.nativeElement:this.elementRef.nativeElement.querySelector("[dndPlaceholderRef]")}},{key:"removePlaceholderFromDOM",value:function(){null!==this.placeholder&&null!==this.placeholder.parentNode&&this.placeholder.parentNode.removeChild(this.placeholder)}},{key:"checkAndUpdatePlaceholderPosition",value:function(e){if(null!==this.placeholder){this.placeholder.parentNode!==this.elementRef.nativeElement&&this.renderer.appendChild(this.elementRef.nativeElement,this.placeholder);var t=function(e,t){for(var n=t;n.parentNode!==e;){if(!n.parentNode)return null;n=n.parentNode}return n}(this.elementRef.nativeElement,e.target);null!==t&&t!==this.placeholder&&(function(e,t,n){var r=t.getBoundingClientRect();return n?e.clientX<r.left+r.width/2:e.clientY<r.top+r.height/2}(e,t,this.dndHorizontal)?t.previousSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,t):t.nextSibling!==this.placeholder&&this.renderer.insertBefore(this.elementRef.nativeElement,this.placeholder,t.nextSibling))}}},{key:"getPlaceholderIndex",value:function(){if(null!==this.placeholder)return Array.prototype.indexOf.call(this.elementRef.nativeElement.children,this.placeholder)}},{key:"cleanupDragoverState",value:function(){this.renderer.removeClass(this.elementRef.nativeElement,this.dndDragoverClass),this.removePlaceholderFromDOM()}},{key:"dndDisableIf",set:function(e){this.disabled=!!e,this.disabled?this.renderer.addClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass):this.renderer.removeClass(this.elementRef.nativeElement,this.dndDropzoneDisabledClass)}},{key:"dndDisableDropIf",set:function(e){this.dndDisableIf=e}}]),e}()).\u0275fac=function(e){return new(e||Jw)(Bo(Du),Bo(Ja),Bo(ts))},Jw.\u0275dir=wt({type:Jw,selectors:[["","dndDropzone",""]],contentQueries:function(e,t,n){var r;1&e&&iu(n,nS,!0),2&e&&tu(r=au())&&(t.dndPlaceholderRef=r.first)},hostBindings:function(e,t){1&e&&Xo("drop",(function(e){return t.onDrop(e)}))},inputs:{dndAllowExternal:"dndAllowExternal",dndHorizontal:"dndHorizontal",dndDragoverClass:"dndDragoverClass",dndDropzoneDisabledClass:"dndDropzoneDisabledClass",dndDisableIf:"dndDisableIf",dndDisableDropIf:"dndDisableDropIf",dndDropzone:"dndDropzone",dndEffectAllowed:"dndEffectAllowed"},outputs:{dndDragover:"dndDragover",dndDrop:"dndDrop"}}),Jw),iS=((Zw=function(){function e(t){_classCallCheck(this,e),this.draggable=!0,t.registerDragHandle(this)}return _createClass(e,[{key:"onDragEvent",value:function(e){e._dndUsingHandle=!0}}]),e}()).\u0275fac=function(e){return new(e||Zw)(Bo(tS))},Zw.\u0275dir=wt({type:Zw,selectors:[["","dndHandle",""]],hostVars:1,hostBindings:function(e,t){1&e&&Xo("dragstart",(function(e){return t.onDragEvent(e)}))("dragend",(function(e){return t.onDragEvent(e)})),2&e&&Uo("draggable",t.draggable)}}),Zw),oS=((Kw=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:Kw}),Kw.\u0275inj=pe({factory:function(e){return new(e||Kw)},imports:[[nl]]}),Kw);function aS(e,t){1&e&&(Go(0,"span"),Sa(1,"Make inactive"),Wo())}function sS(e,t){1&e&&(Go(0,"span"),Sa(1,"Make active"),Wo())}var uS,cS=function(e){return["/edit",e]},lS=((uS=function(){function e(){_classCallCheck(this,e),this.toggleActive=new zs,this.delete=new zs}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onToggleActive",value:function(){this.toggleActive.emit()}},{key:"deleteItem",value:function(){this.delete.emit()}}]),e}()).\u0275fac=function(e){return new(e||uS)},uS.\u0275cmp=mt({type:uS,selectors:[["item-menu"]],inputs:{item:"item",className:"className"},outputs:{toggleActive:"toggleActive",delete:"delete"},decls:11,vars:7,consts:[["dndHandle","","ngbDropdown","","placement","bottom-right"],["ngbDropdownToggle","",1,"btn","bg-transparent","border-0","more-menu"],[1,"fas","fa-ellipsis-v"],["ngbDropdownMenu",""],["ngbDropdownItem","","title","Edit",3,"routerLink"],["ngbDropdownItem","",3,"click"],[4,"ngIf"]],template:function(e,t){1&e&&(Go(0,"div",0),Go(1,"button",1),Ko(2,"i",2),Wo(),Go(3,"div",3),Go(4,"a",4),Sa(5," Edit "),Wo(),Go(6,"button",5),Xo("click",(function(e){return t.onToggleActive()})),qo(7,aS,2,0,"span",6),qo(8,sS,2,0,"span",6),Wo(),Go(9,"button",5),Xo("click",(function(e){return t.deleteItem()})),Sa(10," Delete "),Wo(),Wo(),Wo()),2&e&&(pa(t.className),Pr(4),$o("routerLink",Hs(5,cS,t.item._id)),Pr(3),$o("ngIf",t.item.active),Pr(1),$o("ngIf",!t.item.active))},directives:[iS,yv,mv,vv,o_,pv,$c],styles:[".more-menu[_ngcontent-%COMP%]{color:#ced4da}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]}),uS);function fS(e,t){if(1&e&&(Go(0,"span",9),Go(1,"small"),Sa(2),Wo(),Wo()),2&e){var n=na();Pr(2),xa(n.unit)}}var hS,dS=((hS=function(){function e(){_classCallCheck(this,e),this.update=new zs}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"inc",value:function(){var e=this.incrementAmount||1;this.update.emit(this.quantity?this.quantity+e:e)}},{key:"dec",value:function(){if(this.quantity){var e=this.quantity-(this.incrementAmount||1);e<0&&(e=0),this.update.emit(e)}}},{key:"updateQuantity",value:function(){this.update.emit(this.quantity)}},{key:"onDrag",value:function(e){e.stopPropagation(),e.preventDefault()}}]),e}()).\u0275fac=function(e){return new(e||hS)},hS.\u0275cmp=mt({type:hS,selectors:[["item-quantity"]],inputs:{quantity:"quantity",unit:"unit",incrementAmount:"incrementAmount"},outputs:{update:"update"},decls:9,vars:3,consts:[[1,"input-group","input-group-sm","mx-auto"],[1,"input-group-prepend"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],[1,"fas","fa-minus"],["type","number","name","quantity",1,"form-control","text-center",3,"ngModel","ngModelChange","change","dragstart"],[1,"input-group-append"],["class","input-group-text",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-plus"],[1,"input-group-text"]],template:function(e,t){1&e&&(Go(0,"div",0),Go(1,"div",1),Go(2,"button",2),Xo("click",(function(e){return t.dec()})),Ko(3,"i",3),Wo(),Wo(),Go(4,"input",4),Xo("ngModelChange",(function(e){return t.quantity=e}))("change",(function(e){return t.updateQuantity()}))("dragstart",(function(e){return t.onDrag(e)})),Wo(),Go(5,"div",5),qo(6,fS,3,1,"span",6),Go(7,"button",7),Xo("click",(function(e){return t.inc()})),Ko(8,"i",8),Wo(),Wo(),Wo()),2&e&&(Pr(2),$o("disabled",!t.quantity),Pr(2),$o("ngModel",t.quantity),Pr(2),$o("ngIf",t.unit))},directives:[fh,Uf,Wf,ud,$c],styles:[".input-group[_ngcontent-%COMP%]{width:15rem}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0;padding-left:1rem;padding-right:1rem}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button, .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.input-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),hS);function pS(e,t){if(1&e){var n=Zo();Go(0,"item-quantity",5),Xo("update",(function(e){return Vt(n),na().setQuantity.emit(e)})),Wo()}if(2&e){var r=na();$o("quantity",r.item.quantity)("unit",r.item.quantityUnit)("incrementAmount",r.item.incrementQuantity)}}function vS(e,t){if(1&e){var n=Zo();Go(0,"button",3),Xo("click",(function(e){return Vt(n),na().needMore.emit()})),Sa(1," Buy "),Wo()}2&e&&pa(na().needMoreClass())}var gS,mS=function(e){return{"btn-group-sm":e}},yS=((gS=function(){function e(){_classCallCheck(this,e),this.ok=new zs,this.needMore=new zs,this.buyOnSale=new zs,this.toggleActive=new zs,this.setQuantity=new zs,this.delete=new zs}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"selectedClass",value:function(e,t,n){return e.status===t?n?"btn-outline-success expired":"btn-success":"btn-light"}},{key:"okClass",value:function(){return this.selectedClass(this.item,U_.OK,this.item.isExpired())}},{key:"needMoreClass",value:function(){return this.selectedClass(this.item,U_.NEED_MORE,this.item.bought)}},{key:"buyOnSaleClass",value:function(){return this.selectedClass(this.item,U_.BUY_ON_SALE,this.item.bought)}}]),e}()).\u0275fac=function(e){return new(e||gS)},gS.\u0275cmp=mt({type:gS,selectors:[["item-status"]],inputs:{item:"item"},outputs:{ok:"ok",needMore:"needMore",buyOnSale:"buyOnSale",toggleActive:"toggleActive",setQuantity:"setQuantity",delete:"delete"},decls:8,vars:10,consts:[[1,"ml-2"],[3,"quantity","unit","incrementAmount","update",4,"ngIf"],[1,"btn-group","status-buttons"],[1,"btn",3,"click"],["class","btn",3,"class","click",4,"ngIf"],[3,"quantity","unit","incrementAmount","update"]],template:function(e,t){1&e&&(Go(0,"div",0),qo(1,pS,1,3,"item-quantity",1),Go(2,"div",2),Go(3,"button",3),Xo("click",(function(e){return t.ok.emit()})),Sa(4,"OK"),Wo(),qo(5,vS,2,2,"button",4),Go(6,"button",3),Xo("click",(function(e){return t.buyOnSale.emit()})),Sa(7,"Buy on Sale "),Wo(),Wo(),Wo()),2&e&&(Pr(1),$o("ngIf",t.item.quantityBased),Pr(1),pa(Hs(8,mS,t.item.quantityBased)),Pr(1),pa(t.okClass()),Pr(2),$o("ngIf",!t.item.buyOnSaleOnly),Pr(1),pa(t.buyOnSaleClass()))},directives:[$c,dS],styles:[".status-buttons[_ngcontent-%COMP%]{width:15rem}.status-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:1px}.btn-group-sm[_ngcontent-%COMP%]{margin-top:-5px}.btn-group-sm[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0;padding-top:0;padding-bottom:0}"]}),gS),_S=["setReminderDialog"],bS=["item-status-row",""];function kS(e,t){if(1&e){var n=Zo();Go(0,"div",15),Go(1,"item-status",16),Xo("ok",(function(e){return Vt(n),na().ok()}))("needMore",(function(e){return Vt(n),na().needMore()}))("buyOnSale",(function(e){return Vt(n),na().buyOnSale()}))("setQuantity",(function(e){return Vt(n),na().setQuantity(e)}))("toggleActive",(function(e){return Vt(n),na().toggleActive()}))("delete",(function(e){return Vt(n),na().deleteItem()})),Wo(),Wo()}if(2&e){var r=na();Pr(1),$o("item",r.item)}}function CS(e,t){1&e&&Ko(0,"br",17)}function wS(e,t){if(1&e){var n=Zo();Go(0,"button",18),Xo("click",(function(e){return Vt(n),na().onSetReminder()})),Sa(1," (set reminder) "),Wo()}}function SS(e,t){if(1&e){var n=Zo();Go(0,"button",18),Xo("click",(function(e){return Vt(n),na().onExtendReminder()})),Sa(1," (extend reminder) "),Wo()}}function xS(e,t){if(1&e&&(Go(0,"small",25),Sa(1),Wo()),2&e){var n=na(2);Pr(1),Oa(" Reminding on ",n.getThisReminderDate(),". ")}}function OS(e,t){if(1&e){var n=Zo();Go(0,"div",19),Go(1,"div",20),Go(2,"div",21),Go(3,"label",22),Sa(4,"Reminder time (days)"),Wo(),Go(5,"input",23),Xo("ngModelChange",(function(e){return Vt(n),na().thisReminderTime=e})),Wo(),qo(6,xS,2,1,"small",24),Go(7,"small",25),Sa(8," Reminder time will be set until status is next changed. "),Wo(),Wo(),Go(9,"div",21),Go(10,"div",26),Go(11,"input",27),Xo("ngModelChange",(function(e){return Vt(n),na().setReminderForStatus=e})),Wo(),Go(12,"label",28),Sa(13,"Set as reminder time on item"),Wo(),Wo(),Wo(),Wo(),Go(14,"div",29),Go(15,"button",30),Xo("click",(function(e){return t.$implicit.close(!0)})),Sa(16,"Confirm"),Wo(),Go(17,"button",31),Xo("click",(function(e){Vt(n);var r=t.$implicit;return na().onMakeExpired(r)})),Sa(18,"Make Expired"),Wo(),Go(19,"button",31),Xo("click",(function(e){return t.$implicit.close(!1)})),Sa(20,"Cancel"),Wo(),Wo(),Wo()}if(2&e){var r=na();Pr(5),$o("ngModel",r.thisReminderTime),Pr(1),$o("ngIf",r.thisReminderTime),Pr(5),$o("ngModel",r.setReminderForStatus)}}var ES,AS,TS,IS=((TS=function(){function e(t){_classCallCheck(this,e),this.modalService=t,this.update=new zs,this.delete=new zs}return _createClass(e,[{key:"ok",value:function(){this.item.ok(),this.update.emit()}},{key:"needMore",value:function(){this.item.needMore(),this.update.emit()}},{key:"buyOnSale",value:function(){this.item.buyOnSale(),this.update.emit()}},{key:"setQuantity",value:function(e){this.item.setQuantity(e),this.update.emit()}},{key:"deleteItem",value:function(){this.delete.emit()}},{key:"selectedClass",value:function(e,t,n){return e.status===t?n?"btn-outline-success expired":"btn-success":"btn-light"}},{key:"okClass",value:function(){return this.selectedClass(this.item,U_.OK,this.item.isExpired())}},{key:"needMoreClass",value:function(){return this.selectedClass(this.item,U_.NEED_MORE,this.item.bought)}},{key:"buyOnSaleClass",value:function(){return this.selectedClass(this.item,U_.BUY_ON_SALE,this.item.bought)}},{key:"getUpdateReminderStatus",value:function(){var e=this.item.daysToRemind();return e>0?"Reminding in "+e+" days ("+q_.formatDate(q_.daysToExpireToDate(e))+")":this.item.lastStatusUpdate?"Last updated "+this.item.getLastUpdated():void 0}},{key:"toggleActive",value:function(){this.item.active=!this.item.active,this.update.emit()}},{key:"onSetReminder",value:function(){var e=this;this.thisReminderTime=this.item.getOverrideReminderFromToday(),(!this.thisReminderTime||this.thisReminderTime<1)&&(this.thisReminderTime=this.item.getReminderTimeFromToday(),(!this.thisReminderTime||this.thisReminderTime<1)&&(this.thisReminderTime=void 0)),this.setReminderForStatus=!1,this.modalService.open(this.setReminderDialog).result.then((function(t){t&&(e.item.overrideReminderFromToday(e.thisReminderTime),e.thisReminderTime&&e.setReminderForStatus&&(e.item.reminderTime=e.thisReminderTime),e.update.emit())}))}},{key:"onMakeExpired",value:function(e){this.thisReminderTime=-1,e.close(!0)}},{key:"onExtendReminder",value:function(){this.item.extendReminder(),this.update.emit()}},{key:"getThisReminderDate",value:function(){if(this.thisReminderTime)return q_.formatDate(q_.daysToExpireToDate(this.thisReminderTime))}}]),e}()).\u0275fac=function(e){return new(e||TS)(Bo(Rv))},TS.\u0275cmp=mt({type:TS,selectors:[["","item-status-row",""]],viewQuery:function(e,t){var n;1&e&&nu(_S,!0),2&e&&tu(n=au())&&(t.setReminderDialog=n.first)},inputs:{item:"item"},outputs:{update:"update",delete:"delete"},attrs:bS,decls:21,vars:7,consts:[[1,"row","py-2","border-bottom"],[1,"col-11"],[1,"row"],[1,"d-flex","align-items-center","justify-content-center","justify-content-md-start","col","col-md-auto","order-last","order-md-first"],["class","btn-group status-buttons ml-2",4,"ngIf"],[1,"w-100","d-md-none"],[1,"d-flex","justify-content-center","justify-content-md-start","align-items-center","col","text-center","text-md-left","mb-2","order-first","order-md-last"],[1,"item-name"],[1,"text-center","last-updated"],[1,"text-muted","text-center"],["class","d-inline d-sm-none",4,"ngIf"],["class","btn btn-link btn-link-inline",3,"click",4,"ngIf"],[1,"col-1","px-0","d-flex","justify-content-end","align-items-center"],[3,"item","toggleActive","delete"],["setReminderDialog",""],[1,"btn-group","status-buttons","ml-2"],[3,"item","ok","needMore","buyOnSale","setQuantity","toggleActive","delete"],[1,"d-inline","d-sm-none"],[1,"btn","btn-link","btn-link-inline",3,"click"],[1,"modal-content"],[1,"modal-body"],[1,"form-group"],["for","thisReminderTime"],["id","thisReminderTime","type","number","name","thisReminderTime",1,"form-control",3,"ngModel","ngModelChange"],["class","form-text text-muted",4,"ngIf"],[1,"form-text","text-muted"],[1,"form-check"],["type","checkbox","name","setReminderForStatus",1,"form-check-input",3,"ngModel","ngModelChange"],["for","setReminderForStatus",1,"form-check-label"],[1,"modal-footer"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(Go(0,"div",0),Go(1,"div",1),Go(2,"div",2),Go(3,"div",3),qo(4,kS,2,1,"div",4),Wo(),Ko(5,"div",5),Go(6,"div",6),Go(7,"div"),Go(8,"span",7),Sa(9),Wo(),Go(10,"span",8),Ko(11,"br"),Go(12,"small",9),Sa(13),qo(14,CS,1,0,"br",10),qo(15,wS,2,0,"button",11),qo(16,SS,2,0,"button",11),Wo(),Wo(),Wo(),Wo(),Wo(),Wo(),Go(17,"div",12),Go(18,"item-menu",13),Xo("toggleActive",(function(e){return t.toggleActive()}))("delete",(function(e){return t.deleteItem()})),Wo(),Wo(),Wo(),qo(19,OS,21,3,"ng-template",null,14,lu)),2&e&&(Pr(4),$o("ngIf",t.item.active),Pr(5),xa(t.item.name),Pr(4),Oa(" ",t.getUpdateReminderStatus()," "),Pr(1),$o("ngIf",t.item.daysToRemind()>0),Pr(1),$o("ngIf",t.item.isStatusSet()&&!t.item.onShoppingList()&&!t.item.canExtend()),Pr(1),$o("ngIf",t.item.canExtend()),Pr(2),$o("item",t.item))},directives:[$c,lS,yS,fh,Uf,Wf,ud,Nf],styles:[".inactive[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{color:#6c757d;font-style:italic}.item-name[_ngcontent-%COMP%]{font-size:larger}.expired[_ngcontent-%COMP%]:not(:hover){background-color:#f8f9fa}"]}),TS),RS=((AS=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e,t){return e?t?(t=t.toLowerCase(),e.filter((function(e){return e.name.toLowerCase().includes(t)}))):e:[]}}]),e}()).\u0275fac=function(e){return new(e||AS)},AS.\u0275pipe={type:(ES={name:"filter",type:AS,pure:!0}).type,name:ES.name,factory:null,pure:!1!==ES.pure,onDestroy:ES.type.prototype.ngOnDestroy||null},AS),PS=["confirmImportDialog"];function DS(e,t){1&e&&Ko(0,"i",16)}function jS(e,t){1&e&&Ko(0,"i",17)}function MS(e,t){if(1&e&&(Go(0,"option",34),Sa(1),Wo()),2&e){var n=t.$implicit;$o("ngValue",n),Pr(1),xa(n)}}function NS(e,t){if(1&e){var n=Zo();Go(0,"div",18),Go(1,"div",19),Go(2,"div",20),Go(3,"label"),Sa(4,"Group by:"),Wo(),Wo(),Wo(),Go(5,"div",21),Go(6,"div",20),Go(7,"select",22),Xo("ngModelChange",(function(e){return Vt(n),na().statusConfig.groupBy=e}))("change",(function(e){return Vt(n),na().configChanged()})),qo(8,MS,2,2,"option",23),Wo(),Wo(),Go(9,"div",20),Go(10,"input",24),Xo("ngModelChange",(function(e){return Vt(n),na().filter=e})),Wo(),Wo(),Wo(),Go(11,"div",25),Go(12,"div",26),Go(13,"input",27),Xo("ngModelChange",(function(e){return Vt(n),na().config.showInactive=e}))("change",(function(e){return Vt(n),na().configChanged()})),Wo(),Go(14,"label",28),Sa(15,"Show Inactive Items"),Wo(),Wo(),Wo(),Go(16,"div",25),Go(17,"div",26),Go(18,"input",29),Xo("ngModelChange",(function(e){return Vt(n),na().config.hideItemsOutsideReminder=e}))("change",(function(e){return Vt(n),na().configChanged()})),Wo(),Go(19,"label",30),Sa(20,"Hide items outside reminder period"),Wo(),Go(21,"small",31),Sa(22," Will still show items that have no reminder period set "),Wo(),Wo(),Wo(),Go(23,"div"),Go(24,"button",32),Xo("click",(function(e){return Vt(n),na().export()})),Sa(25," Export "),Wo(),Go(26,"button",33),Xo("click",(function(e){return Vt(n),na().importData()})),Sa(27," Import "),Wo(),Wo(),Wo()}if(2&e){var r=na();Pr(7),$o("ngModel",r.statusConfig.groupBy),Pr(1),$o("ngForOf",r.groupByOptions),Pr(2),$o("ngModel",r.filter),Pr(3),$o("ngModel",r.config.showInactive),Pr(5),$o("ngModel",r.config.hideItemsOutsideReminder)}}function LS(e,t){1&e&&(Go(0,"div",35),Go(1,"a",36),Ko(2,"i",8),Sa(3," Nothing here! Click here to create your first shopping item. "),Wo(),Wo())}function VS(e,t){1&e&&Ko(0,"i",43)}function US(e,t){1&e&&Ko(0,"i",44)}function qS(e,t){if(1&e){var n=Zo();Go(0,"div",39),Xo("click",(function(e){Vt(n);var t=na().$implicit;return na().toggleGroupCollapse(t)})),Go(1,"span",40),qo(2,VS,1,0,"i",41),qo(3,US,1,0,"i",42),Wo(),Go(4,"strong"),Sa(5),Wo(),Wo()}if(2&e){var r=na().$implicit,i=na();Pr(2),$o("ngIf",i.statusConfig.groupCollapsed(r.name)),Pr(1),$o("ngIf",!i.statusConfig.groupCollapsed(r.name)),Pr(2),Ea("",r.name," (",r.items.length,")")}}function FS(e,t){if(1&e){var n=Zo();Go(0,"div",48),Xo("update",(function(e){Vt(n);var r=t.$implicit;return na(3).onItemStateChange(r)}))("delete",(function(e){Vt(n);var r=t.$implicit,i=na(3),o=Fo(17);return i.deleteItem(r,o)})),Wo()}if(2&e){var r=t.$implicit,i=na(2).$implicit;pa(na().getStatusClass(r)),$o("dndDraggable",r)("dndDisableIf",1===i.items.length)("dndType",i.name)("item",r)}}var BS=function(e){return[e]};function HS(e,t){if(1&e){var n=Zo();Go(0,"div",45),Xo("dndDrop",(function(e){Vt(n);var t=na().$implicit;return na().move(t.items,e)})),qo(1,FS,1,6,"div",46),function(e,t){var n,r=Lt();r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if("filter"===r.name)return r}throw new Error("The pipe 'filter' could not be found!")}(0,r.pipeRegistry),r.data[21]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(21,n.onDestroy)):n=r.data[21];var i=(n.factory||(n.factory=xt(n.type)))();!function(e,t,n,r){21>=e.data.length&&(e.data[21]=null,e.blueprint[21]=null),t[21]=r}(r,Nt(),0,i)}(),Go(3,"div",47),Sa(4," Drop here "),Wo(),Wo()}if(2&e){var r=na().$implicit,i=na();$o("dndDropzone",Hs(5,BS,r.name)),Pr(1),$o("ngForOf",(o=r.items,a=i.filter,s=Nt(),u=lr(s,2),function(e,t){return Ro.isWrapped(t)&&(t=Ro.unwrap(t),e[Qt()]=Ir),t}(s,function(e,t){return e[1].data[21].pure}(s)?function(e,t,n,r,i,o,a){var s=t+2;return Lo(e,s,i,o)?jo(e,s+2,a?r.call(a,i,o):r(i,o)):Mo(e,s+2)}(s,$t(),0,u.transform,o,a,u):u.transform(o,a))))}var o,a,s,u}function zS(e,t){if(1&e&&(Go(0,"div"),qo(1,qS,6,4,"div",37),qo(2,HS,5,7,"div",38),Wo()),2&e){var n=t.$implicit,r=na();Pr(1),$o("ngIf",n.name&&n.items.length>0),Pr(1),$o("ngIf",!r.statusConfig.groupCollapsed(n.name))}}function $S(e,t){if(1&e&&(Go(0,"div",49),Go(1,"div",50),Go(2,"p"),Sa(3),Wo(),Wo(),Go(4,"div",51),Go(5,"button",52),Xo("click",(function(e){return t.$implicit.close(!0)})),Sa(6,"Delete"),Wo(),Go(7,"button",53),Xo("click",(function(e){return t.$implicit.close(!1)})),Sa(8,"Cancel"),Wo(),Wo(),Wo()),2&e){var n=na();Pr(3),Oa("Are you sure you want to delete ",n.toDelete.name,"?")}}function QS(e,t){1&e&&(Go(0,"div",49),Go(1,"div",50),Go(2,"p"),Sa(3,"This will delete all data before importing. Are you sure?"),Wo(),Wo(),Go(4,"div",51),Go(5,"button",52),Xo("click",(function(e){return t.$implicit.close(!0)})),Sa(6,"Import"),Wo(),Go(7,"button",53),Xo("click",(function(e){return t.$implicit.close(!1)})),Sa(8,"Cancel"),Wo(),Wo(),Wo())}var GS,WS=((GS=function(){function e(t,n,r){_classCallCheck(this,e),this.itemService=t,this.modalService=n,this.errorService=r,this.collapsedViewOptions=!0,this.subscriptions=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.groupByOptions=this.itemService.getGroupByOptions(),this.config=this.itemService.getConfig(),this.statusConfig=this.config.statusConfig,this.groupItems(),this.subscriptions.push(this.itemService.subscribeToChangeEvent({next:function(){e.config=e.itemService.getConfig(),e.statusConfig=e.config.statusConfig,e.groupItems()}}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"getStatusClass",value:function(e){return e.active?void 0===e.status?"no-status":e.isExpired()?"expired":void 0:"inactive"}},{key:"onItemStateChange",value:function(e){this.itemService.updateItem(e)}},{key:"deleteItem",value:function(e,t){var n=this;this.toDelete=e,this.modalService.open(t).result.then((function(t){t&&(n.itemService.deleteItem(e),n.groupItems()),delete n.toDelete}))}},{key:"move",value:function(e,t){var n=t.data,r=t.index,i=e.findIndex((function(e){return e._id===n._id}));if(r===i||r===i+1)return!1;r>i&&r--;var o=e.splice(i,1)[0];return e.splice(r,0,o),r>i?this.itemService.moveAfter(o,e[r-1]):this.itemService.moveBefore(o,e[r+1]),!0}},{key:"configChanged",value:function(){return M_(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.itemService.saveConfig(this.config);case 2:this.groupItems();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"toggleGroupCollapse",value:function(e){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.statusConfig.toggleGroupCollapse(e.name),t.next=3,this.itemService.saveConfig(this.config);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"resetAll",value:function(){this.groups.forEach((function(e){e.items.forEach((function(e){e.reset()}))}))}},{key:"groupItems",value:function(){var e=this,t=this.itemService.getItems().filter((function(t){return!t.custom&&!(!t.active&&!e.config.showInactive)&&(!e.config.hideItemsOutsideReminder||!t.isStatusSet()||t.onShoppingList()||t.noExpiry()||t.isExpired())}));this.groups=this.itemService.groupItems(t,this.statusConfig.groupBy)}},{key:"export",value:function(){this.itemService.exportItems()}},{key:"importData",value:function(){var e=this,t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=function(n){var r=t.files[0],i=new FileReader;i.readAsText(r),i.onload=function(){if("string"==typeof i.result){var t;try{t=JSON.parse(i.result)}catch(n){return void e.errorService.add(n)}e.modalService.open(e.confirmImportDialog).result.then((function(n){n&&e.itemService.importItems(t)}))}}},t.click()}}]),e}()).\u0275fac=function(e){return new(e||GS)(Bo(Lw),Bo(Rv),Bo(Nw))},GS.\u0275cmp=mt({type:GS,selectors:[["status-list"]],viewQuery:function(e,t){var n;1&e&&nu(PS,!0),2&e&&tu(n=au())&&(t.confirmImportDialog=n.first)},decls:20,vars:5,consts:[[1,"row","my-3"],[1,"col-6"],[1,"mb-2","view-options",3,"click"],["class","fas fa-chevron-right",4,"ngIf"],["class","fas fa-chevron-down",4,"ngIf"],[1,"ml-2"],[1,"col-6","text-right"],["routerLink","/new","title","New",1,"btn","btn-sm","btn-primary"],[1,"fas","fa-plus"],["class","form-group bg-light p-2 mt-2",4,"ngIf"],["class","text-center",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"mt-2"],[1,"btn","btn-primary",3,"click"],["confirmDeleteDialog",""],["confirmImportDialog",""],[1,"fas","fa-chevron-right"],[1,"fas","fa-chevron-down"],[1,"form-group","bg-light","p-2","mt-2"],[1,"row"],[1,"col-sm-3"],[1,"row","mb-2"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],["placeholder","filter",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"form-group"],[1,"form-check"],["type","checkbox","name","showInactive",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","showInactive",1,"form-check-label"],["type","checkbox","name","hideItemsOutsideReminder",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","hideItemsOutsideReminder",1,"form-check-label"],[1,"form-text","text-muted"],["title","Export",1,"btn","btn-primary","btn-sm",3,"click"],["title","Import",1,"btn","btn-danger","btn-sm","ml-1",3,"click"],[3,"ngValue"],[1,"text-center"],["routerLink","/new","title","New",1,"btn","btn-outline-primary","p-3","m-3"],["class","row group p-2 sticky-top bg-light border-top border-bottom my-1",3,"click",4,"ngIf"],["dnd-list","group.items",3,"dndDropzone","dndDrop",4,"ngIf"],[1,"row","group","p-2","sticky-top","bg-light","border-top","border-bottom","my-1",3,"click"],[1,"mr-1"],["class","far fa-fw fa-plus-square",4,"ngIf"],["class","far fa-fw fa-minus-square",4,"ngIf"],[1,"far","fa-fw","fa-plus-square"],[1,"far","fa-fw","fa-minus-square"],["dnd-list","group.items",3,"dndDropzone","dndDrop"],["item-status-row","",3,"dndDraggable","dndDisableIf","dndType","item","class","update","delete",4,"ngFor","ngForOf"],["dndPlaceholderRef","",1,"border-top","border-bottom","item-drop","d-flex","align-items-center","justify-content-center","text-muted","bg-light"],["item-status-row","",3,"dndDraggable","dndDisableIf","dndType","item","update","delete"],[1,"modal-content"],[1,"modal-body"],[1,"modal-footer"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(Go(0,"div",0),Go(1,"div",1),Go(2,"h6",2),Xo("click",(function(e){return t.collapsedViewOptions=!t.collapsedViewOptions})),qo(3,DS,1,0,"i",3),qo(4,jS,1,0,"i",4),Go(5,"span",5),Sa(6,"Options"),Wo(),Wo(),Wo(),Go(7,"div",6),Go(8,"a",7),Ko(9,"i",8),Wo(),Wo(),Wo(),qo(10,NS,28,5,"div",9),qo(11,LS,4,0,"div",10),qo(12,zS,3,2,"div",11),Go(13,"div",12),Go(14,"button",13),Xo("click",(function(e){return t.resetAll()})),Sa(15," Reset All "),Wo(),Wo(),qo(16,$S,9,1,"ng-template",null,14,lu),qo(18,QS,9,0,"ng-template",null,15,lu)),2&e&&(Pr(3),$o("ngIf",t.collapsedViewOptions),Pr(1),$o("ngIf",!t.collapsedViewOptions),Pr(6),$o("ngIf",!t.collapsedViewOptions),Pr(1),$o("ngIf",0===t.groups.length),Pr(1),$o("ngForOf",t.groups))},directives:[$c,o_,Hc,wh,Wf,ud,Uf,Nf,Sh,Ih,rS,nS,IS,tS],pipes:[RS],styles:[".group[_ngcontent-%COMP%]{cursor:pointer}.no-status[_ngcontent-%COMP%]{background-color:#f3b0b0}.expired[_ngcontent-%COMP%]{background-color:#f7f5cd}.item-drop[_ngcontent-%COMP%]{height:4em;text-align:center;vertical-align:middle}.view-options[_ngcontent-%COMP%]{cursor:pointer}"]}),GS);function KS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yd;return function(n){return n.lift(new ZS(e,t))}}var ZS=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new JS(e,this.dueTime,this.scheduler))}}]),e}(),JS=function(e){function t(e,n,r){var i;return _classCallCheck(this,t),(i=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e))).dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return _inherits(t,e),_createClass(t,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(YS,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),t}(v);function YS(e){e.debouncedNext()}function XS(e,t){1&e&&(Go(0,"div",39),Sa(1," Required. "),Wo())}var ex,tx=((ex=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.route=t,this.router=n,this.itemService=r,this.allCategories=[],this.allLocations=[],this.locationFocus$=new A,this.categoryFocus$=new A,this.locationSearch=function(e){return Z(e.pipe(KS(200),Sd()),i.locationFocus$).pipe(U(i.mapFunc(i.allLocations)))},this.categorySearch=function(e){return Z(e.pipe(KS(200),Sd()),i.categoryFocus$).pipe(U(i.mapFunc(i.allCategories)))}}return _createClass(e,[{key:"ngOnInit",value:function(){this.id=this.route.snapshot.paramMap.get("id"),this.id?(this.item=Object.assign(new q_,this.itemService.get(this.id)),this.isEdit=!0):this.item=new q_,this.allCategories=this.itemService.getAllCategories(),this.allLocations=this.itemService.getAllLocations()}},{key:"returnToList",value:function(){this.router.navigate(["/status"])}},{key:"save",value:function(){this.item.setQuantityStatus(),this.isEdit?this.itemService.updateItem(this.item):this.itemService.addItem(this.item),this.returnToList()}},{key:"cancel",value:function(){this.returnToList()}},{key:"mapFunc",value:function(e){return function(t){return""===t?e:e.filter((function(e){return e.toLowerCase().indexOf(t.toLowerCase())>-1}))}}}]),e}()).\u0275fac=function(e){return new(e||ex)(Bo(Gm),Bo(r_),Bo(Lw))},ex.\u0275cmp=mt({type:ex,selectors:[["item-detail"]],decls:88,vars:23,consts:[[1,"form-group"],["for","name"],["type","text","name","name","ng-class","{'is-invalid': !item.name}",1,"form-control",3,"ngModel","ngModelChange"],["class","invalid-feedback",4,"ngIf"],[1,"form-row"],[1,"form-group","col-sm-6"],["for","category"],["type","text","name","category",1,"form-control",3,"ngModel","ngbTypeahead","ngModelChange","focus"],["for","location"],["type","text","name","location",1,"form-control",3,"ngModel","ngbTypeahead","ngModelChange","focus"],[1,"form-check"],["type","checkbox","name","quantityBased",1,"form-check-input",3,"ngModel","ngModelChange"],["for","quantityBased",1,"form-check-label"],[1,"form-group","col-sm-3"],["for","quantityUnit"],["type","text","name","quantityUnit",1,"form-control",3,"ngModel","disabled","ngModelChange"],["for","minQuantity"],["type","number","name","minQuantity",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"form-text","text-muted"],["for","maxQuantity"],["type","number","name","maxQuantity",1,"form-control",3,"ngModel","disabled","ngModelChange"],["for","incrementQuantity"],["type","number","name","incrementQuantity",1,"form-control",3,"ngModel","disabled","ngModelChange"],["for","unit"],["type","text","name","unit",1,"form-control",3,"ngModel","ngModelChange"],["for","maxSalePrice"],["type","text","name","maxSalePrice",1,"form-control",3,"ngModel","ngModelChange"],["type","checkbox","name","buyOnSaleOnly",1,"form-check-input",3,"ngModel","ngModelChange"],["for","buyOnSaleOnly",1,"form-check-label"],["for","reminderTime"],["type","number","name","reminderTime",1,"form-control",3,"ngModel","ngModelChange"],["for","reminderExtensionTime"],["type","number","name","reminderExtensionTime",1,"form-control",3,"ngModel","ngModelChange"],["for","notes"],["type","text","name","notes",1,"form-control",3,"ngModel","ngModelChange"],["type","checkbox","name","active",1,"form-check-input",3,"ngModel","ngModelChange"],["for","active",1,"form-check-label"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-light",3,"click"],[1,"invalid-feedback"]],template:function(e,t){1&e&&(Go(0,"form"),Go(1,"div",0),Go(2,"label",1),Sa(3,"Name"),Wo(),Go(4,"input",2),Xo("ngModelChange",(function(e){return t.item.name=e})),Wo(),qo(5,XS,2,0,"div",3),Wo(),Go(6,"div",4),Go(7,"div",5),Go(8,"label",6),Sa(9,"Category"),Wo(),Go(10,"input",7),Xo("ngModelChange",(function(e){return t.item.category=e}))("focus",(function(e){return t.categoryFocus$.next(e.target.value)})),Wo(),Wo(),Go(11,"div",5),Go(12,"label",8),Sa(13,"Location"),Wo(),Go(14,"input",9),Xo("ngModelChange",(function(e){return t.item.location=e}))("focus",(function(e){return t.locationFocus$.next(e.target.value)})),Wo(),Wo(),Wo(),Go(15,"div",0),Go(16,"div",10),Go(17,"input",11),Xo("ngModelChange",(function(e){return t.item.quantityBased=e})),Wo(),Go(18,"label",12),Sa(19,"Quantity-based status"),Wo(),Wo(),Wo(),Go(20,"div",4),Go(21,"div",13),Go(22,"label",14),Sa(23,"Quantity Unit"),Wo(),Go(24,"input",15),Xo("ngModelChange",(function(e){return t.item.quantityUnit=e})),Wo(),Wo(),Go(25,"div",13),Go(26,"label",16),Sa(27,"Minimum Quantity"),Wo(),Go(28,"input",17),Xo("ngModelChange",(function(e){return t.item.minQuantity=e})),Wo(),Go(29,"small",18),Sa(30," Quantity under minimum sets status to Need More. "),Wo(),Wo(),Go(31,"div",13),Go(32,"label",19),Sa(33,"Maximum Quantity"),Wo(),Go(34,"input",20),Xo("ngModelChange",(function(e){return t.item.maxQuantity=e})),Wo(),Go(35,"small",18),Sa(36," Maximum units to buy. "),Wo(),Wo(),Go(37,"div",13),Go(38,"label",21),Sa(39,"Increment Quantity"),Wo(),Go(40,"input",22),Xo("ngModelChange",(function(e){return t.item.incrementQuantity=e})),Wo(),Go(41,"small",18),Sa(42," Amounts for the -/+ buttons. Defaults to 1. "),Wo(),Wo(),Wo(),Go(43,"div",4),Go(44,"div",5),Go(45,"label",23),Sa(46,"Price Unit"),Wo(),Go(47,"input",24),Xo("ngModelChange",(function(e){return t.item.unit=e})),Wo(),Wo(),Go(48,"div",5),Go(49,"label",25),Sa(50,"Max Sale Price per Unit"),Wo(),Go(51,"input",26),Xo("ngModelChange",(function(e){return t.item.maxSalePrice=e})),Wo(),Go(52,"small",18),Sa(53),Wo(),Wo(),Wo(),Go(54,"div",0),Go(55,"div",10),Go(56,"input",27),Xo("ngModelChange",(function(e){return t.item.buyOnSaleOnly=e})),Wo(),Go(57,"label",28),Sa(58,"Buy on sale only"),Wo(),Wo(),Wo(),Go(59,"div",4),Go(60,"div",5),Go(61,"label",29),Sa(62,"Reminder time (days)"),Wo(),Go(63,"input",30),Xo("ngModelChange",(function(e){return t.item.reminderTime=e})),Wo(),Go(64,"small",18),Sa(65," If set, items in OK status are hidden by default until the reminder time. "),Wo(),Wo(),Go(66,"div",5),Go(67,"label",31),Sa(68,"Reminder extension time (days)"),Wo(),Go(69,"input",32),Xo("ngModelChange",(function(e){return t.item.reminderExtensionTime=e})),Wo(),Go(70,"small",18),Sa(71," If set, allows extending reminder time by this amount when the item is in the reminder period. "),Wo(),Wo(),Wo(),Go(72,"div",0),Go(73,"label",33),Sa(74,"Note"),Wo(),Go(75,"input",34),Xo("ngModelChange",(function(e){return t.item.notes=e})),Wo(),Wo(),Go(76,"div",0),Go(77,"div",10),Go(78,"input",35),Xo("ngModelChange",(function(e){return t.item.active=e})),Wo(),Go(79,"label",36),Sa(80,"Active"),Wo(),Go(81,"small",18),Sa(82," Inactive items are not shown by default "),Wo(),Wo(),Wo(),Go(83,"div"),Go(84,"button",37),Xo("click",(function(e){return t.save()})),Sa(85,"Save"),Wo(),Go(86,"button",38),Xo("click",(function(e){return t.cancel()})),Sa(87,"Cancel"),Wo(),Wo(),Wo()),2&e&&(Pr(4),$o("ngModel",t.item.name),Pr(1),$o("ngIf",!t.item.name),Pr(5),$o("ngModel",t.item.category)("ngbTypeahead",t.categorySearch),Pr(4),$o("ngModel",t.item.location)("ngbTypeahead",t.locationSearch),Pr(3),$o("ngModel",t.item.quantityBased),Pr(7),$o("ngModel",t.item.quantityUnit)("disabled",!t.item.quantityBased),Pr(4),$o("ngModel",t.item.minQuantity)("disabled",!t.item.quantityBased),Pr(6),$o("ngModel",t.item.maxQuantity)("disabled",!t.item.quantityBased),Pr(6),$o("ngModel",t.item.incrementQuantity)("disabled",!t.item.quantityBased),Pr(7),$o("ngModel",t.item.unit),Pr(4),$o("ngModel",t.item.maxSalePrice),Pr(2),Oa(" Maximum price per ",t.item.unit||"unit"," when buying on sale "),Pr(3),$o("ngModel",t.item.buyOnSaleOnly),Pr(7),$o("ngModel",t.item.reminderTime),Pr(6),$o("ngModel",t.item.reminderExtensionTime),Pr(6),$o("ngModel",t.item.notes),Pr(3),$o("ngModel",t.item.active))},directives:[cd,Kf,ed,Uf,Wf,ud,$c,fg,Nf,fh],styles:[""]}),ex);function nx(e,t){if(1&e){var n=Zo();Go(0,"li",9),Go(1,"div",10),Go(2,"div",11),Go(3,"item-quantity",12),Xo("update",(function(e){Vt(n);var r=t.$implicit;return na().setQuantity(r,e)})),Wo(),Wo(),Go(4,"div",13),Sa(5),Wo(),Wo(),Wo()}if(2&e){var r=t.$implicit;Pr(3),$o("quantity",r.quantity)("unit",r.quantityUnit)("incrementAmount",r.incrementQuantity),Pr(2),xa(r.name)}}var rx,ix=((rx=function(){function e(t){_classCallCheck(this,e),this.modal=t}return _createClass(e,[{key:"ngOnInit",value:function(){this.ngOnChanges()}},{key:"ngOnChanges",value:function(){this.localItems=this.items?this.items.map((function(e){var t=Object.assign(new q_,e);return t.quantity=e.getBoughtQuantity(),t})):void 0}},{key:"submit",value:function(){this.modal.close(this.localItems)}},{key:"setQuantity",value:function(e,t){e.quantity=t}}]),e}()).\u0275fac=function(e){return new(e||rx)(Bo(Ov))},rx.\u0275cmp=mt({type:rx,selectors:[["app-confirm-bought-dialog"]],inputs:{items:"items"},features:[La()],decls:13,vars:1,consts:[[3,"ngSubmit"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary"],[1,"btn","btn-secondary",3,"click"],[1,"list-group-item"],[1,"row","align-items-center","justify-content-center","justify-content-md-start"],[1,"col"],[3,"quantity","unit","incrementAmount","update"],[1,"col","text-center","text-md-left","order-first","order-md-last"]],template:function(e,t){1&e&&(Go(0,"form",0),Xo("ngSubmit",(function(e){return t.submit()})),Go(1,"div",1),Go(2,"h4",2),Sa(3,"Confirm quantities"),Wo(),Wo(),Go(4,"div",3),Go(5,"ul",4),qo(6,nx,6,4,"li",5),Wo(),Wo(),Go(7,"div",6),Go(8,"button",7),Go(9,"span"),Sa(10,"Submit"),Wo(),Wo(),Go(11,"button",8),Xo("click",(function(e){return t.modal.close()})),Sa(12,"Cancel"),Wo(),Wo(),Wo()),2&e&&(Pr(6),$o("ngForOf",t.localItems))},directives:[cd,Kf,ed,Hc,dS],styles:[""]}),rx),ox=["shopping-list-item",""];function ax(e,t){if(1&e&&(Go(0,"span"),Sa(1),Wo()),2&e){var n=na();Pr(1),Oa(" ",n.getShoppingListQuantity()," ")}}function sx(e,t){if(1&e&&(Go(0,"span"),Sa(1),Wo()),2&e){var n=na(2);Pr(1),Ea(" (if <= $",n.item.maxSalePrice," / ",n.item.unit||"unit",") ")}}function ux(e,t){1&e&&(Go(0,"span"),Sa(1,"(if on sale)"),Wo())}function cx(e,t){if(1&e&&(Go(0,"span"),Go(1,"span"),Sa(2,"\xa0"),Wo(),qo(3,sx,2,2,"span",2),qo(4,ux,2,0,"span",2),Wo()),2&e){var n=na();Pr(3),$o("ngIf",n.item.maxSalePrice),Pr(1),$o("ngIf",!n.item.maxSalePrice)}}function lx(e,t){if(1&e&&(Go(0,"span"),Sa(1),Wo()),2&e){var n=na(2);Pr(1),Aa(" (",n.getOnSaleQuantity()||""," if <= $",n.item.maxSalePrice," / ",n.item.unit||"unit",") ")}}function fx(e,t){if(1&e&&(Go(0,"span"),Sa(1),Wo()),2&e){var n=na(2);Pr(1),Oa(" (",n.getOnSaleQuantity()||""," if on sale) ")}}function hx(e,t){if(1&e&&(Go(0,"span"),Go(1,"span"),Sa(2,"\xa0"),Wo(),qo(3,lx,2,3,"span",2),qo(4,fx,2,1,"span",2),Wo()),2&e){var n=na();Pr(3),$o("ngIf",n.item.maxSalePrice),Pr(1),$o("ngIf",!n.item.maxSalePrice)}}var dx,px=((dx=function(){function e(){_classCallCheck(this,e),this.update=new zs}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getClass",value:function(){if(this.item.bought)return"completed"}},{key:"toggleBought",value:function(){this.item.toggleBought(),this.update.emit()}},{key:"getShoppingListQuantity",value:function(){var e;if(e=this.item.isBuyOnSale()?this.item.getOnSaleQuantity():this.item.getRequiredQuantity())return this.item.quantityUnit?"".concat(e," ").concat(this.item.quantityUnit):"".concat(e,"x")}},{key:"getOnSaleQuantity",value:function(){if(this.item.quantityBased&&!this.item.isBuyOnSale()){var e=this.item.getOnSaleQuantity();return e?this.item.quantityUnit?"".concat(e," ").concat(this.item.quantityUnit):"".concat(e,"x"):void 0}}}]),e}()).\u0275fac=function(e){return new(e||dx)},dx.\u0275cmp=mt({type:dx,selectors:[["","shopping-list-item",""]],inputs:{item:"item"},outputs:{update:"update"},attrs:ox,decls:8,vars:7,consts:[[1,"list-item"],["type","checkbox",3,"ngModel","click","ngModelChange"],[4,"ngIf"]],template:function(e,t){1&e&&(Go(0,"div",0),Go(1,"input",1),Xo("click",(function(e){return t.toggleBought()}))("ngModelChange",(function(e){return t.item.bought=e})),Wo(),Go(2,"span"),qo(3,ax,2,1,"span",2),Go(4,"span"),Sa(5),Wo(),qo(6,cx,5,2,"span",2),qo(7,hx,5,2,"span",2),Wo(),Wo()),2&e&&(Pr(1),$o("ngModel",t.item.bought),Pr(1),pa(t.getClass()),Pr(1),$o("ngIf",t.getShoppingListQuantity()),Pr(2),xa(t.item.name),Pr(1),$o("ngIf",t.item.isBuyOnSale()),Pr(1),$o("ngIf",!t.item.isBuyOnSale()&&t.getOnSaleQuantity()))},directives:[Nf,Wf,ud,$c],styles:[".completed[_ngcontent-%COMP%]{text-decoration:line-through}.list-item[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.list-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1.2em;height:1.2em}"]}),dx);function vx(e,t){if(1&e&&(Go(0,"option",15),Sa(1),Wo()),2&e){var n=t.$implicit;$o("ngValue",n),Pr(1),xa(n)}}function gx(e,t){if(1&e){var n=Zo();Go(0,"button",16),Xo("click",(function(e){return Vt(n),na().complete()})),Sa(1," Complete "),Wo()}}function mx(e,t){1&e&&Ko(0,"i",22)}function yx(e,t){1&e&&Ko(0,"i",23)}function _x(e,t){if(1&e){var n=Zo();Go(0,"li",26),Xo("itemChange",(function(e){Vt(n);var r=t.index;return na(2).$implicit.items[r]=e}))("update",(function(e){Vt(n);var r=t.$implicit;return na(3).itemUpdated(r)})),Wo()}if(2&e){var r=t.index;$o("item",na(2).$implicit.items[r])}}function bx(e,t){if(1&e&&(Go(0,"ul",24),qo(1,_x,1,1,"li",25),Wo()),2&e){var n=na().$implicit;Pr(1),$o("ngForOf",n.items)}}function kx(e,t){if(1&e){var n=Zo();Go(0,"div"),Go(1,"div",17),Xo("click",(function(e){Vt(n);var r=t.$implicit;return na().toggleGroupCollapse(r)})),Go(2,"span",18),qo(3,mx,1,0,"i",19),qo(4,yx,1,0,"i",20),Wo(),Go(5,"strong"),Sa(6),Wo(),Wo(),qo(7,bx,2,1,"ul",21),Wo()}if(2&e){var r=t.$implicit,i=na();Pr(3),$o("ngIf",i.config.shoppingConfig.groupCollapsed(r.name)),Pr(1),$o("ngIf",!i.config.shoppingConfig.groupCollapsed(r.name)),Pr(2),Ea("",r.name||"Ungrouped"," (",r.items.length,")"),Pr(1),$o("ngIf",!i.config.shoppingConfig.groupCollapsed(r.name))}}var Cx,wx,Sx,xx=[{path:"status",component:WS},{path:"new",component:tx},{path:"edit/:id",component:tx},{path:"shoppingList",component:(Cx=function(){function e(t,n){_classCallCheck(this,e),this.itemService=t,this.modalService=n,this.subscriptions=[]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.groupByOptions=this.itemService.getGroupByOptions(),this.config=this.itemService.getConfig(),this.groupItems(),this.subscriptions.push(this.itemService.subscribeToChangeEvent({next:function(){e.config=e.itemService.getConfig(),e.groupItems()}}))}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"groupByChanged",value:function(){return M_(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.itemService.saveConfig(this.config);case 2:this.groupItems();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"itemUpdated",value:function(e){this.itemService.updateItem(e)}},{key:"toggleGroupCollapse",value:function(e){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.config.shoppingConfig.toggleGroupCollapse(e.name),t.next=3,this.itemService.saveConfig(this.config);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"addNewItem",value:function(){if(this.newItemName){var e=new q_;e.name=this.newItemName,e.custom=!0,e.needMore(),this.itemService.addItem(e),this.newItemName="",this.groupItems()}}},{key:"newItemKeyPress",value:function(e){13===e.keyCode&&this.addNewItem()}},{key:"groupItems",value:function(){var e=this.itemService.getItems().filter((function(e){return e.onShoppingList()}));this.groups=this.itemService.groupItems(e,this.config.shoppingConfig.groupBy)}},{key:"hasCompleted",value:function(){return this.groups.some((function(e){return e.items.some((function(e){return e.bought}))}))}},{key:"hasCompletedQuantityBased",value:function(){return this.groups.some((function(e){return e.items.some((function(e){return e.bought&&e.quantityBased}))}))}},{key:"getCompletedQuantityBased",value:function(){var e=[];return this.groups.forEach((function(t){e=e.concat(t.items.filter((function(e){return e.bought&&e.quantityBased})))})),e}},{key:"addBought",value:function(e){var t=this;this.groups.some((function(n){var r=n.items.find((function(t){return t._id===e._id}));if(r)return r.setQuantity(r.quantity+e.quantity),t.itemService.updateItem(r),!0}))}},{key:"complete",value:function(){var e=this;if(this.hasCompletedQuantityBased()){var t=this.modalService.open(ix);t.componentInstance.items=this.getCompletedQuantityBased(),t.result.then((function(t){t&&(t.forEach((function(t){e.addBought(t)})),e.removeCompleted())}))}else this.removeCompleted()}},{key:"removeCompleted",value:function(){var e=this;this.groups.forEach((function(t){t.items.forEach((function(t){t.bought&&(t.quantityBased||t.ok(),t.custom?e.itemService.deleteItem(t):e.itemService.updateItem(t))}))})),this.groupItems()}}]),e}(),Cx.\u0275fac=function(e){return new(e||Cx)(Bo(Lw),Bo(Rv))},Cx.\u0275cmp=mt({type:Cx,selectors:[["shopping-list"]],decls:19,vars:5,consts:[[1,"form-group","my-3"],[1,"row"],[1,"col-sm-3"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"col-9","text-right","mt-2"],["class","btn btn-sm btn-primary",3,"click",4,"ngIf"],[1,"list-group","add-item"],[1,"list-group-item"],[1,"input-group"],[1,"input-group-prepend","add-item-button",3,"click"],[1,"input-group-text"],[1,"fas","fa-fw","fa-plus"],["type","text","placeholder","add custom item",1,"form-control",3,"ngModel","ngModelChange","keypress"],[4,"ngFor","ngForOf"],[3,"ngValue"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"row","group","p-2","sticky-top","bg-light","border-top","border-bottom","my-1",3,"click"],[1,"mr-1"],["class","far fa-fw fa-plus-square",4,"ngIf"],["class","far fa-fw fa-minus-square",4,"ngIf"],["class","list-group",4,"ngIf"],[1,"far","fa-fw","fa-plus-square"],[1,"far","fa-fw","fa-minus-square"],[1,"list-group"],["class","list-group-item","shopping-list-item","",3,"item","itemChange","update",4,"ngFor","ngForOf"],["shopping-list-item","",1,"list-group-item",3,"item","itemChange","update"]],template:function(e,t){1&e&&(Go(0,"div",0),Go(1,"div",1),Go(2,"div",2),Go(3,"label"),Sa(4,"Group by:"),Wo(),Wo(),Wo(),Go(5,"div",1),Go(6,"div",2),Go(7,"select",3),Xo("ngModelChange",(function(e){return t.config.shoppingConfig.groupBy=e}))("change",(function(e){return t.groupByChanged()})),qo(8,vx,2,2,"option",4),Wo(),Wo(),Go(9,"div",5),qo(10,gx,2,0,"button",6),Wo(),Wo(),Wo(),Go(11,"ul",7),Go(12,"li",8),Go(13,"div",9),Go(14,"div",10),Xo("click",(function(e){return t.addNewItem()})),Go(15,"div",11),Ko(16,"i",12),Wo(),Wo(),Go(17,"input",13),Xo("ngModelChange",(function(e){return t.newItemName=e}))("keypress",(function(e){return t.newItemKeyPress(e)})),Wo(),Wo(),Wo(),Wo(),qo(18,kx,8,5,"div",14)),2&e&&(Pr(7),$o("ngModel",t.config.shoppingConfig.groupBy),Pr(1),$o("ngForOf",t.groupByOptions),Pr(2),$o("ngIf",t.hasCompleted()),Pr(7),$o("ngModel",t.newItemName),Pr(1),$o("ngForOf",t.groups))},directives:[wh,Wf,ud,Hc,$c,Uf,Sh,Ih,px],styles:[".group[_ngcontent-%COMP%]{cursor:pointer}"]}),Cx)},{path:"",redirectTo:"/status",pathMatch:"full"}],Ox=((Sx=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:Sx}),Sx.\u0275inj=pe({factory:function(e){return new(e||Sx)},imports:[[x_.forRoot(xx,{enableTracing:!0})],x_]}),Sx),Ex=((wx=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.dataStoreService=n,this.usernameSubject=new A}return _createClass(e,[{key:"getUsername",value:function(){return this.username}},{key:"subscribeToCurrentUserChanges",value:function(e){return this.usernameSubject.subscribe(e)}},{key:"login",value:function(t,n,r){return M_(this,void 0,void 0,regeneratorRuntime.mark((function i(){var o=this;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t){i.next=6;break}return i.next=3,this.http.post(e.getDBSessionURL(r),{name:t,password:n},{withCredentials:!0}).toPromise().then((function(e){return o.postLogin(e,r)}));case 3:i.t0=i.sent,i.next=7;break;case 6:i.t0=(this.postLogin({name:"admin"},r),Promise.resolve());case 7:return i.abrupt("return",i.t0);case 8:case"end":return i.stop()}}),i,this)})))}},{key:"postLogin",value:function(e,t){var n;(null===(n=e)||void 0===n?void 0:n.name)?(this.username=e.name,this.dataStoreService.startCouchDBSync(t)):this.username=void 0,this.dbURL=t,this.usernameSubject.next(this.username)}},{key:"logout",value:function(){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.delete(e.getDBSessionURL(this.dbURL),{withCredentials:!0}).toPromise().then((function(){n.dataStoreService.stopCouchSync(),n.username=void 0,n.dbURL=void 0,n.usernameSubject.next(n.username)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"resumeSession",value:function(){return M_(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dbURL){t.next=4;break}return t.next=3,this.http.get(e.getDBSessionURL(this.dbURL),{withCredentials:!0}).toPromise().then((function(e){var t;return n.postLogin(null===(t=e)||void 0===t?void 0:t.userCtx,n.dbURL)}),(function(){}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})))}}],[{key:"getDBSessionURL",value:function(t){var n=t.lastIndexOf("/"),r=t;return-1!==n&&(r=t.substring(0,n)),r+=e.sessionPath}}]),e}()).sessionPath="/_session",wx.\u0275fac=function(e){return new(e||wx)(Je(df),Je(Dw))},wx.\u0275prov=de({token:wx,factory:wx.\u0275fac,providedIn:"root"}),wx);function Ax(e,t){if(1&e&&(Go(0,"div",17),Sa(1),Wo()),2&e){var n=na();Pr(1),Oa(" ",n.error," ")}}function Tx(e,t){1&e&&Ko(0,"div",18)}function Ix(e,t){1&e&&(Go(0,"span"),Sa(1,"Login"),Wo())}var Rx,Px=((Rx=function(){function e(t,n){_classCallCheck(this,e),this.modal=t,this.userService=n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"inputsValid",value:function(){return this.server}},{key:"login",value:function(){return M_(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.inputsValid(),!e.t0){e.next=5;break}return this.loading=!0,e.next=5,this.userService.login(this.username,this.password,this.server).then((function(){t.modal.close()})).catch((function(e){var n,r;t.error=null===(r=null===(n=e)||void 0===n?void 0:n.error)||void 0===r?void 0:r.reason})).finally((function(){t.loading=!1}));case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Rx)(Bo(Ov),Bo(Ex))},Rx.\u0275cmp=mt({type:Rx,selectors:[["login-dialog"]],decls:24,vars:7,consts:[[3,"ngSubmit"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"form-group"],["for","loginServer"],["id","loginServer","type","url","name","server",1,"form-control",3,"ngModel","ngModelChange"],["for","loginEmail"],["id","loginEmail","type","email","name","username",1,"form-control",3,"ngModel","ngModelChange"],["for","loginPassword"],["id","loginPassword","type","password","name","password",1,"form-control",3,"ngModel","ngModelChange"],["class","text-danger text-center",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border","style","vertical-align: middle;","role","status",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"text-danger","text-center"],["role","status",1,"spinner-border",2,"vertical-align","middle"]],template:function(e,t){1&e&&(Go(0,"form",0),Xo("ngSubmit",(function(e){return t.login()})),Go(1,"div",1),Go(2,"h4",2),Sa(3,"Login"),Wo(),Wo(),Go(4,"div",3),Go(5,"div",4),Go(6,"label",5),Sa(7,"CouchDB database URL"),Wo(),Go(8,"input",6),Xo("ngModelChange",(function(e){return t.server=e})),Wo(),Wo(),Go(9,"div",4),Go(10,"label",7),Sa(11,"CouchDB Username"),Wo(),Go(12,"input",8),Xo("ngModelChange",(function(e){return t.username=e})),Wo(),Wo(),Go(13,"div",4),Go(14,"label",9),Sa(15,"Password"),Wo(),Go(16,"input",10),Xo("ngModelChange",(function(e){return t.password=e})),Wo(),Wo(),qo(17,Ax,2,1,"div",11),Wo(),Go(18,"div",12),Go(19,"button",13),qo(20,Tx,1,0,"div",14),qo(21,Ix,2,0,"span",15),Wo(),Go(22,"button",16),Xo("click",(function(e){return t.modal.close()})),Sa(23,"Cancel"),Wo(),Wo(),Wo()),2&e&&(Pr(8),$o("ngModel",t.server),Pr(4),$o("ngModel",t.username),Pr(4),$o("ngModel",t.password),Pr(1),$o("ngIf",t.error),Pr(2),$o("disabled",t.loading||!t.inputsValid()),Pr(1),$o("ngIf",t.loading),Pr(1),$o("ngIf",!t.loading))},directives:[cd,Kf,ed,Uf,Wf,ud,$c],styles:[".spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}"]}),Rx);function Dx(e,t){if(1&e){var n=Zo();Go(0,"button",3),Xo("click",(function(e){return Vt(n),na().login()})),Go(1,"span",4),Sa(2," Login "),Wo(),Go(3,"span",5),Ko(4,"i",6),Wo(),Wo()}}function jx(e,t){if(1&e){var n=Zo();Go(0,"div",7),Go(1,"button",8),Go(2,"span",4),Sa(3),Wo(),Go(4,"span",5),Ko(5,"i",9),Wo(),Wo(),Go(6,"div",10),Go(7,"button",11),Xo("click",(function(e){return Vt(n),na().logout()})),Sa(8,"Logout"),Wo(),Wo(),Wo()}if(2&e){var r=na();Pr(3),Oa(" ",r.username," ")}}var Mx,Nx=((Mx=function(){function e(t,n,r){_classCallCheck(this,e),this.userService=t,this.zone=n,this.modalService=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.username=this.userService.getUsername(),this.subscription=this.userService.subscribeToCurrentUserChanges({next:function(t){e.zone.run((function(){e.username=t}))}})}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"login",value:function(){this.modalService.open(Px)}},{key:"logout",value:function(){this.userService.logout()}}]),e}()).\u0275fac=function(e){return new(e||Mx)(Bo(Ex),Bo(Du),Bo(Rv))},Mx.\u0275cmp=mt({type:Mx,selectors:[["current-user"]],decls:3,vars:2,consts:[[1,"current-user"],[3,"click",4,"ngIf"],["ngbDropdown","","class","d-inline-block",4,"ngIf"],[3,"click"],[1,"d-none","d-sm-inline"],[1,"d-inline","d-sm-none"],[1,"far","fa-user"],["ngbDropdown","",1,"d-inline-block"],["ngbDropdownToggle",""],[1,"fas","fa-user"],["ngbDropdownMenu",""],["ngbDropdownItem","",3,"click"]],template:function(e,t){1&e&&(Go(0,"div",0),qo(1,Dx,5,0,"button",1),qo(2,jx,9,1,"div",2),Wo()),2&e&&(Pr(1),$o("ngIf",void 0===t.username),Pr(1),$o("ngIf",void 0!==t.username))},directives:[$c,yv,mv,vv,pv],styles:[".current-user[_ngcontent-%COMP%]{margin-right:10px;display:inline-block}.current-user[_ngcontent-%COMP%] > button[_ngcontent-%COMP%], .current-user[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{background:none;border:none;padding:0;cursor:pointer}.current-user[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after, .current-user[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:after{content:normal}.current-user[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{margin-right:5px}"]}),Mx);function Lx(e,t){1&e&&(Go(0,"div",5),Go(1,"div",6),Ko(2,"div",7),Go(3,"span",8),Sa(4,"Loading..."),Wo(),Wo(),Wo())}function Vx(e,t){1&e&&(Go(0,"span",19),Ko(1,"i",20),Ko(2,"i",21),Wo())}function Ux(e,t){if(1&e&&Ko(0,"i",22),2&e){var n=na(2),r=Fo(4);pa(n.getSyncIconClass()),$o("ngbTooltip",r)}}function qx(e,t){if(1&e){var n=Zo();Go(0,"nav",9),Go(1,"button",10),Xo("click",(function(e){Vt(n);var t=na();return t.isMenuCollapsed=!t.isMenuCollapsed})),Ko(2,"span",11),Wo(),Go(3,"a",12),Ko(4,"img",13),Go(5,"span",14),Sa(6,"Householder"),Wo(),Wo(),Go(7,"div",15),Ko(8,"current-user"),qo(9,Vx,3,0,"span",16),qo(10,Ux,1,3,"i",17),Wo(),Ko(11,"div",18),Wo()}if(2&e){var r=na();Pr(9),$o("ngIf",r.isOffline()),Pr(1),$o("ngIf",!r.isOffline())}}var Fx=function(e){return{"d-none":e}};function Bx(e,t){if(1&e){var n=Zo();Go(0,"div",23),Go(1,"div",24),Go(2,"div",25),Go(3,"nav",26),Go(4,"ul",27),Go(5,"li",28),Go(6,"a",29),Xo("click",(function(e){return Vt(n),na().isMenuCollapsed=!0})),Ko(7,"i",30),Sa(8," Stock "),Wo(),Wo(),Go(9,"li",28),Go(10,"a",31),Xo("click",(function(e){return Vt(n),na().isMenuCollapsed=!0})),Ko(11,"i",32),Sa(12," Shopping List "),Wo(),Wo(),Wo(),Wo(),Wo(),Go(13,"div",33),Ko(14,"router-outlet"),Wo(),Wo(),Wo()}if(2&e){var r=na();Pr(2),pa(Hs(2,Fx,r.isMenuCollapsed))}}function Hx(e,t){1&e&&(Go(0,"p"),Sa(1," Sync in progress... "),Wo())}function zx(e,t){if(1&e&&(Go(0,"p"),Sa(1),Wo()),2&e){var n=na(2);Pr(1),xa(n.getLastSynced())}}function $x(e,t){if(1&e&&(Go(0,"p"),Sa(1),Wo()),2&e){var n=na(2);Pr(1),xa(n.getSyncError())}}function Qx(e,t){if(1&e&&(qo(0,Hx,2,0,"p",34),qo(1,zx,2,1,"p",34),qo(2,$x,2,1,"p",34)),2&e){var n=na();$o("ngIf",!n.syncStatus.lastSynced&&!n.syncStatus.syncError&&n.inProgress()),Pr(1),$o("ngIf",n.syncStatus.lastSynced),Pr(1),$o("ngIf",n.syncStatus.syncError)}}function Gx(e,t){if(1&e){var n=Zo();Go(0,"ngb-toast",35),Xo("hide",(function(e){return Vt(n),na().errorsService.pop()})),Sa(1),Wo()}if(2&e){var r=na();$o("delay",1e4),Pr(1),Oa(" ",r.errorsService.peek(),"\n")}}var Wx,Kx,Zx,Jx,Yx=((Jx=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.userService=t,this.itemService=n,this.dataStoreService=r,this.errorsService=i,this.zone=o,this.syncPendingClass="fas fa-sync",this.syncProgressClass="fas fa-sync fa-spin",this.syncErrorClass="text-danger fas fa-exclamation",this.syncSuccessClass="fas fa-cloud",this.roSuccessClass="fas fa-cloud-download-alt",this.loading=!0,this.isMenuCollapsed=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){return M_(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dataStoreService.subscribeToSyncStatus({next:function(e){t.zone.run((function(){t.syncStatus=e}))}}),e.next=3,this.dataStoreService.init();case 3:return e.next=5,this.userService.resumeSession();case 5:return e.next=7,this.itemService.init();case 7:this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})))}},{key:"isOffline",value:function(){return this.syncStatus.status===Pw.Offline}},{key:"inProgress",value:function(){return this.syncStatus.status===Pw.InProgress}},{key:"getSyncIconClass",value:function(){switch(this.syncStatus.status){case Pw.InProgress:return this.syncProgressClass;case Pw.Error:return this.syncErrorClass;case Pw.Synced:return this.syncSuccessClass;case Pw.SyncedReadOnly:return this.roSuccessClass}}},{key:"getLastSynced",value:function(){var e="";return this.syncStatus.status===Pw.SyncedReadOnly?e="Not replicating to cloud. Please renew subscription":this.syncStatus.lastSynced&&(e="Last sync: ",this.syncStatus.syncError&&(e="Last successful sync: "),e+=this.syncStatus.lastSynced.toLocaleString()),e}},{key:"getSyncError",value:function(){return this.syncStatus.syncError?"Error: "+this.syncStatus.syncError:""}}]),e}()).\u0275fac=function(e){return new(e||Jx)(Bo(Ex),Bo(Lw),Bo(Dw),Bo(Nw),Bo(Du))},Jx.\u0275cmp=mt({type:Jx,selectors:[["app-root"]],decls:6,vars:4,consts:[["class","h-100 d-flex align-items-center",4,"ngIf"],["class","top-navbar navbar navbar-expand-md navbar-light bg-light sticky-top border-bottom",4,"ngIf"],["class","container-fluid",4,"ngIf"],["syncStatusContent",""],["class","bg-danger",3,"delay","hide",4,"ngIf"],[1,"h-100","d-flex","align-items-center"],[1,"text-center","loading-message"],["role","status",1,"spinner-border",2,"vertical-align","middle","margin-right","10px"],[1,"align-middle","h1"],[1,"top-navbar","navbar","navbar-expand-md","navbar-light","bg-light","sticky-top","border-bottom"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand"],["src","assets/householder.svg","width","30","height","30","alt","",1,"d-inline-block","align-top"],[1,"ml-2","d-sm-inline","d-none"],[1,"mr-sm-2","order-md-last"],["class","fa-stack fa-fw fa-fh",4,"ngIf"],["class","fa-fw fa-fh","placement","bottom-right",3,"class","ngbTooltip",4,"ngIf"],[1,"navbar-collapse"],[1,"fa-stack","fa-fw","fa-fh"],[1,"fas","fa-cloud","fa-stack-1x"],[1,"fas","fa-slash","fa-stack-1x","text-danger"],["placement","bottom-right",1,"fa-fw","fa-fh",3,"ngbTooltip"],[1,"container-fluid"],[1,"row"],[1,"sidebar","d-md-block","navbar-light","col-md-3","col-lg-2","bg-light","border-right","border-bottom"],[1,"pt-2"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/status","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fas","fa-fw","fa-box","mr-2"],["routerLink","/shoppingList","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fas","fa-fw","fa-shopping-cart","mr-2"],[1,"col-md-9","col-lg-10","pl-3","pb-2","main"],[4,"ngIf"],[1,"bg-danger",3,"delay","hide"]],template:function(e,t){1&e&&(qo(0,Lx,5,0,"div",0),qo(1,qx,12,2,"nav",1),qo(2,Bx,15,4,"div",2),qo(3,Qx,3,3,"ng-template",null,3,lu),qo(5,Gx,2,2,"ngb-toast",4)),2&e&&($o("ngIf",t.loading),Pr(1),$o("ngIf",!t.loading),Pr(1),$o("ngIf",!t.loading),Pr(3),$o("ngIf",t.errorsService.hasErrors()))},directives:[$c,dv,Nx,Zv,o_,f_,p_,$v],styles:[".toast[_ngcontent-%COMP%]{position:fixed;top:0;right:0;margin:.5em;z-index:1200}.top-navbar[_ngcontent-%COMP%]{min-height:4rem}.navbar-toggler[_ngcontent-%COMP%]{font-size:.9rem}.sidebar[_ngcontent-%COMP%]{top:56px;position:fixed;z-index:1021;overflow-y:auto}@media (min-width:768px){.sidebar[_ngcontent-%COMP%]{height:calc(100vh - 4rem);position:-webkit-sticky!important;position:sticky!important}}.sidebar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin-left:-15px;margin-right:-15px;padding-left:15px;padding-right:15px}.sidebar[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:#dee2e6}.main[_ngcontent-%COMP%]{height:calc(100vh - 4rem);overflow-y:auto}"]}),Jx),Xx=((Zx=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:Zx}),Zx.\u0275inj=pe({factory:function(e){return new(e||Zx)},providers:[],imports:[[nl,fd,x_,oS,_v,hg]]}),Zx),eO=((Kx=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:Kx}),Kx.\u0275inj=pe({factory:function(e){return new(e||Kx)},imports:[[nl,fd,pg,x_]]}),Kx),tO=((Wx=function e(){_classCallCheck(this,e)}).\u0275mod=kt({type:Wx,bootstrap:[Yx]}),Wx.\u0275inj=pe({factory:function(e){return new(e||Wx)},providers:[Lw],imports:[[Ml,Af,pg,Xx,eO,Ox]]}),Wx);(function(){if(er)throw new Error("Cannot enable prod mode after platform setup.");Xn=!1})(),Dl().bootstrapModule(tO).catch((function(e){return console.error(e)}))},zXlJ:function(e,t,n){var r=n("JYIv"),i=n("zc1T");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},zc1T:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0;return n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+"-"+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]+n[e[r++]]}},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);